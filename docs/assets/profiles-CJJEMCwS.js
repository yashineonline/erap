import{A as e,O as t,b as n,h as r,i,n as a,r as o,v as s,w as c,x as l,z as u}from"./vendor-BQYTT8JO.js";var d={class:`card bg-base-100 shadow-xl w-full sm:max-w-xl max-h-[80vh] overflow-auto`},f={class:`card-body`},p={class:`flex items-center justify-between gap-3`},m={class:`font-semibold truncate`},h=c({__name:`Modal`,props:{open:{type:Boolean},title:{}},emits:[`close`],setup(i){return(a,o)=>i.open?(t(),l(`div`,{key:0,class:`fixed inset-0 z-50 bg-black/40 flex items-end sm:items-center justify-center p-3`,onClick:o[1]||=r(e=>a.$emit(`close`),[`self`])},[s(`div`,d,[s(`div`,f,[s(`div`,p,[s(`div`,m,u(i.title),1),s(`button`,{class:`btn btn-ghost btn-sm`,onClick:o[0]||=e=>a.$emit(`close`)},`Close`)]),o[2]||=s(`div`,{class:`divider my-2`},null,-1),e(a.$slots,`default`)])])])):n(``,!0)}}),g={meta:`meta:v1`,books:`books:v1`,bookFile:e=>`bf:${e}`,prefs:e=>`prefs:${e}`,sessions:e=>`sess:${e}`,search:e=>`search:${e}`};const _={bg:`#ffffff`,fg:`#111827`,font:`ui-serif, Georgia, "Times New Roman", Times, serif`,fontSizePct:110,lineHeight:1.55,marginEm:1.2,studyMode:!1,textAlign:`justify`,noterefColor:`#2563eb`,noterefUnderline:!0};async function v(){return!!(await o(g.meta)??{}).onboarded}async function y(){let e=await o(g.meta)??{};e.onboarded=!0,await i(g.meta,e)}async function b(){return await o(g.books)??[]}async function x(e){let t=e.map(e=>({...e}));await i(g.books,t)}async function S(e,t){await i(g.bookFile(e),t)}async function C(e){return await o(g.bookFile(e))??null}async function w(e){await x((await b()).filter(t=>t.id!==e)),await a(g.bookFile(e)),await a(g.prefs(e)),await a(g.sessions(e)),await a(g.search(e))}async function T(e){let t=await o(g.prefs(e));return{..._,...t??{}}}async function E(e,t){let n={...t};await i(g.prefs(e),n)}async function D(e){return await o(g.search(e))??null}async function O(e,t){await i(g.search(e),t)}function k(e,t,n){return(e||``).trim().replace(/\s+/g,` `).toLowerCase()===`the quran`?`quran`:`default`}function A(e,t){let n=(t.title||``).trim().replace(/\s+/g,` `).replace(/[.]\s*$/,``),r=(t.section??t.chapter)?.trim(),i=t.verseHint?` (${t.verseHint})`:``;return e===`quran`?`${t.author?`Translated by ${t.author}`:`Translation`}. ${n}${r?`. ${r}`:``}${i}.`.replace(/\s+/g,` `).trim():`${t.author?`${t.author}. `:``}${n}${r?`. ${r}`:``}${i}.`.replace(/\s+/g,` `).trim()}export{v as a,T as c,x as d,E as f,h,w as i,D as l,y as m,k as n,C as o,O as p,_ as r,b as s,A as t,S as u};