var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},c=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},l=(n,r,a)=>(a=n==null?{}:e(i(n)),c(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),u=e=>t=>l(t.default,e),d=(e=>typeof require<`u`?require:typeof Proxy<`u`?new Proxy(e,{get:(e,t)=>(typeof require<`u`?require:e)[t]}):e)(function(e){if(typeof require<`u`)return require.apply(this,arguments);throw Error('Calling `require` for "'+e+"\" in an environment that doesn't expose the `require` function.")});(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();function f(e){let t=Object.create(null);for(let n of e.split(`,`))t[n]=1;return e=>e in t}var p={},m=[],h=()=>{},g=()=>!1,_=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),v=e=>e.startsWith(`onUpdate:`),y=Object.assign,b=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},x=Object.prototype.hasOwnProperty,S=(e,t)=>x.call(e,t),C=Array.isArray,w=e=>N(e)===`[object Map]`,T=e=>N(e)===`[object Set]`,E=e=>N(e)===`[object Date]`,D=e=>typeof e==`function`,O=e=>typeof e==`string`,k=e=>typeof e==`symbol`,A=e=>typeof e==`object`&&!!e,j=e=>(A(e)||D(e))&&D(e.then)&&D(e.catch),M=Object.prototype.toString,N=e=>M.call(e),P=e=>N(e).slice(8,-1),F=e=>N(e)===`[object Object]`,I=e=>O(e)&&e!==`NaN`&&e[0]!==`-`&&``+parseInt(e,10)===e,ee=f(`,key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted`),L=e=>{let t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},te=/-\w/g,R=L(e=>e.replace(te,e=>e.slice(1).toUpperCase())),ne=/\B([A-Z])/g,z=L(e=>e.replace(ne,`-$1`).toLowerCase()),re=L(e=>e.charAt(0).toUpperCase()+e.slice(1)),ie=L(e=>e?`on${re(e)}`:``),B=(e,t)=>!Object.is(e,t),ae=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},oe=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},se=e=>{let t=parseFloat(e);return isNaN(t)?e:t},ce,le=()=>ce||=typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof window<`u`?window:typeof global<`u`?global:{};function ue(e){if(C(e)){let t={};for(let n=0;n<e.length;n++){let r=e[n],i=O(r)?H(r):ue(r);if(i)for(let e in i)t[e]=i[e]}return t}else if(O(e)||A(e))return e}var de=/;(?![^(]*\))/g,fe=/:([^]+)/,V=/\/\*[^]*?\*\//g;function H(e){let t={};return e.replace(V,``).split(de).forEach(e=>{if(e){let n=e.split(fe);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function U(e){let t=``;if(O(e))t=e;else if(C(e))for(let n=0;n<e.length;n++){let r=U(e[n]);r&&(t+=r+` `)}else if(A(e))for(let n in e)e[n]&&(t+=n+` `);return t.trim()}var pe=`itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`,me=f(pe);pe+``;function W(e){return!!e||e===``}function he(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=G(e[r],t[r]);return n}function G(e,t){if(e===t)return!0;let n=E(e),r=E(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=k(e),r=k(t),n||r)return e===t;if(n=C(e),r=C(t),n||r)return n&&r?he(e,t):!1;if(n=A(e),r=A(t),n||r){if(!n||!r||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e){let r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!G(e[n],t[n]))return!1}}return String(e)===String(t)}function K(e,t){return e.findIndex(e=>G(e,t))}var ge=e=>!!(e&&e.__v_isRef===!0),q=e=>O(e)?e:e==null?``:C(e)||A(e)&&(e.toString===M||!D(e.toString))?ge(e)?q(e.value):JSON.stringify(e,J,2):String(e),J=(e,t)=>ge(t)?J(e,t.value):w(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[_e(t,r)+` =>`]=n,e),{})}:T(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>_e(e))}:k(t)?_e(t):A(t)&&!C(t)&&!F(t)?String(t):t,_e=(e,t=``)=>k(e)?`Symbol(${e.description??t})`:e,ve,ye=class{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ve,!e&&ve&&(this.index=(ve.scopes||=[]).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){let t=ve;try{return ve=this,e()}finally{ve=t}}}on(){++this._on===1&&(this.prevScope=ve,ve=this)}off(){this._on>0&&--this._on===0&&(ve=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){let e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}};function be(){return ve}var Y,X=new WeakSet,xe=class{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ve&&ve.active&&ve.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,X.has(this)&&(X.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Te(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Re(this),Oe(this);let e=Y,t=Pe;Y=this,Pe=!0;try{return this.fn()}finally{ke(this),Y=e,Pe=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Me(e);this.deps=this.depsTail=void 0,Re(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?X.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ae(this)&&this.run()}get dirty(){return Ae(this)}},Se=0,Ce,we;function Te(e,t=!1){if(e.flags|=8,t){e.next=we,we=e;return}e.next=Ce,Ce=e}function Ee(){Se++}function De(){if(--Se>0)return;if(we){let e=we;for(we=void 0;e;){let t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;Ce;){let t=Ce;for(Ce=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(t){e||=t}t=n}}if(e)throw e}function Oe(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ke(e){let t,n=e.depsTail,r=n;for(;r;){let e=r.prevDep;r.version===-1?(r===n&&(n=e),Me(r),Ne(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function Ae(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(je(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function je(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ze)||(e.globalVersion=ze,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ae(e))))return;e.flags|=2;let t=e.dep,n=Y,r=Pe;Y=e,Pe=!0;try{Oe(e);let n=e.fn(e._value);(t.version===0||B(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{Y=n,Pe=r,ke(e),e.flags&=-3}}function Me(e,t=!1){let{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)Me(e,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ne(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}var Pe=!0,Fe=[];function Ie(){Fe.push(Pe),Pe=!1}function Le(){let e=Fe.pop();Pe=e===void 0?!0:e}function Re(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let e=Y;Y=void 0;try{t()}finally{Y=e}}}var ze=0,Be=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},Ve=class{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Y||!Pe||Y===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Y)t=this.activeLink=new Be(Y,this),Y.deps?(t.prevDep=Y.depsTail,Y.depsTail.nextDep=t,Y.depsTail=t):Y.deps=Y.depsTail=t,He(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){let e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=Y.depsTail,t.nextDep=void 0,Y.depsTail.nextDep=t,Y.depsTail=t,Y.deps===t&&(Y.deps=e)}return t}trigger(e){this.version++,ze++,this.notify(e)}notify(e){Ee();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{De()}}};function He(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)He(e)}let n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}var Ue=new WeakMap,We=Symbol(``),Ge=Symbol(``),Ke=Symbol(``);function qe(e,t,n){if(Pe&&Y){let t=Ue.get(e);t||Ue.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new Ve),r.map=t,r.key=n),r.track()}}function Je(e,t,n,r,i,a){let o=Ue.get(e);if(!o){ze++;return}let s=e=>{e&&e.trigger()};if(Ee(),t===`clear`)o.forEach(s);else{let i=C(e),a=i&&I(n);if(i&&n===`length`){let e=Number(r);o.forEach((t,n)=>{(n===`length`||n===Ke||!k(n)&&n>=e)&&s(t)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),a&&s(o.get(Ke)),t){case`add`:i?a&&s(o.get(`length`)):(s(o.get(We)),w(e)&&s(o.get(Ge)));break;case`delete`:i||(s(o.get(We)),w(e)&&s(o.get(Ge)));break;case`set`:w(e)&&s(o.get(We));break}}De()}function Ye(e){let t=Lt(e);return t===e?t:(qe(t,`iterate`,Ke),Ft(e)?t:t.map(zt))}function Xe(e){return qe(e=Lt(e),`iterate`,Ke),e}function Ze(e,t){return Pt(e)?Nt(e)?Bt(zt(t)):Bt(t):zt(t)}var Qe={__proto__:null,[Symbol.iterator](){return $e(this,Symbol.iterator,e=>Ze(this,e))},concat(...e){return Ye(this).concat(...e.map(e=>C(e)?Ye(e):e))},entries(){return $e(this,`entries`,e=>(e[1]=Ze(this,e[1]),e))},every(e,t){return tt(this,`every`,e,t,void 0,arguments)},filter(e,t){return tt(this,`filter`,e,t,e=>e.map(e=>Ze(this,e)),arguments)},find(e,t){return tt(this,`find`,e,t,e=>Ze(this,e),arguments)},findIndex(e,t){return tt(this,`findIndex`,e,t,void 0,arguments)},findLast(e,t){return tt(this,`findLast`,e,t,e=>Ze(this,e),arguments)},findLastIndex(e,t){return tt(this,`findLastIndex`,e,t,void 0,arguments)},forEach(e,t){return tt(this,`forEach`,e,t,void 0,arguments)},includes(...e){return rt(this,`includes`,e)},indexOf(...e){return rt(this,`indexOf`,e)},join(e){return Ye(this).join(e)},lastIndexOf(...e){return rt(this,`lastIndexOf`,e)},map(e,t){return tt(this,`map`,e,t,void 0,arguments)},pop(){return it(this,`pop`)},push(...e){return it(this,`push`,e)},reduce(e,...t){return nt(this,`reduce`,e,t)},reduceRight(e,...t){return nt(this,`reduceRight`,e,t)},shift(){return it(this,`shift`)},some(e,t){return tt(this,`some`,e,t,void 0,arguments)},splice(...e){return it(this,`splice`,e)},toReversed(){return Ye(this).toReversed()},toSorted(e){return Ye(this).toSorted(e)},toSpliced(...e){return Ye(this).toSpliced(...e)},unshift(...e){return it(this,`unshift`,e)},values(){return $e(this,`values`,e=>Ze(this,e))}};function $e(e,t,n){let r=Xe(e),i=r[t]();return r!==e&&!Ft(e)&&(i._next=i.next,i.next=()=>{let e=i._next();return e.done||(e.value=n(e.value)),e}),i}var et=Array.prototype;function tt(e,t,n,r,i,a){let o=Xe(e),s=o!==e&&!Ft(e),c=o[t];if(c!==et[t]){let t=c.apply(e,a);return s?zt(t):t}let l=n;o!==e&&(s?l=function(t,r){return n.call(this,Ze(e,t),r,e)}:n.length>2&&(l=function(t,r){return n.call(this,t,r,e)}));let u=c.call(o,l,r);return s&&i?i(u):u}function nt(e,t,n,r){let i=Xe(e),a=n;return i!==e&&(Ft(e)?n.length>3&&(a=function(t,r,i){return n.call(this,t,r,i,e)}):a=function(t,r,i){return n.call(this,t,Ze(e,r),i,e)}),i[t](a,...r)}function rt(e,t,n){let r=Lt(e);qe(r,`iterate`,Ke);let i=r[t](...n);return(i===-1||i===!1)&&It(n[0])?(n[0]=Lt(n[0]),r[t](...n)):i}function it(e,t,n=[]){Ie(),Ee();let r=Lt(e)[t].apply(e,n);return De(),Le(),r}var at=f(`__proto__,__v_isRef,__isVue`),ot=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!==`arguments`&&e!==`caller`).map(e=>Symbol[e]).filter(k));function st(e){k(e)||(e=String(e));let t=Lt(this);return qe(t,`has`,e),t.hasOwnProperty(e)}var ct=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t===`__v_skip`)return e.__v_skip;let r=this._isReadonly,i=this._isShallow;if(t===`__v_isReactive`)return!r;if(t===`__v_isReadonly`)return r;if(t===`__v_isShallow`)return i;if(t===`__v_raw`)return n===(r?i?Et:Tt:i?wt:Ct).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;let a=C(e);if(!r){let e;if(a&&(e=Qe[t]))return e;if(t===`hasOwnProperty`)return st}let o=Reflect.get(e,t,Vt(e)?e:n);if((k(t)?ot.has(t):at(t))||(r||qe(e,`get`,t),i))return o;if(Vt(o)){let e=a&&I(t)?o:o.value;return r&&A(e)?jt(e):e}return A(o)?r?jt(o):kt(o):o}},lt=class extends ct{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t],a=C(e)&&I(t);if(!this._isShallow){let e=Pt(i);if(!Ft(n)&&!Pt(n)&&(i=Lt(i),n=Lt(n)),!a&&Vt(i)&&!Vt(n))return e||(i.value=n),!0}let o=a?Number(t)<e.length:S(e,t),s=Reflect.set(e,t,n,Vt(e)?e:r);return e===Lt(r)&&(o?B(n,i)&&Je(e,`set`,t,n,i):Je(e,`add`,t,n)),s}deleteProperty(e,t){let n=S(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&Je(e,`delete`,t,void 0,r),i}has(e,t){let n=Reflect.has(e,t);return(!k(t)||!ot.has(t))&&qe(e,`has`,t),n}ownKeys(e){return qe(e,`iterate`,C(e)?`length`:We),Reflect.ownKeys(e)}},ut=class extends ct{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}},dt=new lt,ft=new ut,pt=new lt(!0),mt=e=>e,ht=e=>Reflect.getPrototypeOf(e);function gt(e,t,n){return function(...r){let i=this.__v_raw,a=Lt(i),o=w(a),s=e===`entries`||e===Symbol.iterator&&o,c=e===`keys`&&o,l=i[e](...r),u=n?mt:t?Bt:zt;return!t&&qe(a,`iterate`,c?Ge:We),{next(){let{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function _t(e){return function(...t){return e===`delete`?!1:e===`clear`?void 0:this}}function vt(e,t){let n={get(n){let r=this.__v_raw,i=Lt(r),a=Lt(n);e||(B(n,a)&&qe(i,`get`,n),qe(i,`get`,a));let{has:o}=ht(i),s=t?mt:e?Bt:zt;if(o.call(i,n))return s(r.get(n));if(o.call(i,a))return s(r.get(a));r!==i&&r.get(n)},get size(){let t=this.__v_raw;return!e&&qe(Lt(t),`iterate`,We),t.size},has(t){let n=this.__v_raw,r=Lt(n),i=Lt(t);return e||(B(t,i)&&qe(r,`has`,t),qe(r,`has`,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){let i=this,a=i.__v_raw,o=Lt(a),s=t?mt:e?Bt:zt;return!e&&qe(o,`iterate`,We),a.forEach((e,t)=>n.call(r,s(e),s(t),i))}};return y(n,e?{add:_t(`add`),set:_t(`set`),delete:_t(`delete`),clear:_t(`clear`)}:{add(e){!t&&!Ft(e)&&!Pt(e)&&(e=Lt(e));let n=Lt(this);return ht(n).has.call(n,e)||(n.add(e),Je(n,`add`,e,e)),this},set(e,n){!t&&!Ft(n)&&!Pt(n)&&(n=Lt(n));let r=Lt(this),{has:i,get:a}=ht(r),o=i.call(r,e);o||=(e=Lt(e),i.call(r,e));let s=a.call(r,e);return r.set(e,n),o?B(n,s)&&Je(r,`set`,e,n,s):Je(r,`add`,e,n),this},delete(e){let t=Lt(this),{has:n,get:r}=ht(t),i=n.call(t,e);i||=(e=Lt(e),n.call(t,e));let a=r?r.call(t,e):void 0,o=t.delete(e);return i&&Je(t,`delete`,e,void 0,a),o},clear(){let e=Lt(this),t=e.size!==0,n=e.clear();return t&&Je(e,`clear`,void 0,void 0,void 0),n}}),[`keys`,`values`,`entries`,Symbol.iterator].forEach(r=>{n[r]=gt(r,e,t)}),n}function yt(e,t){let n=vt(e,t);return(t,r,i)=>r===`__v_isReactive`?!e:r===`__v_isReadonly`?e:r===`__v_raw`?t:Reflect.get(S(n,r)&&r in t?n:t,r,i)}var bt={get:yt(!1,!1)},xt={get:yt(!1,!0)},St={get:yt(!0,!1)},Ct=new WeakMap,wt=new WeakMap,Tt=new WeakMap,Et=new WeakMap;function Dt(e){switch(e){case`Object`:case`Array`:return 1;case`Map`:case`Set`:case`WeakMap`:case`WeakSet`:return 2;default:return 0}}function Ot(e){return e.__v_skip||!Object.isExtensible(e)?0:Dt(P(e))}function kt(e){return Pt(e)?e:Mt(e,!1,dt,bt,Ct)}function At(e){return Mt(e,!1,pt,xt,wt)}function jt(e){return Mt(e,!0,ft,St,Tt)}function Mt(e,t,n,r,i){if(!A(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let a=Ot(e);if(a===0)return e;let o=i.get(e);if(o)return o;let s=new Proxy(e,a===2?r:n);return i.set(e,s),s}function Nt(e){return Pt(e)?Nt(e.__v_raw):!!(e&&e.__v_isReactive)}function Pt(e){return!!(e&&e.__v_isReadonly)}function Ft(e){return!!(e&&e.__v_isShallow)}function It(e){return e?!!e.__v_raw:!1}function Lt(e){let t=e&&e.__v_raw;return t?Lt(t):e}function Rt(e){return!S(e,`__v_skip`)&&Object.isExtensible(e)&&oe(e,`__v_skip`,!0),e}var zt=e=>A(e)?kt(e):e,Bt=e=>A(e)?jt(e):e;function Vt(e){return e?e.__v_isRef===!0:!1}function Ht(e){return Wt(e,!1)}function Ut(e){return Wt(e,!0)}function Wt(e,t){return Vt(e)?e:new Gt(e,t)}var Gt=class{constructor(e,t){this.dep=new Ve,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Lt(e),this._value=t?e:zt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){let t=this._rawValue,n=this.__v_isShallow||Ft(e)||Pt(e);e=n?e:Lt(e),B(e,t)&&(this._rawValue=e,this._value=n?e:zt(e),this.dep.trigger())}};function Kt(e){return Vt(e)?e.value:e}var qt={get:(e,t,n)=>t===`__v_raw`?e:Kt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{let i=e[t];return Vt(i)&&!Vt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Jt(e){return Nt(e)?e:new Proxy(e,qt)}var Yt=class{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ve(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ze-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Y!==this)return Te(this,!0),!0}get value(){let e=this.dep.track();return je(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}};function Xt(e,t,n=!1){let r,i;return D(e)?r=e:(r=e.get,i=e.set),new Yt(r,i,n)}var Zt={},Qt=new WeakMap,$t=void 0;function en(e,t=!1,n=$t){if(n){let t=Qt.get(n);t||Qt.set(n,t=[]),t.push(e)}}function tn(e,t,n=p){let{immediate:r,deep:i,once:a,scheduler:o,augmentJob:s,call:c}=n,l=e=>i?e:Ft(e)||i===!1||i===0?nn(e,1):nn(e),u,d,f,m,g=!1,_=!1;if(Vt(e)?(d=()=>e.value,g=Ft(e)):Nt(e)?(d=()=>l(e),g=!0):C(e)?(_=!0,g=e.some(e=>Nt(e)||Ft(e)),d=()=>e.map(e=>{if(Vt(e))return e.value;if(Nt(e))return l(e);if(D(e))return c?c(e,2):e()})):d=D(e)?t?c?()=>c(e,2):e:()=>{if(f){Ie();try{f()}finally{Le()}}let t=$t;$t=u;try{return c?c(e,3,[m]):e(m)}finally{$t=t}}:h,t&&i){let e=d,t=i===!0?1/0:i;d=()=>nn(e(),t)}let v=be(),y=()=>{u.stop(),v&&v.active&&b(v.effects,u)};if(a&&t){let e=t;t=(...t)=>{e(...t),y()}}let x=_?Array(e.length).fill(Zt):Zt,S=e=>{if(!(!(u.flags&1)||!u.dirty&&!e))if(t){let e=u.run();if(i||g||(_?e.some((e,t)=>B(e,x[t])):B(e,x))){f&&f();let n=$t;$t=u;try{let n=[e,x===Zt?void 0:_&&x[0]===Zt?[]:x,m];x=e,c?c(t,3,n):t(...n)}finally{$t=n}}}else u.run()};return s&&s(S),u=new xe(d),u.scheduler=o?()=>o(S,!1):S,m=e=>en(e,!1,u),f=u.onStop=()=>{let e=Qt.get(u);if(e){if(c)c(e,4);else for(let t of e)t();Qt.delete(u)}},t?r?S(!0):x=u.run():o?o(S.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function nn(e,t=1/0,n){if(t<=0||!A(e)||e.__v_skip||(n||=new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Vt(e))nn(e.value,t,n);else if(C(e))for(let r=0;r<e.length;r++)nn(e[r],t,n);else if(T(e)||w(e))e.forEach(e=>{nn(e,t,n)});else if(F(e)){for(let r in e)nn(e[r],t,n);for(let r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&nn(e[r],t,n)}return e}function rn(e,t,n,r){try{return r?e(...r):e()}catch(e){on(e,t,n)}}function an(e,t,n,r){if(D(e)){let i=rn(e,t,n,r);return i&&j(i)&&i.catch(e=>{on(e,t,n)}),i}if(C(e)){let i=[];for(let a=0;a<e.length;a++)i.push(an(e[a],t,n,r));return i}}function on(e,t,n,r=!0){let i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||p;if(t){let r=t.parent,i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){let t=r.ec;if(t){for(let n=0;n<t.length;n++)if(t[n](e,i,o)===!1)return}r=r.parent}if(a){Ie(),rn(a,null,10,[e,i,o]),Le();return}}sn(e,n,i,r,o)}function sn(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}var cn=[],ln=-1,un=[],dn=null,fn=0,pn=Promise.resolve(),mn=null;function hn(e){let t=mn||pn;return e?t.then(this?e.bind(this):e):t}function gn(e){let t=ln+1,n=cn.length;for(;t<n;){let r=t+n>>>1,i=cn[r],a=Sn(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function _n(e){if(!(e.flags&1)){let t=Sn(e),n=cn[cn.length-1];!n||!(e.flags&2)&&t>=Sn(n)?cn.push(e):cn.splice(gn(t),0,e),e.flags|=1,vn()}}function vn(){mn||=pn.then(Cn)}function yn(e){C(e)?un.push(...e):dn&&e.id===-1?dn.splice(fn+1,0,e):e.flags&1||(un.push(e),e.flags|=1),vn()}function bn(e,t,n=ln+1){for(;n<cn.length;n++){let t=cn[n];if(t&&t.flags&2){if(e&&t.id!==e.uid)continue;cn.splice(n,1),n--,t.flags&4&&(t.flags&=-2),t(),t.flags&4||(t.flags&=-2)}}}function xn(e){if(un.length){let e=[...new Set(un)].sort((e,t)=>Sn(e)-Sn(t));if(un.length=0,dn){dn.push(...e);return}for(dn=e,fn=0;fn<dn.length;fn++){let e=dn[fn];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}dn=null,fn=0}}var Sn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Cn(e){try{for(ln=0;ln<cn.length;ln++){let e=cn[ln];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),rn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ln<cn.length;ln++){let e=cn[ln];e&&(e.flags&=-2)}ln=-1,cn.length=0,xn(e),mn=null,(cn.length||un.length)&&Cn(e)}}var wn=null,Tn=null;function En(e){let t=wn;return wn=e,Tn=e&&e.type.__scopeId||null,t}function Dn(e,t=wn,n){if(!t||e._n)return e;let r=(...n)=>{r._d&&zi(-1);let i=En(t),a;try{a=e(...n)}finally{En(i),r._d&&zi(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function On(e,t){if(wn===null)return e;let n=Ca(wn),r=e.dirs||=[];for(let e=0;e<t.length;e++){let[i,a,o,s=p]=t[e];i&&(D(i)&&(i={mounted:i,updated:i}),i.deep&&nn(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:o,modifiers:s}))}return e}function kn(e,t,n,r){let i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){let s=i[o];a&&(s.oldValue=a[o].value);let c=s.dir[r];c&&(Ie(),an(c,n,8,[e.el,s,e,t]),Le())}}var An=Symbol(`_vte`),jn=e=>e.__isTeleport,Mn=Symbol(`_leaveCb`);function Nn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Nn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Pn(e,t){return D(e)?(()=>y({name:e.name},t,{setup:e}))():e}function Fn(e){e.ids=[e.ids[0]+ e.ids[2]+++`-`,0,0]}var In=new WeakMap;function Ln(e,t,n,r,i=!1){if(C(e)){e.forEach((e,a)=>Ln(e,t&&(C(t)?t[a]:t),n,r,i));return}if(zn(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ln(e,t,n,r.component.subTree);return}let a=r.shapeFlag&4?Ca(r.component):r.el,o=i?null:a,{i:s,r:c}=e,l=t&&t.r,u=s.refs===p?s.refs={}:s.refs,d=s.setupState,f=Lt(d),m=d===p?g:e=>S(f,e),h=e=>!0;if(l!=null&&l!==c){if(Rn(t),O(l))u[l]=null,m(l)&&(d[l]=null);else if(Vt(l)){h(l)&&(l.value=null);let e=t;e.k&&(u[e.k]=null)}}if(D(c))rn(c,s,12,[o,u]);else{let t=O(c),r=Vt(c);if(t||r){let s=()=>{if(e.f){let n=t?m(c)?d[c]:u[c]:h(c)||!e.k?c.value:u[e.k];if(i)C(n)&&b(n,a);else if(C(n))n.includes(a)||n.push(a);else if(t)u[c]=[a],m(c)&&(d[c]=u[c]);else{let t=[a];h(c)&&(c.value=t),e.k&&(u[e.k]=t)}}else t?(u[c]=o,m(c)&&(d[c]=o)):r&&(h(c)&&(c.value=o),e.k&&(u[e.k]=o))};if(o){let t=()=>{s(),In.delete(e)};t.id=-1,In.set(e,t),vi(t,n)}else Rn(e),s()}}}function Rn(e){let t=In.get(e);t&&(t.flags|=8,In.delete(e))}le().requestIdleCallback,le().cancelIdleCallback;var zn=e=>!!e.type.__asyncLoader,Bn=e=>e.type.__isKeepAlive;function Vn(e,t){Un(e,`a`,t)}function Hn(e,t){Un(e,`da`,t)}function Un(e,t,n=sa){let r=e.__wdc||=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()};if(Gn(t,r,n),n){let e=n.parent;for(;e&&e.parent;)Bn(e.parent.vnode)&&Wn(r,t,n,e),e=e.parent}}function Wn(e,t,n,r){let i=Gn(t,e,r,!0);Qn(()=>{b(r[t],i)},n)}function Gn(e,t,n=sa,r=!1){if(n){let i=n[e]||(n[e]=[]),a=t.__weh||=(...r)=>{Ie();let i=da(n),a=an(t,n,e,r);return i(),Le(),a};return r?i.unshift(a):i.push(a),a}}var Kn=e=>(t,n=sa)=>{(!ma||e===`sp`)&&Gn(e,(...e)=>t(...e),n)},qn=Kn(`bm`),Jn=Kn(`m`),Yn=Kn(`bu`),Xn=Kn(`u`),Zn=Kn(`bum`),Qn=Kn(`um`),$n=Kn(`sp`),er=Kn(`rtg`),tr=Kn(`rtc`);function nr(e,t=sa){Gn(`ec`,e,t)}var rr=`components`;function ir(e,t){return or(rr,e,!0,t)||e}var ar=Symbol.for(`v-ndc`);function or(e,t,n=!0,r=!1){let i=wn||sa;if(i){let n=i.type;if(e===rr){let e=wa(n,!1);if(e&&(e===t||e===R(t)||e===re(R(t))))return n}let a=sr(i[e]||n[e],t)||sr(i.appContext[e],t);return!a&&r?n:a}}function sr(e,t){return e&&(e[t]||e[R(t)]||e[re(R(t))])}function cr(e,t,n,r){let i,a=n&&n[r],o=C(e);if(o||O(e)){let n=o&&Nt(e),r=!1,s=!1;n&&(r=!Ft(e),s=Pt(e),e=Xe(e)),i=Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(r?s?Bt(zt(e[n])):zt(e[n]):e[n],n,void 0,a&&a[n])}else if(typeof e==`number`){i=Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if(A(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,a&&a[n]));else{let n=Object.keys(e);i=Array(n.length);for(let r=0,o=n.length;r<o;r++){let o=n[r];i[r]=t(e[o],o,r,a&&a[r])}}else i=[];return n&&(n[r]=i),i}function lr(e,t,n={},r,i){if(wn.ce||wn.parent&&zn(wn.parent)&&wn.parent.ce){let e=Object.keys(n).length>0;return t!==`default`&&(n.name=t),Ii(),Hi(Ai,null,[qi(`slot`,n,r&&r())],e?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),Ii();let o=a&&ur(a(n)),s=n.key||o&&o.key,c=Hi(Ai,{key:(s&&!k(s)?s:`_${t}`)+(!o&&r?`_fb`:``)},o||(r?r():[]),o&&e._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+`-s`]),a&&a._c&&(a._d=!0),c}function ur(e){return e.some(e=>Ui(e)?!(e.type===Mi||e.type===Ai&&!ur(e.children)):!0)?e:null}var dr=e=>e?pa(e)?Ca(e):dr(e.parent):null,fr=y(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>dr(e.parent),$root:e=>dr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>xr(e),$forceUpdate:e=>e.f||=()=>{_n(e.update)},$nextTick:e=>e.n||=hn.bind(e.proxy),$watch:e=>Vr.bind(e)}),pr=(e,t)=>e!==p&&!e.__isScriptSetup&&S(e,t),mr={get({_:e},t){if(t===`__v_skip`)return!0;let{ctx:n,setupState:r,data:i,props:a,accessCache:o,type:s,appContext:c}=e;if(t[0]!==`$`){let e=o[t];if(e!==void 0)switch(e){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else if(pr(r,t))return o[t]=1,r[t];else if(i!==p&&S(i,t))return o[t]=2,i[t];else if(S(a,t))return o[t]=3,a[t];else if(n!==p&&S(n,t))return o[t]=4,n[t];else gr&&(o[t]=0)}let l=fr[t],u,d;if(l)return t===`$attrs`&&qe(e.attrs,`get`,``),l(e);if((u=s.__cssModules)&&(u=u[t]))return u;if(n!==p&&S(n,t))return o[t]=4,n[t];if(d=c.config.globalProperties,S(d,t))return d[t]},set({_:e},t,n){let{data:r,setupState:i,ctx:a}=e;return pr(i,t)?(i[t]=n,!0):r!==p&&S(r,t)?(r[t]=n,!0):S(e.props,t)||t[0]===`$`&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,props:a,type:o}},s){let c;return!!(n[s]||e!==p&&s[0]!==`$`&&S(e,s)||pr(t,s)||S(a,s)||S(r,s)||S(fr,s)||S(i.config.globalProperties,s)||(c=o.__cssModules)&&c[s])},defineProperty(e,t,n){return n.get==null?S(n,`value`)&&this.set(e,t,n.value,null):e._.accessCache[t]=0,Reflect.defineProperty(e,t,n)}};function hr(e){return C(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}var gr=!0;function _r(e){let t=xr(e),n=e.proxy,r=e.ctx;gr=!1,t.beforeCreate&&yr(t.beforeCreate,e,`bc`);let{data:i,computed:a,methods:o,watch:s,provide:c,inject:l,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:_,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:x,render:S,renderTracked:w,renderTriggered:T,errorCaptured:E,serverPrefetch:O,expose:k,inheritAttrs:j,components:M,directives:N,filters:P}=t;if(l&&vr(l,r,null),o)for(let e in o){let t=o[e];D(t)&&(r[e]=t.bind(n))}if(i){let t=i.call(n,n);A(t)&&(e.data=kt(t))}if(gr=!0,a)for(let e in a){let t=a[e],i=Ea({get:D(t)?t.bind(n,n):D(t.get)?t.get.bind(n,n):h,set:!D(t)&&D(t.set)?t.set.bind(n):h});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(s)for(let e in s)br(s[e],r,n,e);if(c){let e=D(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{Fr(t,e[t])})}u&&yr(u,e,`c`);function F(e,t){C(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(F(qn,d),F(Jn,f),F(Yn,p),F(Xn,m),F(Vn,g),F(Hn,_),F(nr,E),F(tr,w),F(er,T),F(Zn,y),F(Qn,x),F($n,O),C(k))if(k.length){let t=e.exposed||={};k.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||={};S&&e.render===h&&(e.render=S),j!=null&&(e.inheritAttrs=j),M&&(e.components=M),N&&(e.directives=N),O&&Fn(e)}function vr(e,t,n=h){for(let n in C(e)&&(e=Er(e)),e){let r=e[n],i;i=A(r)?`default`in r?Ir(r.from||n,r.default,!0):Ir(r.from||n):Ir(r),Vt(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}function yr(e,t,n){an(C(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function br(e,t,n,r){let i=r.includes(`.`)?Hr(n,r):()=>n[r];if(O(e)){let n=t[e];D(n)&&zr(i,n)}else if(D(e))zr(i,e.bind(n));else if(A(e))if(C(e))e.forEach(e=>br(e,t,n,r));else{let r=D(e.handler)?e.handler.bind(n):t[e.handler];D(r)&&zr(i,r,e)}}function xr(e){let t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t),c;return s?c=s:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(e=>Sr(c,e,o,!0)),Sr(c,t,o)),A(t)&&a.set(t,c),c}function Sr(e,t,n,r=!1){let{mixins:i,extends:a}=t;for(let o in a&&Sr(e,a,n,!0),i&&i.forEach(t=>Sr(e,t,n,!0)),t)if(!(r&&o===`expose`)){let r=Cr[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}var Cr={data:wr,props:kr,emits:kr,methods:Or,computed:Or,beforeCreate:Dr,created:Dr,beforeMount:Dr,mounted:Dr,beforeUpdate:Dr,updated:Dr,beforeDestroy:Dr,beforeUnmount:Dr,destroyed:Dr,unmounted:Dr,activated:Dr,deactivated:Dr,errorCaptured:Dr,serverPrefetch:Dr,components:Or,directives:Or,watch:Ar,provide:wr,inject:Tr};function wr(e,t){return t?e?function(){return y(D(e)?e.call(this,this):e,D(t)?t.call(this,this):t)}:t:e}function Tr(e,t){return Or(Er(e),Er(t))}function Er(e){if(C(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Dr(e,t){return e?[...new Set([].concat(e,t))]:t}function Or(e,t){return e?y(Object.create(null),e,t):t}function kr(e,t){return e?C(e)&&C(t)?[...new Set([...e,...t])]:y(Object.create(null),hr(e),hr(t??{})):t}function Ar(e,t){if(!e)return t;if(!t)return e;let n=y(Object.create(null),e);for(let r in t)n[r]=Dr(e[r],t[r]);return n}function jr(){return{app:null,config:{isNativeTag:g,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var Mr=0;function Nr(e,t){return function(n,r=null){D(n)||(n=y({},n)),r!=null&&!A(r)&&(r=null);let i=jr(),a=new WeakSet,o=[],s=!1,c=i.app={_uid:Mr++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Oa,get config(){return i.config},set config(e){},use(e,...t){return a.has(e)||(e&&D(e.install)?(a.add(e),e.install(c,...t)):D(e)&&(a.add(e),e(c,...t))),c},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),c},component(e,t){return t?(i.components[e]=t,c):i.components[e]},directive(e,t){return t?(i.directives[e]=t,c):i.directives[e]},mount(a,o,l){if(!s){let u=c._ceVNode||qi(n,r);return u.appContext=i,l===!0?l=`svg`:l===!1&&(l=void 0),o&&t?t(u,a):e(u,a,l),s=!0,c._container=a,a.__vue_app__=c,Ca(u.component)}},onUnmount(e){o.push(e)},unmount(){s&&(an(o,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return i.provides[e]=t,c},runWithContext(e){let t=Pr;Pr=c;try{return e()}finally{Pr=t}}};return c}}var Pr=null;function Fr(e,t){if(sa){let n=sa.provides,r=sa.parent&&sa.parent.provides;r===n&&(n=sa.provides=Object.create(r)),n[e]=t}}function Ir(e,t,n=!1){let r=ca();if(r||Pr){let i=Pr?Pr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&D(t)?t.call(r&&r.proxy):t}}var Lr=Symbol.for(`v-scx`),Rr=()=>Ir(Lr);function zr(e,t,n){return Br(e,t,n)}function Br(e,t,n=p){let{immediate:r,deep:i,flush:a,once:o}=n,s=y({},n),c=t&&r||!t&&a!==`post`,l;if(ma){if(a===`sync`){let e=Rr();l=e.__watcherHandles||=[]}else if(!c){let e=()=>{};return e.stop=h,e.resume=h,e.pause=h,e}}let u=sa;s.call=(e,t,n)=>an(e,u,t,n);let d=!1;a===`post`?s.scheduler=e=>{vi(e,u&&u.suspense)}:a!==`sync`&&(d=!0,s.scheduler=(e,t)=>{t?e():_n(e)}),s.augmentJob=e=>{t&&(e.flags|=4),d&&(e.flags|=2,u&&(e.id=u.uid,e.i=u))};let f=tn(e,t,s);return ma&&(l?l.push(f):c&&f()),f}function Vr(e,t,n){let r=this.proxy,i=O(e)?e.includes(`.`)?Hr(r,e):()=>r[e]:e.bind(r,r),a;D(t)?a=t:(a=t.handler,n=t);let o=da(this),s=Br(i,a.bind(r),n);return o(),s}function Hr(e,t){let n=t.split(`.`);return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}var Ur=(e,t)=>t===`modelValue`||t===`model-value`?e.modelModifiers:e[`${t}Modifiers`]||e[`${R(t)}Modifiers`]||e[`${z(t)}Modifiers`];function Wr(e,t,...n){if(e.isUnmounted)return;let r=e.vnode.props||p,i=n,a=t.startsWith(`update:`),o=a&&Ur(r,t.slice(7));o&&(o.trim&&(i=n.map(e=>O(e)?e.trim():e)),o.number&&(i=n.map(se)));let s,c=r[s=ie(t)]||r[s=ie(R(t))];!c&&a&&(c=r[s=ie(z(t))]),c&&an(c,e,6,i);let l=r[s+`Once`];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,an(l,e,6,i)}}var Gr=new WeakMap;function Kr(e,t,n=!1){let r=n?Gr:t.emitsCache,i=r.get(e);if(i!==void 0)return i;let a=e.emits,o={},s=!1;if(!D(e)){let r=e=>{let n=Kr(e,t,!0);n&&(s=!0,y(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!a&&!s?(A(e)&&r.set(e,null),null):(C(a)?a.forEach(e=>o[e]=null):y(o,a),A(e)&&r.set(e,o),o)}function qr(e,t){return!e||!_(t)?!1:(t=t.slice(2).replace(/Once$/,``),S(e,t[0].toLowerCase()+t.slice(1))||S(e,z(t))||S(e,t))}function Jr(e){let{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:c,render:l,renderCache:u,props:d,data:f,setupState:p,ctx:m,inheritAttrs:h}=e,g=En(e),_,y;try{if(n.shapeFlag&4){let e=i||r,t=e;_=$i(l.call(t,e,u,d,p,f,m)),y=s}else{let e=t;_=$i(e.length>1?e(d,{attrs:s,slots:o,emit:c}):e(d,null)),y=t.props?s:Yr(s)}}catch(t){Pi.length=0,on(t,e,1),_=qi(Mi)}let b=_;if(y&&h!==!1){let e=Object.keys(y),{shapeFlag:t}=b;e.length&&t&7&&(a&&e.some(v)&&(y=Xr(y,a)),b=Xi(b,y,!1,!0))}return n.dirs&&(b=Xi(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Nn(b,n.transition),_=b,En(g),_}var Yr=e=>{let t;for(let n in e)(n===`class`||n===`style`||_(n))&&((t||={})[n]=e[n]);return t},Xr=(e,t)=>{let n={};for(let r in e)(!v(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Zr(e,t,n){let{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:c}=t,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Qr(r,o,l):!!o;if(c&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t];if(o[n]!==r[n]&&!qr(l,n))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?Qr(r,o,l):!0:!!o;return!1}function Qr(e,t,n){let r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){let a=r[i];if(t[a]!==e[a]&&!qr(n,a))return!0}return!1}function $r({vnode:e,parent:t},n){for(;t;){let r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}var ei={},ti=()=>Object.create(ei),ni=e=>Object.getPrototypeOf(e)===ei;function ri(e,t,n,r=!1){let i={},a=ti();for(let n in e.propsDefaults=Object.create(null),ai(e,t,i,a),e.propsOptions[0])n in i||(i[n]=void 0);n?e.props=r?i:At(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function ii(e,t,n,r){let{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=Lt(i),[c]=e.propsOptions,l=!1;if((r||o>0)&&!(o&16)){if(o&8){let n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(qr(e.emitsOptions,o))continue;let u=t[o];if(c)if(S(a,o))u!==a[o]&&(a[o]=u,l=!0);else{let t=R(o);i[t]=oi(c,s,t,u,e,!1)}else u!==a[o]&&(a[o]=u,l=!0)}}}else{ai(e,t,i,a)&&(l=!0);let r;for(let a in s)(!t||!S(t,a)&&((r=z(a))===a||!S(t,r)))&&(c?n&&(n[a]!==void 0||n[r]!==void 0)&&(i[a]=oi(c,s,a,void 0,e,!0)):delete i[a]);if(a!==s)for(let e in a)(!t||!S(t,e))&&(delete a[e],l=!0)}l&&Je(e.attrs,`set`,``)}function ai(e,t,n,r){let[i,a]=e.propsOptions,o=!1,s;if(t)for(let c in t){if(ee(c))continue;let l=t[c],u;i&&S(i,u=R(c))?!a||!a.includes(u)?n[u]=l:(s||={})[u]=l:qr(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(a){let t=Lt(n),r=s||p;for(let o=0;o<a.length;o++){let s=a[o];n[s]=oi(i,t,s,r[s],e,!S(r,s))}}return o}function oi(e,t,n,r,i,a){let o=e[n];if(o!=null){let e=S(o,`default`);if(e&&r===void 0){let e=o.default;if(o.type!==Function&&!o.skipFactory&&D(e)){let{propsDefaults:a}=i;if(n in a)r=a[n];else{let o=da(i);r=a[n]=e.call(null,t),o()}}else r=e;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!e?r=!1:o[1]&&(r===``||r===z(n))&&(r=!0))}return r}var si=new WeakMap;function ci(e,t,n=!1){let r=n?si:t.propsCache,i=r.get(e);if(i)return i;let a=e.props,o={},s=[],c=!1;if(!D(e)){let r=e=>{c=!0;let[n,r]=ci(e,t,!0);y(o,n),r&&s.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return A(e)&&r.set(e,m),m;if(C(a))for(let e=0;e<a.length;e++){let t=R(a[e]);li(t)&&(o[t]=p)}else if(a)for(let e in a){let t=R(e);if(li(t)){let n=a[e],r=o[t]=C(n)||D(n)?{type:n}:y({},n),i=r.type,c=!1,l=!0;if(C(i))for(let e=0;e<i.length;++e){let t=i[e],n=D(t)&&t.name;if(n===`Boolean`){c=!0;break}else n===`String`&&(l=!1)}else c=D(i)&&i.name===`Boolean`;r[0]=c,r[1]=l,(c||S(r,`default`))&&s.push(t)}}let l=[o,s];return A(e)&&r.set(e,l),l}function li(e){return e[0]!==`$`&&!ee(e)}var ui=e=>e===`_`||e===`_ctx`||e===`$stable`,di=e=>C(e)?e.map($i):[$i(e)],fi=(e,t,n)=>{if(t._n)return t;let r=Dn((...e)=>di(t(...e)),n);return r._c=!1,r},pi=(e,t,n)=>{let r=e._ctx;for(let n in e){if(ui(n))continue;let i=e[n];if(D(i))t[n]=fi(n,i,r);else if(i!=null){let e=di(i);t[n]=()=>e}}},mi=(e,t)=>{let n=di(t);e.slots.default=()=>n},hi=(e,t,n)=>{for(let r in t)(n||!ui(r))&&(e[r]=t[r])},gi=(e,t,n)=>{let r=e.slots=ti();if(e.vnode.shapeFlag&32){let e=t._;e?(hi(r,t,n),n&&oe(r,`_`,e,!0)):pi(t,r)}else t&&mi(e,t)},_i=(e,t,n)=>{let{vnode:r,slots:i}=e,a=!0,o=p;if(r.shapeFlag&32){let e=t._;e?n&&e===1?a=!1:hi(i,t,n):(a=!t.$stable,pi(t,i)),o=t}else t&&(mi(e,t),o={default:1});if(a)for(let e in i)!ui(e)&&o[e]==null&&delete i[e]},vi=ki;function yi(e){return bi(e)}function bi(e,t){let n=le();n.__VUE__=!0;let{insert:r,remove:i,patchProp:a,createElement:o,createText:s,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:f,setScopeId:g=h,insertStaticContent:_}=e,v=(e,t,n,r=null,i=null,a=null,o=void 0,s=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!Wi(e,t)&&(r=se(e),z(e,i,a,!0),e=null),t.patchFlag===-2&&(c=!1,t.dynamicChildren=null);let{type:l,ref:u,shapeFlag:d}=t;switch(l){case ji:y(e,t,n,r);break;case Mi:b(e,t,n,r);break;case Ni:e??x(t,n,r,o);break;case Ai:j(e,t,n,r,i,a,o,s,c);break;default:d&1?w(e,t,n,r,i,a,o,s,c):d&6?M(e,t,n,r,i,a,o,s,c):(d&64||d&128)&&l.process(e,t,n,r,i,a,o,s,c,de)}u!=null&&i?Ln(u,e&&e.ref,a,t||e,!t):u==null&&e&&e.ref!=null&&Ln(e.ref,null,a,e,!0)},y=(e,t,n,i)=>{if(e==null)r(t.el=s(t.children),n,i);else{let n=t.el=e.el;t.children!==e.children&&l(n,t.children)}},b=(e,t,n,i)=>{e==null?r(t.el=c(t.children||``),n,i):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=_(e.children,t,n,r,e.el,e.anchor)},S=({el:e,anchor:t},n,i)=>{let a;for(;e&&e!==t;)a=f(e),r(e,n,i),e=a;r(t,n,i)},C=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=f(e),i(e),e=n;i(t)},w=(e,t,n,r,i,a,o,s,c)=>{if(t.type===`svg`?o=`svg`:t.type===`math`&&(o=`mathml`),e==null)T(t,n,r,i,a,o,s,c);else{let n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),O(e,t,i,a,o,s,c)}finally{n&&n._endPatch()}}},T=(e,t,n,i,s,c,l,d)=>{let f,p,{props:m,shapeFlag:h,transition:g,dirs:_}=e;if(f=e.el=o(e.type,c,m&&m.is,m),h&8?u(f,e.children):h&16&&D(e.children,f,null,i,s,xi(e,c),l,d),_&&kn(e,null,i,`created`),E(f,e,e.scopeId,l,i),m){for(let e in m)e!==`value`&&!ee(e)&&a(f,e,null,m[e],c,i);`value`in m&&a(f,`value`,null,m.value,c),(p=m.onVnodeBeforeMount)&&ra(p,i,e)}_&&kn(e,null,i,`beforeMount`);let v=Ci(s,g);v&&g.beforeEnter(f),r(f,t,n),((p=m&&m.onVnodeMounted)||v||_)&&vi(()=>{p&&ra(p,i,e),v&&g.enter(f),_&&kn(e,null,i,`mounted`)},s)},E=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(i){let n=i.subTree;if(t===n||Oi(n.type)&&(n.ssContent===t||n.ssFallback===t)){let t=i.vnode;E(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},D=(e,t,n,r,i,a,o,s,c=0)=>{for(let l=c;l<e.length;l++)v(null,e[l]=s?ea(e[l]):$i(e[l]),t,n,r,i,a,o,s)},O=(e,t,n,r,i,o,s)=>{let c=t.el=e.el,{patchFlag:l,dynamicChildren:d,dirs:f}=t;l|=e.patchFlag&16;let m=e.props||p,h=t.props||p,g;if(n&&Si(n,!1),(g=h.onVnodeBeforeUpdate)&&ra(g,n,t,e),f&&kn(t,e,n,`beforeUpdate`),n&&Si(n,!0),(m.innerHTML&&h.innerHTML==null||m.textContent&&h.textContent==null)&&u(c,``),d?k(e.dynamicChildren,d,c,n,r,xi(t,i),o):s||L(e,t,c,null,n,r,xi(t,i),o,!1),l>0){if(l&16)A(c,m,h,n,i);else if(l&2&&m.class!==h.class&&a(c,`class`,null,h.class,i),l&4&&a(c,`style`,m.style,h.style,i),l&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let r=e[t],o=m[r],s=h[r];(s!==o||r===`value`)&&a(c,r,o,s,i,n)}}l&1&&e.children!==t.children&&u(c,t.children)}else !s&&d==null&&A(c,m,h,n,i);((g=h.onVnodeUpdated)||f)&&vi(()=>{g&&ra(g,n,t,e),f&&kn(t,e,n,`updated`)},r)},k=(e,t,n,r,i,a,o)=>{for(let s=0;s<t.length;s++){let c=e[s],l=t[s];v(c,l,c.el&&(c.type===Ai||!Wi(c,l)||c.shapeFlag&198)?d(c.el):n,null,r,i,a,o,!0)}},A=(e,t,n,r,i)=>{if(t!==n){if(t!==p)for(let o in t)!ee(o)&&!(o in n)&&a(e,o,t[o],null,i,r);for(let o in n){if(ee(o))continue;let s=n[o],c=t[o];s!==c&&o!==`value`&&a(e,o,c,s,i,r)}`value`in n&&a(e,`value`,t.value,n.value,i)}},j=(e,t,n,i,a,o,c,l,u)=>{let d=t.el=e?e.el:s(``),f=t.anchor=e?e.anchor:s(``),{patchFlag:p,dynamicChildren:m,slotScopeIds:h}=t;h&&(l=l?l.concat(h):h),e==null?(r(d,n,i),r(f,n,i),D(t.children||[],n,f,a,o,c,l,u)):p>0&&p&64&&m&&e.dynamicChildren?(k(e.dynamicChildren,m,n,a,o,c,l),(t.key!=null||a&&t===a.subTree)&&wi(e,t,!0)):L(e,t,n,f,a,o,c,l,u)},M=(e,t,n,r,i,a,o,s,c)=>{t.slotScopeIds=s,e==null?t.shapeFlag&512?i.ctx.activate(t,n,r,o,c):N(t,n,r,i,a,o,c):P(e,t,c)},N=(e,t,n,r,i,a,o)=>{let s=e.component=oa(e,r,i);if(Bn(e)&&(s.ctx.renderer=de),ha(s,!1,o),s.asyncDep){if(i&&i.registerDep(s,F,o),!e.el){let r=s.subTree=qi(Mi);b(null,r,t,n),e.placeholder=r.el}}else F(s,e,t,n,i,a,o)},P=(e,t,n)=>{let r=t.component=e.component;if(Zr(e,t,n))if(r.asyncDep&&!r.asyncResolved){I(r,t,n);return}else r.next=t,r.update();else t.el=e.el,r.vnode=t},F=(e,t,n,r,i,a,o)=>{let s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:c,vnode:l}=e;{let n=Ei(e);if(n){t&&(t.el=l.el,I(e,t,o)),n.asyncDep.then(()=>{e.isUnmounted||s()});return}}let u=t,f;Si(e,!1),t?(t.el=l.el,I(e,t,o)):t=l,n&&ae(n),(f=t.props&&t.props.onVnodeBeforeUpdate)&&ra(f,c,t,l),Si(e,!0);let p=Jr(e),m=e.subTree;e.subTree=p,v(m,p,d(m.el),se(m),e,i,a),t.el=p.el,u===null&&$r(e,p.el),r&&vi(r,i),(f=t.props&&t.props.onVnodeUpdated)&&vi(()=>ra(f,c,t,l),i)}else{let o,{el:s,props:c}=t,{bm:l,m:u,parent:d,root:f,type:p}=e,m=zn(t);if(Si(e,!1),l&&ae(l),!m&&(o=c&&c.onVnodeBeforeMount)&&ra(o,d,t),Si(e,!0),s&&V){let t=()=>{e.subTree=Jr(e),V(s,e.subTree,e,i,null)};m&&p.__asyncHydrate?p.__asyncHydrate(s,e,t):t()}else{f.ce&&f.ce._def.shadowRoot!==!1&&f.ce._injectChildStyle(p);let o=e.subTree=Jr(e);v(null,o,n,r,e,i,a),t.el=o.el}if(u&&vi(u,i),!m&&(o=c&&c.onVnodeMounted)){let e=t;vi(()=>ra(o,d,e),i)}(t.shapeFlag&256||d&&zn(d.vnode)&&d.vnode.shapeFlag&256)&&e.a&&vi(e.a,i),e.isMounted=!0,t=n=r=null}};e.scope.on();let c=e.effect=new xe(s);e.scope.off();let l=e.update=c.run.bind(c),u=e.job=c.runIfDirty.bind(c);u.i=e,u.id=e.uid,c.scheduler=()=>_n(u),Si(e,!0),l()},I=(e,t,n)=>{t.component=e;let r=e.vnode.props;e.vnode=t,e.next=null,ii(e,t.props,r,n),_i(e,t.children,n),Ie(),bn(e),Le()},L=(e,t,n,r,i,a,o,s,c=!1)=>{let l=e&&e.children,d=e?e.shapeFlag:0,f=t.children,{patchFlag:p,shapeFlag:m}=t;if(p>0){if(p&128){R(l,f,n,r,i,a,o,s,c);return}else if(p&256){te(l,f,n,r,i,a,o,s,c);return}}m&8?(d&16&&oe(l,i,a),f!==l&&u(n,f)):d&16?m&16?R(l,f,n,r,i,a,o,s,c):oe(l,i,a,!0):(d&8&&u(n,``),m&16&&D(f,n,r,i,a,o,s,c))},te=(e,t,n,r,i,a,o,s,c)=>{e||=m,t||=m;let l=e.length,u=t.length,d=Math.min(l,u),f;for(f=0;f<d;f++){let r=t[f]=c?ea(t[f]):$i(t[f]);v(e[f],r,n,null,i,a,o,s,c)}l>u?oe(e,i,a,!0,!1,d):D(t,n,r,i,a,o,s,c,d)},R=(e,t,n,r,i,a,o,s,c)=>{let l=0,u=t.length,d=e.length-1,f=u-1;for(;l<=d&&l<=f;){let r=e[l],u=t[l]=c?ea(t[l]):$i(t[l]);if(Wi(r,u))v(r,u,n,null,i,a,o,s,c);else break;l++}for(;l<=d&&l<=f;){let r=e[d],l=t[f]=c?ea(t[f]):$i(t[f]);if(Wi(r,l))v(r,l,n,null,i,a,o,s,c);else break;d--,f--}if(l>d){if(l<=f){let e=f+1,d=e<u?t[e].el:r;for(;l<=f;)v(null,t[l]=c?ea(t[l]):$i(t[l]),n,d,i,a,o,s,c),l++}}else if(l>f)for(;l<=d;)z(e[l],i,a,!0),l++;else{let p=l,h=l,g=new Map;for(l=h;l<=f;l++){let e=t[l]=c?ea(t[l]):$i(t[l]);e.key!=null&&g.set(e.key,l)}let _,y=0,b=f-h+1,x=!1,S=0,C=Array(b);for(l=0;l<b;l++)C[l]=0;for(l=p;l<=d;l++){let r=e[l];if(y>=b){z(r,i,a,!0);continue}let u;if(r.key!=null)u=g.get(r.key);else for(_=h;_<=f;_++)if(C[_-h]===0&&Wi(r,t[_])){u=_;break}u===void 0?z(r,i,a,!0):(C[u-h]=l+1,u>=S?S=u:x=!0,v(r,t[u],n,null,i,a,o,s,c),y++)}let w=x?Ti(C):m;for(_=w.length-1,l=b-1;l>=0;l--){let e=h+l,d=t[e],f=t[e+1],p=e+1<u?f.el||f.placeholder:r;C[l]===0?v(null,d,n,p,i,a,o,s,c):x&&(_<0||l!==w[_]?ne(d,n,p,2):_--)}}},ne=(e,t,n,a,o=null)=>{let{el:s,type:c,transition:l,children:u,shapeFlag:d}=e;if(d&6){ne(e.component.subTree,t,n,a);return}if(d&128){e.suspense.move(t,n,a);return}if(d&64){c.move(e,t,n,de);return}if(c===Ai){r(s,t,n);for(let e=0;e<u.length;e++)ne(u[e],t,n,a);r(e.anchor,t,n);return}if(c===Ni){S(e,t,n);return}if(a!==2&&d&1&&l)if(a===0)l.beforeEnter(s),r(s,t,n),vi(()=>l.enter(s),o);else{let{leave:a,delayLeave:o,afterLeave:c}=l,u=()=>{e.ctx.isUnmounted?i(s):r(s,t,n)},d=()=>{s._isLeaving&&s[Mn](!0),a(s,()=>{u(),c&&c()})};o?o(s,u,d):d()}else r(s,t,n)},z=(e,t,n,r=!1,i=!1)=>{let{type:a,props:o,ref:s,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:f,cacheIndex:p}=e;if(d===-2&&(i=!1),s!=null&&(Ie(),Ln(s,null,n,e,!0),Le()),p!=null&&(t.renderCache[p]=void 0),u&256){t.ctx.deactivate(e);return}let m=u&1&&f,h=!zn(e),g;if(h&&(g=o&&o.onVnodeBeforeUnmount)&&ra(g,t,e),u&6)B(e.component,n,r);else{if(u&128){e.suspense.unmount(n,r);return}m&&kn(e,null,t,`beforeUnmount`),u&64?e.type.remove(e,t,n,de,r):l&&!l.hasOnce&&(a!==Ai||d>0&&d&64)?oe(l,t,n,!1,!0):(a===Ai&&d&384||!i&&u&16)&&oe(c,t,n),r&&re(e)}(h&&(g=o&&o.onVnodeUnmounted)||m)&&vi(()=>{g&&ra(g,t,e),m&&kn(e,null,t,`unmounted`)},n)},re=e=>{let{type:t,el:n,anchor:r,transition:a}=e;if(t===Ai){ie(n,r);return}if(t===Ni){C(e);return}let o=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(e.shapeFlag&1&&a&&!a.persisted){let{leave:t,delayLeave:r}=a,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},ie=(e,t)=>{let n;for(;e!==t;)n=f(e),i(e),e=n;i(t)},B=(e,t,n)=>{let{bum:r,scope:i,job:a,subTree:o,um:s,m:c,a:l}=e;Di(c),Di(l),r&&ae(r),i.stop(),a&&(a.flags|=8,z(o,e,t,n)),s&&vi(s,t),vi(()=>{e.isUnmounted=!0},t)},oe=(e,t,n,r=!1,i=!1,a=0)=>{for(let o=a;o<e.length;o++)z(e[o],t,n,r,i)},se=e=>{if(e.shapeFlag&6)return se(e.component.subTree);if(e.shapeFlag&128)return e.suspense.next();let t=f(e.anchor||e.el),n=t&&t[An];return n?f(n):t},ce=!1,ue=(e,t,n)=>{e==null?t._vnode&&z(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,ce||=(ce=!0,bn(),xn(),!1)},de={p:v,um:z,m:ne,r:re,mt:N,mc:D,pc:L,pbc:k,n:se,o:e},fe,V;return t&&([fe,V]=t(de)),{render:ue,hydrate:fe,createApp:Nr(ue,fe)}}function xi({type:e,props:t},n){return n===`svg`&&e===`foreignObject`||n===`mathml`&&e===`annotation-xml`&&t&&t.encoding&&t.encoding.includes(`html`)?void 0:n}function Si({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ci(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function wi(e,t,n=!1){let r=e.children,i=t.children;if(C(r)&&C(i))for(let e=0;e<r.length;e++){let t=r[e],a=i[e];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[e]=ea(i[e]),a.el=t.el),!n&&a.patchFlag!==-2&&wi(t,a)),a.type===ji&&a.patchFlag!==-1&&(a.el=t.el),a.type===Mi&&!a.el&&(a.el=t.el)}}function Ti(e){let t=e.slice(),n=[0],r,i,a,o,s,c=e.length;for(r=0;r<c;r++){let c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function Ei(e){let t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ei(t)}function Di(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}var Oi=e=>e.__isSuspense;function ki(e,t){t&&t.pendingBranch?C(e)?t.effects.push(...e):t.effects.push(e):yn(e)}var Ai=Symbol.for(`v-fgt`),ji=Symbol.for(`v-txt`),Mi=Symbol.for(`v-cmt`),Ni=Symbol.for(`v-stc`),Pi=[],Fi=null;function Ii(e=!1){Pi.push(Fi=e?null:[])}function Li(){Pi.pop(),Fi=Pi[Pi.length-1]||null}var Ri=1;function zi(e,t=!1){Ri+=e,e<0&&Fi&&t&&(Fi.hasOnce=!0)}function Bi(e){return e.dynamicChildren=Ri>0?Fi||m:null,Li(),Ri>0&&Fi&&Fi.push(e),e}function Vi(e,t,n,r,i,a){return Bi(Z(e,t,n,r,i,a,!0))}function Hi(e,t,n,r,i){return Bi(qi(e,t,n,r,i,!0))}function Ui(e){return e?e.__v_isVNode===!0:!1}function Wi(e,t){return e.type===t.type&&e.key===t.key}var Gi=({key:e})=>e??null,Ki=({ref:e,ref_key:t,ref_for:n})=>(typeof e==`number`&&(e=``+e),e==null?null:O(e)||Vt(e)||D(e)?{i:wn,r:e,k:t,f:!!n}:e);function Z(e,t=null,n=null,r=0,i=null,a=e===Ai?0:1,o=!1,s=!1){let c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Gi(t),ref:t&&Ki(t),scopeId:Tn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:wn};return s?(ta(c,n),a&128&&e.normalize(c)):n&&(c.shapeFlag|=O(n)?8:16),Ri>0&&!o&&Fi&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Fi.push(c),c}var qi=Ji;function Ji(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===ar)&&(e=Mi),Ui(e)){let r=Xi(e,t,!0);return n&&ta(r,n),Ri>0&&!a&&Fi&&(r.shapeFlag&6?Fi[Fi.indexOf(e)]=r:Fi.push(r)),r.patchFlag=-2,r}if(Ta(e)&&(e=e.__vccOpts),t){t=Yi(t);let{class:e,style:n}=t;e&&!O(e)&&(t.class=U(e)),A(n)&&(It(n)&&!C(n)&&(n=y({},n)),t.style=ue(n))}let o=O(e)?1:Oi(e)?128:jn(e)?64:A(e)?4:D(e)?2:0;return Z(e,t,n,r,i,o,a,!0)}function Yi(e){return e?It(e)||ni(e)?y({},e):e:null}function Xi(e,t,n=!1,r=!1){let{props:i,ref:a,patchFlag:o,children:s,transition:c}=e,l=t?na(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Gi(l),ref:t&&t.ref?n&&a?C(a)?a.concat(Ki(t)):[a,Ki(t)]:Ki(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ai?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xi(e.ssContent),ssFallback:e.ssFallback&&Xi(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Nn(u,c.clone(u)),u}function Zi(e=` `,t=0){return qi(ji,null,e,t)}function Qi(e=``,t=!1){return t?(Ii(),Hi(Mi,null,e)):qi(Mi,null,e)}function $i(e){return e==null||typeof e==`boolean`?qi(Mi):C(e)?qi(Ai,null,e.slice()):Ui(e)?ea(e):qi(ji,null,String(e))}function ea(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xi(e)}function ta(e,t){let n=0,{shapeFlag:r}=e;if(t==null)t=null;else if(C(t))n=16;else if(typeof t==`object`)if(r&65){let n=t.default;n&&(n._c&&(n._d=!1),ta(e,n()),n._c&&(n._d=!0));return}else{n=32;let r=t._;!r&&!ni(t)?t._ctx=wn:r===3&&wn&&(wn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else D(t)?(t={default:t,_ctx:wn},n=32):(t=String(t),r&64?(n=16,t=[Zi(t)]):n=8);e.children=t,e.shapeFlag|=n}function na(...e){let t={};for(let n=0;n<e.length;n++){let r=e[n];for(let e in r)if(e===`class`)t.class!==r.class&&(t.class=U([t.class,r.class]));else if(e===`style`)t.style=ue([t.style,r.style]);else if(_(e)){let n=t[e],i=r[e];i&&n!==i&&!(C(n)&&n.includes(i))&&(t[e]=n?[].concat(n,i):i)}else e!==``&&(t[e]=r[e])}return t}function ra(e,t,n,r=null){an(e,t,7,[n,r])}var ia=jr(),aa=0;function oa(e,t,n){let r=e.type,i=(t?t.appContext:e.appContext)||ia,a={uid:aa++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ye(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:[``,0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ci(r,i),emitsOptions:Kr(r,i),emit:null,emitted:null,propsDefaults:p,inheritAttrs:r.inheritAttrs,ctx:p,data:p,props:p,attrs:p,slots:p,refs:p,setupState:p,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Wr.bind(null,a),e.ce&&e.ce(a),a}var sa=null,ca=()=>sa||wn,la,ua;{let e=le(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};la=t(`__VUE_INSTANCE_SETTERS__`,e=>sa=e),ua=t(`__VUE_SSR_SETTERS__`,e=>ma=e)}var da=e=>{let t=sa;return la(e),e.scope.on(),()=>{e.scope.off(),la(t)}},fa=()=>{sa&&sa.scope.off(),la(null)};function pa(e){return e.vnode.shapeFlag&4}var ma=!1;function ha(e,t=!1,n=!1){t&&ua(t);let{props:r,children:i}=e.vnode,a=pa(e);ri(e,r,a,t),gi(e,i,n||t);let o=a?ga(e,t):void 0;return t&&ua(!1),o}function ga(e,t){let n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,mr);let{setup:r}=n;if(r){Ie();let n=e.setupContext=r.length>1?Sa(e):null,i=da(e),a=rn(r,e,0,[e.props,n]),o=j(a);if(Le(),i(),(o||e.sp)&&!zn(e)&&Fn(e),o){if(a.then(fa,fa),t)return a.then(n=>{_a(e,n,t)}).catch(t=>{on(t,e,0)});e.asyncDep=a}else _a(e,a,t)}else ba(e,t)}function _a(e,t,n){D(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:A(t)&&(e.setupState=Jt(t)),ba(e,n)}var va,ya;function ba(e,t,n){let r=e.type;if(!e.render){if(!t&&va&&!r.render){let t=r.template||xr(e).template;if(t){let{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:o}=r;r.render=va(t,y(y({isCustomElement:n,delimiters:a},i),o))}}e.render=r.render||h,ya&&ya(e)}{let t=da(e);Ie();try{_r(e)}finally{Le(),t()}}}var xa={get(e,t){return qe(e,`get`,``),e[t]}};function Sa(e){return{attrs:new Proxy(e.attrs,xa),slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function Ca(e){return e.exposed?e.exposeProxy||=new Proxy(Jt(Rt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in fr)return fr[n](e)},has(e,t){return t in e||t in fr}}):e.proxy}function wa(e,t=!0){return D(e)?e.displayName||e.name:e.name||t&&e.__name}function Ta(e){return D(e)&&`__vccOpts`in e}var Ea=(e,t)=>Xt(e,t,ma);function Da(e,t,n){try{zi(-1);let r=arguments.length;return r===2?A(t)&&!C(t)?Ui(t)?qi(e,null,[t]):qi(e,t):qi(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ui(n)&&(n=[n]),qi(e,t,n))}finally{zi(1)}}var Oa=`3.5.25`,ka=void 0,Aa=typeof window<`u`&&window.trustedTypes;if(Aa)try{ka=Aa.createPolicy(`vue`,{createHTML:e=>e})}catch{}var ja=ka?e=>ka.createHTML(e):e=>e,Ma=`http://www.w3.org/2000/svg`,Na=`http://www.w3.org/1998/Math/MathML`,Pa=typeof document<`u`?document:null,Fa=Pa&&Pa.createElement(`template`),Ia={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{let i=t===`svg`?Pa.createElementNS(Ma,e):t===`mathml`?Pa.createElementNS(Na,e):n?Pa.createElement(e,{is:n}):Pa.createElement(e);return e===`select`&&r&&r.multiple!=null&&i.setAttribute(`multiple`,r.multiple),i},createText:e=>Pa.createTextNode(e),createComment:e=>Pa.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pa.querySelector(e),setScopeId(e,t){e.setAttribute(t,``)},insertStaticContent(e,t,n,r,i,a){let o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{Fa.innerHTML=ja(r===`svg`?`<svg>${e}</svg>`:r===`mathml`?`<math>${e}</math>`:e);let i=Fa.content;if(r===`svg`||r===`mathml`){let e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},La=Symbol(`_vtc`);function Ra(e,t,n){let r=e[La];r&&(t=(t?[t,...r]:[...r]).join(` `)),t==null?e.removeAttribute(`class`):n?e.setAttribute(`class`,t):e.className=t}var za=Symbol(`_vod`),Ba=Symbol(`_vsh`),Va=Symbol(``),Ha=/(?:^|;)\s*display\s*:/;function Ua(e,t,n){let r=e.style,i=O(n),a=!1;if(n&&!i){if(t)if(O(t))for(let e of t.split(`;`)){let t=e.slice(0,e.indexOf(`:`)).trim();n[t]??Ga(r,t,``)}else for(let e in t)n[e]??Ga(r,e,``);for(let e in n)e===`display`&&(a=!0),Ga(r,e,n[e])}else if(i){if(t!==n){let e=r[Va];e&&(n+=`;`+e),r.cssText=n,a=Ha.test(n)}}else t&&e.removeAttribute(`style`);za in e&&(e[za]=a?r.display:``,e[Ba]&&(r.display=`none`))}var Wa=/\s*!important$/;function Ga(e,t,n){if(C(n))n.forEach(n=>Ga(e,t,n));else if(n??=``,t.startsWith(`--`))e.setProperty(t,n);else{let r=Ja(e,t);Wa.test(n)?e.setProperty(z(r),n.replace(Wa,``),`important`):e[r]=n}}var Ka=[`Webkit`,`Moz`,`ms`],qa={};function Ja(e,t){let n=qa[t];if(n)return n;let r=R(t);if(r!==`filter`&&r in e)return qa[t]=r;r=re(r);for(let n=0;n<Ka.length;n++){let i=Ka[n]+r;if(i in e)return qa[t]=i}return t}var Ya=`http://www.w3.org/1999/xlink`;function Xa(e,t,n,r,i,a=me(t)){r&&t.startsWith(`xlink:`)?n==null?e.removeAttributeNS(Ya,t.slice(6,t.length)):e.setAttributeNS(Ya,t,n):n==null||a&&!W(n)?e.removeAttribute(t):e.setAttribute(t,a?``:k(n)?String(n):n)}function Za(e,t,n,r,i){if(t===`innerHTML`||t===`textContent`){n!=null&&(e[t]=t===`innerHTML`?ja(n):n);return}let a=e.tagName;if(t===`value`&&a!==`PROGRESS`&&!a.includes(`-`)){let r=a===`OPTION`?e.getAttribute(`value`)||``:e.value,i=n==null?e.type===`checkbox`?`on`:``:String(n);(r!==i||!(`_value`in e))&&(e.value=i),n??e.removeAttribute(t),e._value=n;return}let o=!1;if(n===``||n==null){let r=typeof e[t];r===`boolean`?n=W(n):n==null&&r===`string`?(n=``,o=!0):r===`number`&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Qa(e,t,n,r){e.addEventListener(t,n,r)}function $a(e,t,n,r){e.removeEventListener(t,n,r)}var eo=Symbol(`_vei`);function to(e,t,n,r,i=null){let a=e[eo]||(e[eo]={}),o=a[t];if(r&&o)o.value=r;else{let[n,s]=ro(t);r?Qa(e,n,a[t]=so(r,i),s):o&&($a(e,n,o,s),a[t]=void 0)}}var no=/(?:Once|Passive|Capture)$/;function ro(e){let t;if(no.test(e)){t={};let n;for(;n=e.match(no);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===`:`?e.slice(3):z(e.slice(2)),t]}var io=0,ao=Promise.resolve(),oo=()=>io||=(ao.then(()=>io=0),Date.now());function so(e,t){let n=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=n.attached)return;an(co(e,n.value),t,5,[e])};return n.value=e,n.attached=oo(),n}function co(e,t){if(C(t)){let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}else return t}var lo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,uo=(e,t,n,r,i,a)=>{let o=i===`svg`;t===`class`?Ra(e,r,o):t===`style`?Ua(e,n,r):_(t)?v(t)||to(e,t,n,r,a):(t[0]===`.`?(t=t.slice(1),!0):t[0]===`^`?(t=t.slice(1),!1):fo(e,t,r,o))?(Za(e,t,r),!e.tagName.includes(`-`)&&(t===`value`||t===`checked`||t===`selected`)&&Xa(e,t,r,o,a,t!==`value`)):e._isVueCE&&(/[A-Z]/.test(t)||!O(r))?Za(e,R(t),r,a,t):(t===`true-value`?e._trueValue=r:t===`false-value`&&(e._falseValue=r),Xa(e,t,r,o))};function fo(e,t,n,r){if(r)return!!(t===`innerHTML`||t===`textContent`||t in e&&lo(t)&&D(n));if(t===`spellcheck`||t===`draggable`||t===`translate`||t===`autocorrect`||t===`sandbox`&&e.tagName===`IFRAME`||t===`form`||t===`list`&&e.tagName===`INPUT`||t===`type`&&e.tagName===`TEXTAREA`)return!1;if(t===`width`||t===`height`){let t=e.tagName;if(t===`IMG`||t===`VIDEO`||t===`CANVAS`||t===`SOURCE`)return!1}return lo(t)&&O(n)?!1:t in e}var po=e=>{let t=e.props[`onUpdate:modelValue`]||!1;return C(t)?e=>ae(t,e):t};function mo(e){e.target.composing=!0}function ho(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event(`input`)))}var go=Symbol(`_assign`);function _o(e,t,n){return t&&(e=e.trim()),n&&(e=se(e)),e}var vo={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[go]=po(i);let a=r||i.props&&i.props.type===`number`;Qa(e,t?`change`:`input`,t=>{t.target.composing||e[go](_o(e.value,n,a))}),(n||a)&&Qa(e,`change`,()=>{e.value=_o(e.value,n,a)}),t||(Qa(e,`compositionstart`,mo),Qa(e,`compositionend`,ho),Qa(e,`change`,ho))},mounted(e,{value:t}){e.value=t??``},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},o){if(e[go]=po(o),e.composing)return;let s=(a||e.type===`number`)&&!/^0\d/.test(e.value)?se(e.value):e.value,c=t??``;s!==c&&(document.activeElement===e&&e.type!==`range`&&(r&&t===n||i&&e.value.trim()===c)||(e.value=c))}},yo={deep:!0,created(e,t,n){e[go]=po(n),Qa(e,`change`,()=>{let t=e._modelValue,n=Co(e),r=e.checked,i=e[go];if(C(t)){let e=K(t,n),a=e!==-1;if(r&&!a)i(t.concat(n));else if(!r&&a){let n=[...t];n.splice(e,1),i(n)}}else if(T(t)){let e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(wo(e,r))})},mounted:bo,beforeUpdate(e,t,n){e[go]=po(n),bo(e,t,n)}};function bo(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(C(t))i=K(t,r.props.value)>-1;else if(T(t))i=t.has(r.props.value);else{if(t===n)return;i=G(t,wo(e,!0))}e.checked!==i&&(e.checked=i)}var xo={deep:!0,created(e,{value:t,modifiers:{number:n}},r){let i=T(t);Qa(e,`change`,()=>{let t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?se(Co(e)):Co(e));e[go](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,hn(()=>{e._assigning=!1})}),e[go]=po(r)},mounted(e,{value:t}){So(e,t)},beforeUpdate(e,t,n){e[go]=po(n)},updated(e,{value:t}){e._assigning||So(e,t)}};function So(e,t){let n=e.multiple,r=C(t);if(!(n&&!r&&!T(t))){for(let i=0,a=e.options.length;i<a;i++){let a=e.options[i],o=Co(a);if(n)if(r){let e=typeof o;e===`string`||e===`number`?a.selected=t.some(e=>String(e)===String(o)):a.selected=K(t,o)>-1}else a.selected=t.has(o);else if(G(Co(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Co(e){return`_value`in e?e._value:e.value}function wo(e,t){let n=t?`_trueValue`:`_falseValue`;return n in e?e[n]:t}var To=[`ctrl`,`shift`,`alt`,`meta`],Eo={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>`button`in e&&e.button!==0,middle:e=>`button`in e&&e.button!==1,right:e=>`button`in e&&e.button!==2,exact:(e,t)=>To.some(n=>e[`${n}Key`]&&!t.includes(n))},Do=(e,t)=>{let n=e._withMods||={},r=t.join(`.`);return n[r]||(n[r]=((n,...r)=>{for(let e=0;e<t.length;e++){let r=Eo[t[e]];if(r&&r(n,t))return}return e(n,...r)}))},Oo=y({patchProp:uo},Ia),ko;function Ao(){return ko||=yi(Oo)}var jo=((...e)=>{let t=Ao().createApp(...e),{mount:n}=t;return t.mount=e=>{let r=No(e);if(!r)return;let i=t._component;!D(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent=``);let a=n(r,!1,Mo(r));return r instanceof Element&&(r.removeAttribute(`v-cloak`),r.setAttribute(`data-v-app`,``)),a},t});function Mo(e){if(e instanceof SVGElement)return`svg`;if(typeof MathMLElement==`function`&&e instanceof MathMLElement)return`mathml`}function No(e){return O(e)?document.querySelector(e):e}var Po=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},Fo={};function Io(e,t){let n=ir(`router-view`);return Ii(),Hi(n)}var Lo=Po(Fo,[[`render`,Io]]),Ro=typeof document<`u`;function zo(e){return typeof e==`object`||`displayName`in e||`props`in e||`__vccOpts`in e}function Bo(e){return e.__esModule||e[Symbol.toStringTag]===`Module`||e.default&&zo(e.default)}var Vo=Object.assign;function Ho(e,t){let n={};for(let r in t){let i=t[r];n[r]=Wo(i)?i.map(e):e(i)}return n}var Uo=()=>{},Wo=Array.isArray;function Go(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}var Ko=/#/g,qo=/&/g,Jo=/\//g,Yo=/=/g,Xo=/\?/g,Zo=/\+/g,Qo=/%5B/g,$o=/%5D/g,es=/%5E/g,ts=/%60/g,ns=/%7B/g,rs=/%7C/g,is=/%7D/g,as=/%20/g;function os(e){return e==null?``:encodeURI(``+e).replace(rs,`|`).replace(Qo,`[`).replace($o,`]`)}function ss(e){return os(e).replace(ns,`{`).replace(is,`}`).replace(es,`^`)}function cs(e){return os(e).replace(Zo,`%2B`).replace(as,`+`).replace(Ko,`%23`).replace(qo,`%26`).replace(ts,"`").replace(ns,`{`).replace(is,`}`).replace(es,`^`)}function ls(e){return cs(e).replace(Yo,`%3D`)}function us(e){return os(e).replace(Ko,`%23`).replace(Xo,`%3F`)}function ds(e){return us(e).replace(Jo,`%2F`)}function fs(e){if(e==null)return null;try{return decodeURIComponent(``+e)}catch{}return``+e}var ps=/\/$/,ms=e=>e.replace(ps,``);function hs(e,t,n=`/`){let r,i={},a=``,o=``,s=t.indexOf(`#`),c=t.indexOf(`?`);return c=s>=0&&c>s?-1:c,c>=0&&(r=t.slice(0,c),a=t.slice(c,s>0?s:t.length),i=e(a.slice(1))),s>=0&&(r||=t.slice(0,s),o=t.slice(s,t.length)),r=Cs(r??t,n),{fullPath:r+a+o,path:r,query:i,hash:fs(o)}}function gs(e,t){let n=t.query?e(t.query):``;return t.path+(n&&`?`)+n+(t.hash||``)}function _s(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||`/`}function vs(e,t,n){let r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ys(t.matched[r],n.matched[i])&&bs(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ys(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function bs(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!xs(e[n],t[n]))return!1;return!0}function xs(e,t){return Wo(e)?Ss(e,t):Wo(t)?Ss(t,e):e?.valueOf()===t?.valueOf()}function Ss(e,t){return Wo(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):e.length===1&&e[0]===t}function Cs(e,t){if(e.startsWith(`/`))return e;if(!e)return t;let n=t.split(`/`),r=e.split(`/`),i=r[r.length-1];(i===`..`||i===`.`)&&r.push(``);let a=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==`.`)if(s===`..`)a>1&&a--;else break;return n.slice(0,a).join(`/`)+`/`+r.slice(o).join(`/`)}var ws={path:`/`,name:void 0,params:{},query:{},hash:``,fullPath:`/`,matched:[],meta:{},redirectedFrom:void 0},Ts=function(e){return e.pop=`pop`,e.push=`push`,e}({}),Es=function(e){return e.back=`back`,e.forward=`forward`,e.unknown=``,e}({});function Ds(e){if(!e)if(Ro){let t=document.querySelector(`base`);e=t&&t.getAttribute(`href`)||`/`,e=e.replace(/^\w+:\/\/[^\/]+/,``)}else e=`/`;return e[0]!==`/`&&e[0]!==`#`&&(e=`/`+e),ms(e)}var Os=/^[^#]+#/;function ks(e,t){return e.replace(Os,`#`)+t}function As(e,t){let n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}var js=()=>({left:window.scrollX,top:window.scrollY});function Ms(e){let t;if(`el`in e){let n=e.el,r=typeof n==`string`&&n.startsWith(`#`),i=typeof n==`string`?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=As(i,e)}else t=e;`scrollBehavior`in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left==null?window.scrollX:t.left,t.top==null?window.scrollY:t.top)}function Ns(e,t){return(history.state?history.state.position-t:-1)+e}var Ps=new Map;function Fs(e,t){Ps.set(e,t)}function Is(e){let t=Ps.get(e);return Ps.delete(e),t}function Ls(e){return typeof e==`string`||e&&typeof e==`object`}function Rs(e){return typeof e==`string`||typeof e==`symbol`}var zs=function(e){return e[e.MATCHER_NOT_FOUND=1]=`MATCHER_NOT_FOUND`,e[e.NAVIGATION_GUARD_REDIRECT=2]=`NAVIGATION_GUARD_REDIRECT`,e[e.NAVIGATION_ABORTED=4]=`NAVIGATION_ABORTED`,e[e.NAVIGATION_CANCELLED=8]=`NAVIGATION_CANCELLED`,e[e.NAVIGATION_DUPLICATED=16]=`NAVIGATION_DUPLICATED`,e}({}),Bs=Symbol(``);zs.MATCHER_NOT_FOUND,zs.NAVIGATION_GUARD_REDIRECT,zs.NAVIGATION_ABORTED,zs.NAVIGATION_CANCELLED,zs.NAVIGATION_DUPLICATED;function Vs(e,t){return Vo(Error(),{type:e,[Bs]:!0},t)}function Hs(e,t){return e instanceof Error&&Bs in e&&(t==null||!!(e.type&t))}function Us(e){let t={};if(e===``||e===`?`)return t;let n=(e[0]===`?`?e.slice(1):e).split(`&`);for(let e=0;e<n.length;++e){let r=n[e].replace(Zo,` `),i=r.indexOf(`=`),a=fs(i<0?r:r.slice(0,i)),o=i<0?null:fs(r.slice(i+1));if(a in t){let e=t[a];Wo(e)||(e=t[a]=[e]),e.push(o)}else t[a]=o}return t}function Ws(e){let t=``;for(let n in e){let r=e[n];if(n=ls(n),r==null){r!==void 0&&(t+=(t.length?`&`:``)+n);continue}(Wo(r)?r.map(e=>e&&cs(e)):[r&&cs(r)]).forEach(e=>{e!==void 0&&(t+=(t.length?`&`:``)+n,e!=null&&(t+=`=`+e))})}return t}function Gs(e){let t={};for(let n in e){let r=e[n];r!==void 0&&(t[n]=Wo(r)?r.map(e=>e==null?null:``+e):r==null?r:``+r)}return t}var Ks=Symbol(``),qs=Symbol(``),Js=Symbol(``),Ys=Symbol(``),Xs=Symbol(``);function Zs(){let e=[];function t(t){return e.push(t),()=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Qs(e,t,n,r,i,a=e=>e()){let o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,c)=>{let l=e=>{e===!1?c(Vs(zs.NAVIGATION_ABORTED,{from:n,to:t})):e instanceof Error?c(e):Ls(e)?c(Vs(zs.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&typeof e==`function`&&o.push(e),s())},u=a(()=>e.call(r&&r.instances[i],t,n,l)),d=Promise.resolve(u);e.length<3&&(d=d.then(l)),d.catch(e=>c(e))})}function $s(e,t,n,r,i=e=>e()){let a=[];for(let o of e)for(let e in o.components){let s=o.components[e];if(!(t!==`beforeRouteEnter`&&!o.instances[e]))if(zo(s)){let c=(s.__vccOpts||s)[t];c&&a.push(Qs(c,n,r,o,e,i))}else{let c=s();a.push(()=>c.then(a=>{if(!a)throw Error(`Couldn't resolve component "${e}" at "${o.path}"`);let s=Bo(a)?a.default:a;o.mods[e]=a,o.components[e]=s;let c=(s.__vccOpts||s)[t];return c&&Qs(c,n,r,o,e,i)()}))}}return a}function ec(e,t){let n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){let a=t.matched[o];a&&(e.matched.find(e=>ys(e,a))?r.push(a):n.push(a));let s=e.matched[o];s&&(t.matched.find(e=>ys(e,s))||i.push(s))}return[n,r,i]}var tc=()=>location.protocol+`//`+location.host;function nc(e,t){let{pathname:n,search:r,hash:i}=t,a=e.indexOf(`#`);if(a>-1){let t=i.includes(e.slice(a))?e.slice(a).length:1,n=i.slice(t);return n[0]!==`/`&&(n=`/`+n),_s(n,``)}return _s(n,e)+r+i}function rc(e,t,n,r){let i=[],a=[],o=null,s=({state:a})=>{let s=nc(e,location),c=n.value,l=t.value,u=0;if(a){if(n.value=s,t.value=a,o&&o===c){o=null;return}u=l?a.position-l.position:0}else r(s);i.forEach(e=>{e(n.value,c,{delta:u,type:Ts.pop,direction:u?u>0?Es.forward:Es.back:Es.unknown})})};function c(){o=n.value}function l(e){i.push(e);let t=()=>{let t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t}function u(){if(document.visibilityState===`hidden`){let{history:e}=window;if(!e.state)return;e.replaceState(Vo({},e.state,{scroll:js()}),``)}}function d(){for(let e of a)e();a=[],window.removeEventListener(`popstate`,s),window.removeEventListener(`pagehide`,u),document.removeEventListener(`visibilitychange`,u)}return window.addEventListener(`popstate`,s),window.addEventListener(`pagehide`,u),document.addEventListener(`visibilitychange`,u),{pauseListeners:c,listen:l,destroy:d}}function ic(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?js():null}}function ac(e){let{history:t,location:n}=window,r={value:nc(e,n)},i={value:t.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(r,a,o){let s=e.indexOf(`#`),c=s>-1?(n.host&&document.querySelector(`base`)?e:e.slice(s))+r:tc()+e+r;try{t[o?`replaceState`:`pushState`](a,``,c),i.value=a}catch(e){console.error(e),n[o?`replace`:`assign`](c)}}function o(e,n){a(e,Vo({},t.state,ic(i.value.back,e,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=e}function s(e,n){let o=Vo({},i.value,t.state,{forward:e,scroll:js()});a(o.current,o,!0),a(e,Vo({},ic(r.value,e,null),{position:o.position+1},n),!1),r.value=e}return{location:r,state:i,push:s,replace:o}}function oc(e){e=Ds(e);let t=ac(e),n=rc(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}let i=Vo({location:``,base:e,go:r,createHref:ks.bind(null,e)},t,n);return Object.defineProperty(i,`location`,{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,`state`,{enumerable:!0,get:()=>t.state.value}),i}function sc(e){return e=location.host?e||location.pathname+location.search:``,e.includes(`#`)||(e+=`#`),oc(e)}var cc=function(e){return e[e.Static=0]=`Static`,e[e.Param=1]=`Param`,e[e.Group=2]=`Group`,e}({}),lc=function(e){return e[e.Static=0]=`Static`,e[e.Param=1]=`Param`,e[e.ParamRegExp=2]=`ParamRegExp`,e[e.ParamRegExpEnd=3]=`ParamRegExpEnd`,e[e.EscapeNext=4]=`EscapeNext`,e}(lc||{}),uc={type:cc.Static,value:``},dc=/[a-zA-Z0-9_]/;function fc(e){if(!e)return[[]];if(e===`/`)return[[uc]];if(!e.startsWith(`/`))throw Error(`Invalid path "${e}"`);function t(e){throw Error(`ERR (${n})/"${l}": ${e}`)}let n=lc.Static,r=n,i=[],a;function o(){a&&i.push(a),a=[]}let s=0,c,l=``,u=``;function d(){l&&=(n===lc.Static?a.push({type:cc.Static,value:l}):n===lc.Param||n===lc.ParamRegExp||n===lc.ParamRegExpEnd?(a.length>1&&(c===`*`||c===`+`)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:cc.Param,value:l,regexp:u,repeatable:c===`*`||c===`+`,optional:c===`*`||c===`?`})):t(`Invalid state to consume buffer`),``)}function f(){l+=c}for(;s<e.length;){if(c=e[s++],c===`\\`&&n!==lc.ParamRegExp){r=n,n=lc.EscapeNext;continue}switch(n){case lc.Static:c===`/`?(l&&d(),o()):c===`:`?(d(),n=lc.Param):f();break;case lc.EscapeNext:f(),n=r;break;case lc.Param:c===`(`?n=lc.ParamRegExp:dc.test(c)?f():(d(),n=lc.Static,c!==`*`&&c!==`?`&&c!==`+`&&s--);break;case lc.ParamRegExp:c===`)`?u[u.length-1]==`\\`?u=u.slice(0,-1)+c:n=lc.ParamRegExpEnd:u+=c;break;case lc.ParamRegExpEnd:d(),n=lc.Static,c!==`*`&&c!==`?`&&c!==`+`&&s--,u=``;break;default:t(`Unknown state`);break}}return n===lc.ParamRegExp&&t(`Unfinished custom RegExp for param "${l}"`),d(),o(),i}var pc=`[^/]+?`,mc={sensitive:!1,strict:!1,start:!0,end:!0},hc=function(e){return e[e._multiplier=10]=`_multiplier`,e[e.Root=90]=`Root`,e[e.Segment=40]=`Segment`,e[e.SubSegment=30]=`SubSegment`,e[e.Static=40]=`Static`,e[e.Dynamic=20]=`Dynamic`,e[e.BonusCustomRegExp=10]=`BonusCustomRegExp`,e[e.BonusWildcard=-50]=`BonusWildcard`,e[e.BonusRepeatable=-20]=`BonusRepeatable`,e[e.BonusOptional=-8]=`BonusOptional`,e[e.BonusStrict=.7000000000000001]=`BonusStrict`,e[e.BonusCaseSensitive=.25]=`BonusCaseSensitive`,e}(hc||{}),gc=/[.+*?^${}()[\]/\\]/g;function _c(e,t){let n=Vo({},mc,t),r=[],i=n.start?`^`:``,a=[];for(let t of e){let e=t.length?[]:[hc.Root];n.strict&&!t.length&&(i+=`/`);for(let r=0;r<t.length;r++){let o=t[r],s=hc.Segment+(n.sensitive?hc.BonusCaseSensitive:0);if(o.type===cc.Static)r||(i+=`/`),i+=o.value.replace(gc,`\\$&`),s+=hc.Static;else if(o.type===cc.Param){let{value:e,repeatable:n,optional:c,regexp:l}=o;a.push({name:e,repeatable:n,optional:c});let u=l||pc;if(u!==pc){s+=hc.BonusCustomRegExp;try{`${u}`}catch(t){throw Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;r||(d=c&&t.length<2?`(?:/${d})`:`/`+d),c&&(d+=`?`),i+=d,s+=hc.Dynamic,c&&(s+=hc.BonusOptional),n&&(s+=hc.BonusRepeatable),u===`.*`&&(s+=hc.BonusWildcard)}e.push(s)}r.push(e)}if(n.strict&&n.end){let e=r.length-1;r[e][r[e].length-1]+=hc.BonusStrict}n.strict||(i+=`/?`),n.end?i+=`$`:n.strict&&!i.endsWith(`/`)&&(i+=`(?:/|$)`);let o=new RegExp(i,n.sensitive?``:`i`);function s(e){let t=e.match(o),n={};if(!t)return null;for(let e=1;e<t.length;e++){let r=t[e]||``,i=a[e-1];n[i.name]=r&&i.repeatable?r.split(`/`):r}return n}function c(t){let n=``,r=!1;for(let i of e){(!r||!n.endsWith(`/`))&&(n+=`/`),r=!1;for(let e of i)if(e.type===cc.Static)n+=e.value;else if(e.type===cc.Param){let{value:a,repeatable:o,optional:s}=e,c=a in t?t[a]:``;if(Wo(c)&&!o)throw Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);let l=Wo(c)?c.join(`/`):c;if(!l)if(s)i.length<2&&(n.endsWith(`/`)?n=n.slice(0,-1):r=!0);else throw Error(`Missing required param "${a}"`);n+=l}}return n||`/`}return{re:o,score:r,keys:a,parse:s,stringify:c}}function vc(e,t){let n=0;for(;n<e.length&&n<t.length;){let r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===hc.Static+hc.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===hc.Static+hc.Segment?1:-1:0}function yc(e,t){let n=0,r=e.score,i=t.score;for(;n<r.length&&n<i.length;){let e=vc(r[n],i[n]);if(e)return e;n++}if(Math.abs(i.length-r.length)===1){if(bc(r))return 1;if(bc(i))return-1}return i.length-r.length}function bc(e){let t=e[e.length-1];return e.length>0&&t[t.length-1]<0}var xc={strict:!1,end:!0,sensitive:!1};function Sc(e,t,n){let r=Vo(_c(fc(e.path),n),{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Cc(e,t){let n=[],r=new Map;t=Go(xc,t);function i(e){return r.get(e)}function a(e,n,r){let i=!r,s=Tc(e);s.aliasOf=r&&r.record;let l=Go(t,e),u=[s];if(`alias`in e){let t=typeof e.alias==`string`?[e.alias]:e.alias;for(let e of t)u.push(Tc(Vo({},s,{components:r?r.record.components:s.components,path:e,aliasOf:r?r.record:s})))}let d,f;for(let t of u){let{path:u}=t;if(n&&u[0]!==`/`){let e=n.record.path,r=e[e.length-1]===`/`?``:`/`;t.path=n.record.path+(u&&r+u)}if(d=Sc(t,n,l),r?r.alias.push(d):(f||=d,f!==d&&f.alias.push(d),i&&e.name&&!Dc(d)&&o(e.name)),jc(d)&&c(d),s.children){let e=s.children;for(let t=0;t<e.length;t++)a(e[t],d,r&&r.children[t])}r||=d}return f?()=>{o(f)}:Uo}function o(e){if(Rs(e)){let t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(){return n}function c(e){let t=kc(e,n);n.splice(t,0,e),e.record.name&&!Dc(e)&&r.set(e.record.name,e)}function l(e,t){let i,a={},o,s;if(`name`in e&&e.name){if(i=r.get(e.name),!i)throw Vs(zs.MATCHER_NOT_FOUND,{location:e});s=i.record.name,a=Vo(wc(t.params,i.keys.filter(e=>!e.optional).concat(i.parent?i.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&wc(e.params,i.keys.map(e=>e.name))),o=i.stringify(a)}else if(e.path!=null)o=e.path,i=n.find(e=>e.re.test(o)),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!i)throw Vs(zs.MATCHER_NOT_FOUND,{location:e,currentLocation:t});s=i.record.name,a=Vo({},t.params,e.params),o=i.stringify(a)}let c=[],l=i;for(;l;)c.unshift(l.record),l=l.parent;return{name:s,path:o,params:a,matched:c,meta:Oc(c)}}e.forEach(e=>a(e));function u(){n.length=0,r.clear()}return{addRoute:a,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:s,getRecordMatcher:i}}function wc(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}function Tc(e){let t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ec(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:`components`in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,`mods`,{value:{}}),t}function Ec(e){let t={},n=e.props||!1;if(`component`in e)t.default=n;else for(let r in e.components)t[r]=typeof n==`object`?n[r]:n;return t}function Dc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Oc(e){return e.reduce((e,t)=>Vo(e,t.meta),{})}function kc(e,t){let n=0,r=t.length;for(;n!==r;){let i=n+r>>1;yc(e,t[i])<0?r=i:n=i+1}let i=Ac(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Ac(e){let t=e;for(;t=t.parent;)if(jc(t)&&yc(e,t)===0)return t}function jc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Mc(e){let t=Ir(Js),n=Ir(Ys),r=Ea(()=>{let n=Kt(e.to);return t.resolve(n)}),i=Ea(()=>{let{matched:e}=r.value,{length:t}=e,i=e[t-1],a=n.matched;if(!i||!a.length)return-1;let o=a.findIndex(ys.bind(null,i));if(o>-1)return o;let s=Lc(e[t-2]);return t>1&&Lc(i)===s&&a[a.length-1].path!==s?a.findIndex(ys.bind(null,e[t-2])):o}),a=Ea(()=>i.value>-1&&Ic(n.params,r.value.params)),o=Ea(()=>i.value>-1&&i.value===n.matched.length-1&&bs(n.params,r.value.params));function s(n={}){if(Fc(n)){let n=t[Kt(e.replace)?`replace`:`push`](Kt(e.to)).catch(Uo);return e.viewTransition&&typeof document<`u`&&`startViewTransition`in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}return{route:r,href:Ea(()=>r.value.href),isActive:a,isExactActive:o,navigate:s}}function Nc(e){return e.length===1?e[0]:e}var Pc=Pn({name:`RouterLink`,compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:`page`},viewTransition:Boolean},useLink:Mc,setup(e,{slots:t}){let n=kt(Mc(e)),{options:r}=Ir(Js),i=Ea(()=>({[Rc(e.activeClass,r.linkActiveClass,`router-link-active`)]:n.isActive,[Rc(e.exactActiveClass,r.linkExactActiveClass,`router-link-exact-active`)]:n.isExactActive}));return()=>{let r=t.default&&Nc(t.default(n));return e.custom?r:Da(`a`,{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function Fc(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){let t=e.currentTarget.getAttribute(`target`);if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ic(e,t){for(let n in t){let r=t[n],i=e[n];if(typeof r==`string`){if(r!==i)return!1}else if(!Wo(i)||i.length!==r.length||r.some((e,t)=>e.valueOf()!==i[t].valueOf()))return!1}return!0}function Lc(e){return e?e.aliasOf?e.aliasOf.path:e.path:``}var Rc=(e,t,n)=>e??t??n,zc=Pn({name:`RouterView`,inheritAttrs:!1,props:{name:{type:String,default:`default`},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){let r=Ir(Xs),i=Ea(()=>e.route||r.value),a=Ir(qs,0),o=Ea(()=>{let e=Kt(a),{matched:t}=i.value,n;for(;(n=t[e])&&!n.components;)e++;return e}),s=Ea(()=>i.value.matched[o.value]);Fr(qs,Ea(()=>o.value+1)),Fr(Ks,s),Fr(Xs,i);let c=Ht();return zr(()=>[c.value,s.value,e.name],([e,t,n],[r,i,a])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),e&&t&&(!i||!ys(t,i)||!r)&&(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:`post`}),()=>{let r=i.value,a=e.name,o=s.value,l=o&&o.components[a];if(!l)return Bc(n.default,{Component:l,route:r});let u=o.props[a],d=Da(l,Vo({},u?u===!0?r.params:typeof u==`function`?u(r):u:null,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(o.instances[a]=null)},ref:c}));return Bc(n.default,{Component:d,route:r})||d}}});function Bc(e,t){if(!e)return null;let n=e(t);return n.length===1?n[0]:n}var Vc=zc;function Hc(e){let t=Cc(e.routes,e),n=e.parseQuery||Us,r=e.stringifyQuery||Ws,i=e.history,a=Zs(),o=Zs(),s=Zs(),c=Ut(ws),l=ws;Ro&&e.scrollBehavior&&`scrollRestoration`in history&&(history.scrollRestoration=`manual`);let u=Ho.bind(null,e=>``+e),d=Ho.bind(null,ds),f=Ho.bind(null,fs);function p(e,n){let r,i;return Rs(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function m(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function h(){return t.getRoutes().map(e=>e.record)}function g(e){return!!t.getRecordMatcher(e)}function _(e,a){if(a=Vo({},a||c.value),typeof e==`string`){let r=hs(n,e,a.path),o=t.resolve({path:r.path},a),s=i.createHref(r.fullPath);return Vo(r,o,{params:f(o.params),hash:fs(r.hash),redirectedFrom:void 0,href:s})}let o;if(e.path!=null)o=Vo({},e,{path:hs(n,e.path,a.path).path});else{let t=Vo({},e.params);for(let e in t)t[e]??delete t[e];o=Vo({},e,{params:d(t)}),a.params=d(a.params)}let s=t.resolve(o,a),l=e.hash||``;s.params=u(f(s.params));let p=gs(r,Vo({},e,{hash:ss(l),path:s.path})),m=i.createHref(p);return Vo({fullPath:p,hash:l,query:r===Ws?Gs(e.query):e.query||{}},s,{redirectedFrom:void 0,href:m})}function v(e){return typeof e==`string`?hs(n,e,c.value.path):Vo({},e)}function y(e,t){if(l!==e)return Vs(zs.NAVIGATION_CANCELLED,{from:t,to:e})}function b(e){return C(e)}function x(e){return b(Vo(v(e),{replace:!0}))}function S(e,t){let n=e.matched[e.matched.length-1];if(n&&n.redirect){let{redirect:r}=n,i=typeof r==`function`?r(e,t):r;return typeof i==`string`&&(i=i.includes(`?`)||i.includes(`#`)?i=v(i):{path:i},i.params={}),Vo({query:e.query,hash:e.hash,params:i.path==null?e.params:{}},i)}}function C(e,t){let n=l=_(e),i=c.value,a=e.state,o=e.force,s=e.replace===!0,u=S(n,i);if(u)return C(Vo(v(u),{state:typeof u==`object`?Vo({},a,u.state):a,force:o,replace:s}),t||n);let d=n;d.redirectedFrom=t;let f;return!o&&vs(r,i,n)&&(f=Vs(zs.NAVIGATION_DUPLICATED,{to:d,from:i}),ee(i,i,!0,!1)),(f?Promise.resolve(f):E(d,i)).catch(e=>Hs(e)?Hs(e,zs.NAVIGATION_GUARD_REDIRECT)?e:I(e):P(e,d,i)).then(e=>{if(e){if(Hs(e,zs.NAVIGATION_GUARD_REDIRECT))return C(Vo({replace:s},v(e.to),{state:typeof e.to==`object`?Vo({},a,e.to.state):a,force:o}),t||d)}else e=O(d,i,!0,s,a);return D(d,i,e),e})}function w(e,t){let n=y(e,t);return n?Promise.reject(n):Promise.resolve()}function T(e){let t=R.values().next().value;return t&&typeof t.runWithContext==`function`?t.runWithContext(e):e()}function E(e,t){let n,[r,i,s]=ec(e,t);n=$s(r.reverse(),`beforeRouteLeave`,e,t);for(let i of r)i.leaveGuards.forEach(r=>{n.push(Qs(r,e,t))});let c=w.bind(null,e,t);return n.push(c),z(n).then(()=>{n=[];for(let r of a.list())n.push(Qs(r,e,t));return n.push(c),z(n)}).then(()=>{n=$s(i,`beforeRouteUpdate`,e,t);for(let r of i)r.updateGuards.forEach(r=>{n.push(Qs(r,e,t))});return n.push(c),z(n)}).then(()=>{n=[];for(let r of s)if(r.beforeEnter)if(Wo(r.beforeEnter))for(let i of r.beforeEnter)n.push(Qs(i,e,t));else n.push(Qs(r.beforeEnter,e,t));return n.push(c),z(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=$s(s,`beforeRouteEnter`,e,t,T),n.push(c),z(n))).then(()=>{n=[];for(let r of o.list())n.push(Qs(r,e,t));return n.push(c),z(n)}).catch(e=>Hs(e,zs.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function D(e,t,n){s.list().forEach(r=>T(()=>r(e,t,n)))}function O(e,t,n,r,a){let o=y(e,t);if(o)return o;let s=t===ws,l=Ro?history.state:{};n&&(r||s?i.replace(e.fullPath,Vo({scroll:s&&l&&l.scroll},a)):i.push(e.fullPath,a)),c.value=e,ee(e,t,n,s),I()}let k;function A(){k||=i.listen((e,t,n)=>{if(!ne.listening)return;let r=_(e),a=S(r,ne.currentRoute.value);if(a){C(Vo(a,{replace:!0,force:!0}),r).catch(Uo);return}l=r;let o=c.value;Ro&&Fs(Ns(o.fullPath,n.delta),js()),E(r,o).catch(e=>Hs(e,zs.NAVIGATION_ABORTED|zs.NAVIGATION_CANCELLED)?e:Hs(e,zs.NAVIGATION_GUARD_REDIRECT)?(C(Vo(v(e.to),{force:!0}),r).then(e=>{Hs(e,zs.NAVIGATION_ABORTED|zs.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===Ts.pop&&i.go(-1,!1)}).catch(Uo),Promise.reject()):(n.delta&&i.go(-n.delta,!1),P(e,r,o))).then(e=>{e||=O(r,o,!1),e&&(n.delta&&!Hs(e,zs.NAVIGATION_CANCELLED)?i.go(-n.delta,!1):n.type===Ts.pop&&Hs(e,zs.NAVIGATION_ABORTED|zs.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),D(r,o,e)}).catch(Uo)})}let j=Zs(),M=Zs(),N;function P(e,t,n){I(e);let r=M.list();return r.length?r.forEach(r=>r(e,t,n)):console.error(e),Promise.reject(e)}function F(){return N&&c.value!==ws?Promise.resolve():new Promise((e,t)=>{j.add([e,t])})}function I(e){return N||(N=!e,A(),j.list().forEach(([t,n])=>e?n(e):t()),j.reset()),e}function ee(t,n,r,i){let{scrollBehavior:a}=e;if(!Ro||!a)return Promise.resolve();let o=!r&&Is(Ns(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return hn().then(()=>a(t,n,o)).then(e=>e&&Ms(e)).catch(e=>P(e,t,n))}let L=e=>i.go(e),te,R=new Set,ne={currentRoute:c,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:h,resolve:_,options:e,push:b,replace:x,go:L,back:()=>L(-1),forward:()=>L(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:M.add,isReady:F,install(e){e.component(`RouterLink`,Pc),e.component(`RouterView`,Vc),e.config.globalProperties.$router=ne,Object.defineProperty(e.config.globalProperties,`$route`,{enumerable:!0,get:()=>Kt(c)}),Ro&&!te&&c.value===ws&&(te=!0,b(i.location).catch(e=>{}));let t={};for(let e in ws)Object.defineProperty(t,e,{get:()=>c.value[e],enumerable:!0});e.provide(Js,ne),e.provide(Ys,At(t)),e.provide(Xs,c);let n=e.unmount;R.add(e),e.unmount=function(){R.delete(e),R.size<1&&(l=ws,k&&k(),k=null,c.value=ws,te=!1,N=!1),n()}}};function z(e){return e.reduce((e,t)=>e.then(()=>T(t)),Promise.resolve())}return ne}function Uc(){return Ir(Js)}var Wc=o(((e,t)=>{var n=void 0;t.exports=function(e){return e!==n&&e!==null}})),Gc=o(((e,t)=>{var n=Wc(),r={object:!0,function:!0,undefined:!0};t.exports=function(e){return n(e)?hasOwnProperty.call(r,typeof e):!1}})),Kc=o(((e,t)=>{var n=Gc();t.exports=function(e){if(!n(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}}})),qc=o(((e,t)=>{var n=Kc();t.exports=function(e){if(typeof e!=`function`||!hasOwnProperty.call(e,`length`))return!1;try{if(typeof e.length!=`number`||typeof e.call!=`function`||typeof e.apply!=`function`)return!1}catch{return!1}return!n(e)}})),Jc=o(((e,t)=>{var n=qc(),r=/^\s*class[\s{/}]/,i=Function.prototype.toString;t.exports=function(e){return!(!n(e)||r.test(i.call(e)))}})),Yc=o(((e,t)=>{t.exports=function(){var e=Object.assign,t;return typeof e==`function`?(t={foo:`raz`},e(t,{bar:`dwa`},{trzy:`trzy`}),t.foo+t.bar+t.trzy===`razdwatrzy`):!1}})),Xc=o(((e,t)=>{t.exports=function(){try{return!0}catch{return!1}}})),Zc=o(((e,t)=>{t.exports=function(){}})),Qc=o(((e,t)=>{var n=Zc()();t.exports=function(e){return e!==n&&e!==null}})),$c=o(((e,t)=>{var n=Qc(),r=Object.keys;t.exports=function(e){return r(n(e)?Object(e):e)}})),el=o(((e,t)=>{t.exports=Xc()()?Object.keys:$c()})),tl=o(((e,t)=>{var n=Qc();t.exports=function(e){if(!n(e))throw TypeError(`Cannot use null or undefined`);return e}})),nl=o(((e,t)=>{var n=el(),r=tl(),i=Math.max;t.exports=function(e,t){var a,o,s=i(arguments.length,2),c;for(e=Object(r(e)),c=function(n){try{e[n]=t[n]}catch(e){a||=e}},o=1;o<s;++o)t=arguments[o],n(t).forEach(c);if(a!==void 0)throw a;return e}})),rl=o(((e,t)=>{t.exports=Yc()()?Object.assign:nl()})),il=o(((e,t)=>{var n=Qc(),r=Array.prototype.forEach,i=Object.create,a=function(e,t){for(var n in e)t[n]=e[n]};t.exports=function(e){var t=i(null);return r.call(arguments,function(e){n(e)&&a(Object(e),t)}),t}})),al=o(((e,t)=>{var n=`razdwatrzy`;t.exports=function(){return typeof n.contains==`function`?n.contains(`dwa`)===!0&&n.contains(`foo`)===!1:!1}})),ol=o(((e,t)=>{var n=String.prototype.indexOf;t.exports=function(e){return n.call(this,e,arguments[1])>-1}})),sl=o(((e,t)=>{t.exports=al()()?String.prototype.contains:ol()})),cl=o(((e,t)=>{var n=Wc(),r=Jc(),i=rl(),a=il(),o=sl(),s=t.exports=function(e,t){var r,s,c,l,u;return arguments.length<2||typeof e!=`string`?(l=t,t=e,e=null):l=arguments[2],n(e)?(r=o.call(e,`c`),s=o.call(e,`e`),c=o.call(e,`w`)):(r=c=!0,s=!1),u={value:t,configurable:r,enumerable:s,writable:c},l?i(a(l),u):u};s.gs=function(e,t,s){var c,l,u,d;return typeof e==`string`?u=arguments[3]:(u=s,s=t,t=e,e=null),n(t)?r(t)?n(s)?r(s)||(u=s,s=void 0):s=void 0:(u=t,t=s=void 0):t=void 0,n(e)?(c=o.call(e,`c`),l=o.call(e,`e`)):(c=!0,l=!1),d={get:t,set:s,configurable:c,enumerable:l},u?i(a(u),d):d}})),ll=o(((e,t)=>{t.exports=function(e){if(typeof e!=`function`)throw TypeError(e+` is not a function`);return e}})),ul=o(((e,t)=>{var n=cl(),r=ll(),i=Function.prototype.apply,a=Function.prototype.call,o=Object.create,s=Object.defineProperty,c=Object.defineProperties,l=Object.prototype.hasOwnProperty,u={configurable:!0,enumerable:!1,writable:!0},d=function(e,t){var n;return r(t),l.call(this,`__ee__`)?n=this.__ee__:(n=u.value=o(null),s(this,`__ee__`,u),u.value=null),n[e]?typeof n[e]==`object`?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},f=function(e,t){var n,a;return r(t),a=this,d.call(this,e,n=function(){p.call(a,e,n),i.call(t,this,arguments)}),n.__eeOnceListener__=t,this},p=function(e,t){var n,i,a,o;if(r(t),!l.call(this,`__ee__`)||(n=this.__ee__,!n[e]))return this;if(i=n[e],typeof i==`object`)for(o=0;a=i[o];++o)(a===t||a.__eeOnceListener__===t)&&(i.length===2?n[e]=i[o?0:1]:i.splice(o,1));else (i===t||i.__eeOnceListener__===t)&&delete n[e];return this},m=function(e){var t,n,r,o,s;if(l.call(this,`__ee__`)&&(o=this.__ee__[e],o))if(typeof o==`object`){for(n=arguments.length,s=Array(n-1),t=1;t<n;++t)s[t-1]=arguments[t];for(o=o.slice(),t=0;r=o[t];++t)i.call(r,this,s)}else switch(arguments.length){case 1:a.call(o,this);break;case 2:a.call(o,this,arguments[1]);break;case 3:a.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=Array(n-1),t=1;t<n;++t)s[t-1]=arguments[t];i.call(o,this,s)}},h={on:d,once:f,off:p,emit:m},g={on:n(d),once:n(f),off:n(p),emit:n(m)},_=c({},g);t.exports=e=function(e){return e==null?o(_):c(Object(e),g)},e.methods=h})),dl=o((e=>{function t(e,t,n){if(n===void 0&&(n=Array.prototype),e&&typeof n.find==`function`)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}}function n(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze==`function`?t.freeze(e):e}var r=n({HTML:`text/html`,isHTML:function(e){return e===r.HTML},XML_APPLICATION:`application/xml`,XML_TEXT:`text/xml`,XML_XHTML_APPLICATION:`application/xhtml+xml`,XML_SVG_IMAGE:`image/svg+xml`}),i=n({HTML:`http://www.w3.org/1999/xhtml`,isHTML:function(e){return e===i.HTML},SVG:`http://www.w3.org/2000/svg`,XML:`http://www.w3.org/XML/1998/namespace`,XMLNS:`http://www.w3.org/2000/xmlns/`});e.find=t,e.freeze=n,e.MIME_TYPE=r,e.NAMESPACE=i})),fl=o((e=>{var t=dl(),n=t.find,r=t.NAMESPACE;function i(e){return e!==``}function a(e){return e?e.split(/[\t\n\f\r ]+/).filter(i):[]}function o(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function s(e){if(!e)return[];var t=a(e);return Object.keys(t.reduce(o,{}))}function c(e){return function(t){return e&&e.indexOf(t)!==-1}}function l(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function u(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,r=new r,l(n,r),e.prototype=n=r}n.constructor!=e&&(typeof e!=`function`&&console.error(`unknown Class:`+e),n.constructor=e)}var d={},f=d.ELEMENT_NODE=1,p=d.ATTRIBUTE_NODE=2,m=d.TEXT_NODE=3,h=d.CDATA_SECTION_NODE=4,g=d.ENTITY_REFERENCE_NODE=5,_=d.ENTITY_NODE=6,v=d.PROCESSING_INSTRUCTION_NODE=7,y=d.COMMENT_NODE=8,b=d.DOCUMENT_NODE=9,x=d.DOCUMENT_TYPE_NODE=10,S=d.DOCUMENT_FRAGMENT_NODE=11,C=d.NOTATION_NODE=12,w={},T={};w.INDEX_SIZE_ERR=(T[1]=`Index size error`,1),w.DOMSTRING_SIZE_ERR=(T[2]=`DOMString size error`,2);var E=w.HIERARCHY_REQUEST_ERR=(T[3]=`Hierarchy request error`,3);w.WRONG_DOCUMENT_ERR=(T[4]=`Wrong document`,4),w.INVALID_CHARACTER_ERR=(T[5]=`Invalid character`,5),w.NO_DATA_ALLOWED_ERR=(T[6]=`No data allowed`,6),w.NO_MODIFICATION_ALLOWED_ERR=(T[7]=`No modification allowed`,7);var D=w.NOT_FOUND_ERR=(T[8]=`Not found`,8);w.NOT_SUPPORTED_ERR=(T[9]=`Not supported`,9);var O=w.INUSE_ATTRIBUTE_ERR=(T[10]=`Attribute in use`,10);w.INVALID_STATE_ERR=(T[11]=`Invalid state`,11),w.SYNTAX_ERR=(T[12]=`Syntax error`,12),w.INVALID_MODIFICATION_ERR=(T[13]=`Invalid modification`,13),w.NAMESPACE_ERR=(T[14]=`Invalid namespace`,14),w.INVALID_ACCESS_ERR=(T[15]=`Invalid access`,15);function k(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,T[e]),this.message=T[e],Error.captureStackTrace&&Error.captureStackTrace(this,k);return n.code=e,t&&(this.message=this.message+`: `+t),n}k.prototype=Error.prototype,l(w,k);function A(){}A.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)Ce(this[r],n,e,t);return n.join(``)},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};function j(e,t){this._node=e,this._refresh=t,M(this)}function M(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(Ee(e,`length`,n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];l(n,e),e._inc=t}}j.prototype.item=function(e){return M(this),this[e]||null},u(j,A);function N(){}function P(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function F(e,t,n,r){if(r?t[P(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&re(i,e,r),z(i,e,n))}}function I(e,t,n){var r=P(t,n);if(r>=0){for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(re(a,e,n),n.ownerElement=null)}}else throw new k(D,Error(e.tagName+`@`+n))}N.prototype={length:0,item:A.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new k(O);var n=this.getNamedItem(e.nodeName);return F(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t=e.ownerElement,n;if(t&&t!=this._ownerElement)throw new k(O);return n=this.getNamedItemNS(e.namespaceURI,e.localName),F(this._ownerElement,this,e,n),n},removeNamedItem:function(e){var t=this.getNamedItem(e);return I(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return I(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}};function ee(){}ee.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new ne;if(r.implementation=this,r.childNodes=new A,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new q;return r.name=e,r.nodeName=e,r.publicId=t||``,r.systemId=n||``,r}};function L(){}L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U(this,e,t)},replaceChild:function(e,t){U(this,e,t,H),t&&this.removeChild(t)},removeChild:function(e){return B(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return Te(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==m&&e.nodeType==m?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r}t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return this.lookupPrefix(e)==null}};function te(e){return e==`<`&&`&lt;`||e==`>`&&`&gt;`||e==`&`&&`&amp;`||e==`"`&&`&quot;`||`&#`+e.charCodeAt()+`;`}l(d,L),l(d,L.prototype);function R(e,t){if(t(e))return!0;if(e=e.firstChild)do if(R(e,t))return!0;while(e=e.nextSibling)}function ne(){this.ownerDocument=this}function z(e,t,n){e&&e._inc++,n.namespaceURI===r.XMLNS&&(t._nsMap[n.prefix?n.localName:``]=n.value)}function re(e,t,n,i){e&&e._inc++,n.namespaceURI===r.XMLNS&&delete t._nsMap[n.prefix?n.localName:``]}function ie(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a,delete r[r.length]}}}function B(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,ie(e.ownerDocument,e),t}function ae(e){return e&&(e.nodeType===L.DOCUMENT_NODE||e.nodeType===L.DOCUMENT_FRAGMENT_NODE||e.nodeType===L.ELEMENT_NODE)}function oe(e){return e&&(ce(e)||le(e)||se(e)||e.nodeType===L.DOCUMENT_FRAGMENT_NODE||e.nodeType===L.COMMENT_NODE||e.nodeType===L.PROCESSING_INSTRUCTION_NODE)}function se(e){return e&&e.nodeType===L.DOCUMENT_TYPE_NODE}function ce(e){return e&&e.nodeType===L.ELEMENT_NODE}function le(e){return e&&e.nodeType===L.TEXT_NODE}function ue(e,t){var r=e.childNodes||[];if(n(r,ce)||se(t))return!1;var i=n(r,se);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function de(e,t){var r=e.childNodes||[];function i(e){return ce(e)&&e!==t}if(n(r,i))return!1;var a=n(r,se);return!(t&&a&&r.indexOf(a)>r.indexOf(t))}function fe(e,t,n){if(!ae(e))throw new k(E,`Unexpected parent node type `+e.nodeType);if(n&&n.parentNode!==e)throw new k(D,`child not in parent`);if(!oe(t)||se(t)&&e.nodeType!==L.DOCUMENT_NODE)throw new k(E,`Unexpected node type `+t.nodeType+` for parent node type `+e.nodeType)}function V(e,t,r){var i=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===L.DOCUMENT_FRAGMENT_NODE){var o=a.filter(ce);if(o.length>1||n(a,le))throw new k(E,`More than one element or text in fragment`);if(o.length===1&&!ue(e,r))throw new k(E,`Element in fragment can not be inserted before doctype`)}if(ce(t)&&!ue(e,r))throw new k(E,`Only one element can be added and only after doctype`);if(se(t)){if(n(i,se))throw new k(E,`Only one doctype is allowed`);var s=n(i,ce);if(r&&i.indexOf(s)<i.indexOf(r))throw new k(E,`Doctype can only be inserted before an element`);if(!r&&s)throw new k(E,`Doctype can not be appended since element is present`)}}function H(e,t,r){var i=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===L.DOCUMENT_FRAGMENT_NODE){var o=a.filter(ce);if(o.length>1||n(a,le))throw new k(E,`More than one element or text in fragment`);if(o.length===1&&!de(e,r))throw new k(E,`Element in fragment can not be inserted before doctype`)}if(ce(t)&&!de(e,r))throw new k(E,`Only one element can be added and only after doctype`);if(se(t)){function e(e){return se(e)&&e!==r}if(n(i,e))throw new k(E,`Only one doctype is allowed`);var s=n(i,ce);if(r&&i.indexOf(s)<i.indexOf(r))throw new k(E,`Doctype can only be inserted before an element`)}}function U(e,t,n,r){fe(e,t,n),e.nodeType===L.DOCUMENT_NODE&&(r||V)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===S){var a=t.firstChild;if(a==null)return t;var o=t.lastChild}else a=o=t;var s=n?n.previousSibling:e.lastChild;a.previousSibling=s,o.nextSibling=n,s?s.nextSibling=a:e.firstChild=a,n==null?e.lastChild=o:n.previousSibling=o;do a.parentNode=e;while(a!==o&&(a=a.nextSibling));return ie(e.ownerDocument||e,e),t.nodeType==S&&(t.firstChild=t.lastChild=null),t}function pe(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,ie(e.ownerDocument,e,t),t}ne.prototype={nodeName:`#document`,nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==S){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return U(this,e,t),e.ownerDocument=this,this.documentElement===null&&e.nodeType===f&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),B(this,e)},replaceChild:function(e,t){U(this,e,t,H),e.ownerDocument=this,t&&this.removeChild(t),ce(e)&&(this.documentElement=e)},importNode:function(e,t){return we(this,e,t)},getElementById:function(e){var t=null;return R(this.documentElement,function(n){if(n.nodeType==f&&n.getAttribute(`id`)==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=s(e);return new j(this,function(n){var r=[];return t.length>0&&R(n.documentElement,function(i){if(i!==n&&i.nodeType===f){var a=i.getAttribute(`class`);if(a){var o=e===a;if(!o){var l=s(a);o=t.every(c(l))}o&&r.push(i)}}}),r})},createElement:function(e){var t=new me;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new A;var n=t.attributes=new N;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new ye;return e.ownerDocument=this,e.childNodes=new A,e},createTextNode:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ge;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new be;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new W;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ve;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new me,r=t.split(`:`),i=n.attributes=new N;return n.childNodes=new A,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new W,r=t.split(`:`);return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},u(ne,L);function me(){this._nsMap={}}me.prototype={nodeType:f,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||``},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=``+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===S?this.insertBefore(e,null):pe(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||``},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=``+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new j(this,function(t){var n=[];return R(t,function(r){r!==t&&r.nodeType==f&&(e===`*`||r.tagName==e)&&n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new j(this,function(n){var r=[];return R(n,function(i){i!==n&&i.nodeType===f&&(e===`*`||i.namespaceURI===e)&&(t===`*`||i.localName==t)&&r.push(i)}),r})}},ne.prototype.getElementsByTagName=me.prototype.getElementsByTagName,ne.prototype.getElementsByTagNameNS=me.prototype.getElementsByTagNameNS,u(me,L);function W(){}W.prototype.nodeType=p,u(W,L);function he(){}he.prototype={data:``,substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw Error(T[E])},deleteData:function(e,t){this.replaceData(e,t,``)},replaceData:function(e,t,n){var r=this.data.substring(0,e),i=this.data.substring(e+t);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}},u(he,L);function G(){}G.prototype={nodeName:`#text`,nodeType:m,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},u(G,he);function K(){}K.prototype={nodeName:`#comment`,nodeType:y},u(K,he);function ge(){}ge.prototype={nodeName:`#cdata-section`,nodeType:h},u(ge,he);function q(){}q.prototype.nodeType=x,u(q,L);function J(){}J.prototype.nodeType=C,u(J,L);function _e(){}_e.prototype.nodeType=_,u(_e,L);function ve(){}ve.prototype.nodeType=g,u(ve,L);function ye(){}ye.prototype.nodeName=`#document-fragment`,ye.prototype.nodeType=S,u(ye,L);function be(){}be.prototype.nodeType=v,u(be,L);function Y(){}Y.prototype.serializeToString=function(e,t,n){return X.call(e,t,n)},L.prototype.toString=X;function X(e,t){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,a=r.namespaceURI;if(a&&i==null){var i=r.lookupPrefix(a);if(i==null)var o=[{namespace:a,prefix:null}]}return Ce(this,n,e,t,o),n.join(``)}function xe(e,t,n){var i=e.prefix||``,a=e.namespaceURI;if(!a||i===`xml`&&a===r.XML||a===r.XMLNS)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix===i)return s.namespace!==a}return!0}function Se(e,t,n){e.push(` `,t,`="`,n.replace(/[<&"]/g,te),`"`)}function Ce(e,t,n,i,a){if(a||=[],i)if(e=i(e),e){if(typeof e==`string`){t.push(e);return}}else return;switch(e.nodeType){case f:var o=e.attributes,s=o.length,c=e.firstChild,l=e.tagName;n=r.isHTML(e.namespaceURI)||n;var u=l;if(!n&&!e.prefix&&e.namespaceURI){for(var d,_=0;_<o.length;_++)if(o.item(_).name===`xmlns`){d=o.item(_).value;break}if(!d)for(var C=a.length-1;C>=0;C--){var w=a[C];if(w.prefix===``&&w.namespace===e.namespaceURI){d=w.namespace;break}}if(d!==e.namespaceURI)for(var C=a.length-1;C>=0;C--){var w=a[C];if(w.namespace===e.namespaceURI){w.prefix&&(u=w.prefix+`:`+l);break}}}t.push(`<`,u);for(var T=0;T<s;T++){var E=o.item(T);E.prefix==`xmlns`?a.push({prefix:E.localName,namespace:E.value}):E.nodeName==`xmlns`&&a.push({prefix:``,namespace:E.value})}for(var T=0;T<s;T++){var E=o.item(T);if(xe(E,n,a)){var D=E.prefix||``,O=E.namespaceURI;Se(t,D?`xmlns:`+D:`xmlns`,O),a.push({prefix:D,namespace:O})}Ce(E,t,n,i,a)}if(l===u&&xe(e,n,a)){var D=e.prefix||``,O=e.namespaceURI;Se(t,D?`xmlns:`+D:`xmlns`,O),a.push({prefix:D,namespace:O})}if(c||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(`>`),n&&/^script$/i.test(l))for(;c;)c.data?t.push(c.data):Ce(c,t,n,i,a.slice()),c=c.nextSibling;else for(;c;)Ce(c,t,n,i,a.slice()),c=c.nextSibling;t.push(`</`,u,`>`)}else t.push(`/>`);return;case b:case S:for(var c=e.firstChild;c;)Ce(c,t,n,i,a.slice()),c=c.nextSibling;return;case p:return Se(t,e.name,e.value);case m:return t.push(e.data.replace(/[<&]/g,te).replace(/]]>/g,`]]&gt;`));case h:return t.push(`<![CDATA[`,e.data,`]]>`);case y:return t.push(`<!--`,e.data,`-->`);case x:var k=e.publicId,A=e.systemId;if(t.push(`<!DOCTYPE `,e.name),k)t.push(` PUBLIC `,k),A&&A!=`.`&&t.push(` `,A),t.push(`>`);else if(A&&A!=`.`)t.push(` SYSTEM `,A,`>`);else{var j=e.internalSubset;j&&t.push(` [`,j,`]`),t.push(`>`)}return;case v:return t.push(`<?`,e.target,` `,e.data,`?>`);case g:return t.push(`&`,e.nodeName,`;`);default:t.push(`??`,e.nodeName)}}function we(e,t,n){var r;switch(t.nodeType){case f:r=t.cloneNode(!1),r.ownerDocument=e;case S:break;case p:n=!0;break}if(r||=t.cloneNode(!1),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(we(e,i,n)),i=i.nextSibling;return r}function Te(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];typeof a!=`object`&&a!=r[i]&&(r[i]=a)}switch(t.childNodes&&(r.childNodes=new A),r.ownerDocument=e,r.nodeType){case f:var o=t.attributes,s=r.attributes=new N,c=o.length;s._ownerElement=r;for(var l=0;l<c;l++)r.setAttributeNode(Te(e,o.item(l),!0));break;case p:n=!0}if(n)for(var u=t.firstChild;u;)r.appendChild(Te(e,u,n)),u=u.nextSibling;return r}function Ee(e,t,n){e[t]=n}try{if(Object.defineProperty){Object.defineProperty(j.prototype,`length`,{get:function(){return M(this),this.$$length}}),Object.defineProperty(L.prototype,`textContent`,{get:function(){return e(this)},set:function(e){switch(this.nodeType){case f:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}});function e(t){switch(t.nodeType){case f:case S:var n=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&n.push(e(t)),t=t.nextSibling;return n.join(``);default:return t.nodeValue}}Ee=function(e,t,n){e[`$$`+t]=n}}}catch{}e.DocumentType=q,e.DOMException=k,e.DOMImplementation=ee,e.Element=me,e.Node=L,e.NodeList=A,e.XMLSerializer=Y})),pl=o((e=>{var t=dl().freeze;e.XML_ENTITIES=t({amp:`&`,apos:`'`,gt:`>`,lt:`<`,quot:`"`}),e.HTML_ENTITIES=t({Aacute:``,aacute:``,Abreve:``,abreve:``,ac:``,acd:``,acE:``,Acirc:``,acirc:``,acute:``,Acy:``,acy:``,AElig:``,aelig:``,af:``,Afr:``,afr:``,Agrave:``,agrave:``,alefsym:``,aleph:``,Alpha:``,alpha:``,Amacr:``,amacr:``,amalg:``,AMP:`&`,amp:`&`,And:``,and:``,andand:``,andd:``,andslope:``,andv:``,ang:``,ange:``,angle:``,angmsd:``,angmsdaa:``,angmsdab:``,angmsdac:``,angmsdad:``,angmsdae:``,angmsdaf:``,angmsdag:``,angmsdah:``,angrt:``,angrtvb:``,angrtvbd:``,angsph:``,angst:``,angzarr:``,Aogon:``,aogon:``,Aopf:``,aopf:``,ap:``,apacir:``,apE:``,ape:``,apid:``,apos:`'`,ApplyFunction:``,approx:``,approxeq:``,Aring:``,aring:``,Ascr:``,ascr:``,Assign:``,ast:`*`,asymp:``,asympeq:``,Atilde:``,atilde:``,Auml:``,auml:``,awconint:``,awint:``,backcong:``,backepsilon:``,backprime:``,backsim:``,backsimeq:``,Backslash:``,Barv:``,barvee:``,Barwed:``,barwed:``,barwedge:``,bbrk:``,bbrktbrk:``,bcong:``,Bcy:``,bcy:``,bdquo:``,becaus:``,Because:``,because:``,bemptyv:``,bepsi:``,bernou:``,Bernoullis:``,Beta:``,beta:``,beth:``,between:``,Bfr:``,bfr:``,bigcap:``,bigcirc:``,bigcup:``,bigodot:``,bigoplus:``,bigotimes:``,bigsqcup:``,bigstar:``,bigtriangledown:``,bigtriangleup:``,biguplus:``,bigvee:``,bigwedge:``,bkarow:``,blacklozenge:``,blacksquare:``,blacktriangle:``,blacktriangledown:``,blacktriangleleft:``,blacktriangleright:``,blank:``,blk12:``,blk14:``,blk34:``,block:``,bne:`=`,bnequiv:``,bNot:``,bnot:``,Bopf:``,bopf:``,bot:``,bottom:``,bowtie:``,boxbox:``,boxDL:``,boxDl:``,boxdL:``,boxdl:``,boxDR:``,boxDr:``,boxdR:``,boxdr:``,boxH:``,boxh:``,boxHD:``,boxHd:``,boxhD:``,boxhd:``,boxHU:``,boxHu:``,boxhU:``,boxhu:``,boxminus:``,boxplus:``,boxtimes:``,boxUL:``,boxUl:``,boxuL:``,boxul:``,boxUR:``,boxUr:``,boxuR:``,boxur:``,boxV:``,boxv:``,boxVH:``,boxVh:``,boxvH:``,boxvh:``,boxVL:``,boxVl:``,boxvL:``,boxvl:``,boxVR:``,boxVr:``,boxvR:``,boxvr:``,bprime:``,Breve:``,breve:``,brvbar:``,Bscr:``,bscr:``,bsemi:``,bsim:``,bsime:``,bsol:`\\`,bsolb:``,bsolhsub:``,bull:``,bullet:``,bump:``,bumpE:``,bumpe:``,Bumpeq:``,bumpeq:``,Cacute:``,cacute:``,Cap:``,cap:``,capand:``,capbrcup:``,capcap:``,capcup:``,capdot:``,CapitalDifferentialD:``,caps:``,caret:``,caron:``,Cayleys:``,ccaps:``,Ccaron:``,ccaron:``,Ccedil:``,ccedil:``,Ccirc:``,ccirc:``,Cconint:``,ccups:``,ccupssm:``,Cdot:``,cdot:``,cedil:``,Cedilla:``,cemptyv:``,cent:``,CenterDot:``,centerdot:``,Cfr:``,cfr:``,CHcy:``,chcy:``,check:``,checkmark:``,Chi:``,chi:``,cir:``,circ:``,circeq:``,circlearrowleft:``,circlearrowright:``,circledast:``,circledcirc:``,circleddash:``,CircleDot:``,circledR:``,circledS:``,CircleMinus:``,CirclePlus:``,CircleTimes:``,cirE:``,cire:``,cirfnint:``,cirmid:``,cirscir:``,ClockwiseContourIntegral:``,CloseCurlyDoubleQuote:``,CloseCurlyQuote:``,clubs:``,clubsuit:``,Colon:``,colon:`:`,Colone:``,colone:``,coloneq:``,comma:`,`,commat:`@`,comp:``,compfn:``,complement:``,complexes:``,cong:``,congdot:``,Congruent:``,Conint:``,conint:``,ContourIntegral:``,Copf:``,copf:``,coprod:``,Coproduct:``,COPY:``,copy:``,copysr:``,CounterClockwiseContourIntegral:``,crarr:``,Cross:``,cross:``,Cscr:``,cscr:``,csub:``,csube:``,csup:``,csupe:``,ctdot:``,cudarrl:``,cudarrr:``,cuepr:``,cuesc:``,cularr:``,cularrp:``,Cup:``,cup:``,cupbrcap:``,CupCap:``,cupcap:``,cupcup:``,cupdot:``,cupor:``,cups:``,curarr:``,curarrm:``,curlyeqprec:``,curlyeqsucc:``,curlyvee:``,curlywedge:``,curren:``,curvearrowleft:``,curvearrowright:``,cuvee:``,cuwed:``,cwconint:``,cwint:``,cylcty:``,Dagger:``,dagger:``,daleth:``,Darr:``,dArr:``,darr:``,dash:``,Dashv:``,dashv:``,dbkarow:``,dblac:``,Dcaron:``,dcaron:``,Dcy:``,dcy:``,DD:``,dd:``,ddagger:``,ddarr:``,DDotrahd:``,ddotseq:``,deg:``,Del:``,Delta:``,delta:``,demptyv:``,dfisht:``,Dfr:``,dfr:``,dHar:``,dharl:``,dharr:``,DiacriticalAcute:``,DiacriticalDot:``,DiacriticalDoubleAcute:``,DiacriticalGrave:"`",DiacriticalTilde:``,diam:``,Diamond:``,diamond:``,diamondsuit:``,diams:``,die:``,DifferentialD:``,digamma:``,disin:``,div:``,divide:``,divideontimes:``,divonx:``,DJcy:``,djcy:``,dlcorn:``,dlcrop:``,dollar:`$`,Dopf:``,dopf:``,Dot:``,dot:``,DotDot:``,doteq:``,doteqdot:``,DotEqual:``,dotminus:``,dotplus:``,dotsquare:``,doublebarwedge:``,DoubleContourIntegral:``,DoubleDot:``,DoubleDownArrow:``,DoubleLeftArrow:``,DoubleLeftRightArrow:``,DoubleLeftTee:``,DoubleLongLeftArrow:``,DoubleLongLeftRightArrow:``,DoubleLongRightArrow:``,DoubleRightArrow:``,DoubleRightTee:``,DoubleUpArrow:``,DoubleUpDownArrow:``,DoubleVerticalBar:``,DownArrow:``,Downarrow:``,downarrow:``,DownArrowBar:``,DownArrowUpArrow:``,DownBreve:``,downdownarrows:``,downharpoonleft:``,downharpoonright:``,DownLeftRightVector:``,DownLeftTeeVector:``,DownLeftVector:``,DownLeftVectorBar:``,DownRightTeeVector:``,DownRightVector:``,DownRightVectorBar:``,DownTee:``,DownTeeArrow:``,drbkarow:``,drcorn:``,drcrop:``,Dscr:``,dscr:``,DScy:``,dscy:``,dsol:``,Dstrok:``,dstrok:``,dtdot:``,dtri:``,dtrif:``,duarr:``,duhar:``,dwangle:``,DZcy:``,dzcy:``,dzigrarr:``,Eacute:``,eacute:``,easter:``,Ecaron:``,ecaron:``,ecir:``,Ecirc:``,ecirc:``,ecolon:``,Ecy:``,ecy:``,eDDot:``,Edot:``,eDot:``,edot:``,ee:``,efDot:``,Efr:``,efr:``,eg:``,Egrave:``,egrave:``,egs:``,egsdot:``,el:``,Element:``,elinters:``,ell:``,els:``,elsdot:``,Emacr:``,emacr:``,empty:``,emptyset:``,EmptySmallSquare:``,emptyv:``,EmptyVerySmallSquare:``,emsp:``,emsp13:``,emsp14:``,ENG:``,eng:``,ensp:``,Eogon:``,eogon:``,Eopf:``,eopf:``,epar:``,eparsl:``,eplus:``,epsi:``,Epsilon:``,epsilon:``,epsiv:``,eqcirc:``,eqcolon:``,eqsim:``,eqslantgtr:``,eqslantless:``,Equal:``,equals:`=`,EqualTilde:``,equest:``,Equilibrium:``,equiv:``,equivDD:``,eqvparsl:``,erarr:``,erDot:``,Escr:``,escr:``,esdot:``,Esim:``,esim:``,Eta:``,eta:``,ETH:``,eth:``,Euml:``,euml:``,euro:``,excl:`!`,exist:``,Exists:``,expectation:``,ExponentialE:``,exponentiale:``,fallingdotseq:``,Fcy:``,fcy:``,female:``,ffilig:``,fflig:``,ffllig:``,Ffr:``,ffr:``,filig:``,FilledSmallSquare:``,FilledVerySmallSquare:``,fjlig:`fj`,flat:``,fllig:``,fltns:``,fnof:``,Fopf:``,fopf:``,ForAll:``,forall:``,fork:``,forkv:``,Fouriertrf:``,fpartint:``,frac12:``,frac13:``,frac14:``,frac15:``,frac16:``,frac18:``,frac23:``,frac25:``,frac34:``,frac35:``,frac38:``,frac45:``,frac56:``,frac58:``,frac78:``,frasl:``,frown:``,Fscr:``,fscr:``,gacute:``,Gamma:``,gamma:``,Gammad:``,gammad:``,gap:``,Gbreve:``,gbreve:``,Gcedil:``,Gcirc:``,gcirc:``,Gcy:``,gcy:``,Gdot:``,gdot:``,gE:``,ge:``,gEl:``,gel:``,geq:``,geqq:``,geqslant:``,ges:``,gescc:``,gesdot:``,gesdoto:``,gesdotol:``,gesl:``,gesles:``,Gfr:``,gfr:``,Gg:``,gg:``,ggg:``,gimel:``,GJcy:``,gjcy:``,gl:``,gla:``,glE:``,glj:``,gnap:``,gnapprox:``,gnE:``,gne:``,gneq:``,gneqq:``,gnsim:``,Gopf:``,gopf:``,grave:"`",GreaterEqual:``,GreaterEqualLess:``,GreaterFullEqual:``,GreaterGreater:``,GreaterLess:``,GreaterSlantEqual:``,GreaterTilde:``,Gscr:``,gscr:``,gsim:``,gsime:``,gsiml:``,Gt:``,GT:`>`,gt:`>`,gtcc:``,gtcir:``,gtdot:``,gtlPar:``,gtquest:``,gtrapprox:``,gtrarr:``,gtrdot:``,gtreqless:``,gtreqqless:``,gtrless:``,gtrsim:``,gvertneqq:``,gvnE:``,Hacek:``,hairsp:``,half:``,hamilt:``,HARDcy:``,hardcy:``,hArr:``,harr:``,harrcir:``,harrw:``,Hat:`^`,hbar:``,Hcirc:``,hcirc:``,hearts:``,heartsuit:``,hellip:``,hercon:``,Hfr:``,hfr:``,HilbertSpace:``,hksearow:``,hkswarow:``,hoarr:``,homtht:``,hookleftarrow:``,hookrightarrow:``,Hopf:``,hopf:``,horbar:``,HorizontalLine:``,Hscr:``,hscr:``,hslash:``,Hstrok:``,hstrok:``,HumpDownHump:``,HumpEqual:``,hybull:``,hyphen:``,Iacute:``,iacute:``,ic:``,Icirc:``,icirc:``,Icy:``,icy:``,Idot:``,IEcy:``,iecy:``,iexcl:``,iff:``,Ifr:``,ifr:``,Igrave:``,igrave:``,ii:``,iiiint:``,iiint:``,iinfin:``,iiota:``,IJlig:``,ijlig:``,Im:``,Imacr:``,imacr:``,image:``,ImaginaryI:``,imagline:``,imagpart:``,imath:``,imof:``,imped:``,Implies:``,in:``,incare:``,infin:``,infintie:``,inodot:``,Int:``,int:``,intcal:``,integers:``,Integral:``,intercal:``,Intersection:``,intlarhk:``,intprod:``,InvisibleComma:``,InvisibleTimes:``,IOcy:``,iocy:``,Iogon:``,iogon:``,Iopf:``,iopf:``,Iota:``,iota:``,iprod:``,iquest:``,Iscr:``,iscr:``,isin:``,isindot:``,isinE:``,isins:``,isinsv:``,isinv:``,it:``,Itilde:``,itilde:``,Iukcy:``,iukcy:``,Iuml:``,iuml:``,Jcirc:``,jcirc:``,Jcy:``,jcy:``,Jfr:``,jfr:``,jmath:``,Jopf:``,jopf:``,Jscr:``,jscr:``,Jsercy:``,jsercy:``,Jukcy:``,jukcy:``,Kappa:``,kappa:``,kappav:``,Kcedil:``,kcedil:``,Kcy:``,kcy:``,Kfr:``,kfr:``,kgreen:``,KHcy:``,khcy:``,KJcy:``,kjcy:``,Kopf:``,kopf:``,Kscr:``,kscr:``,lAarr:``,Lacute:``,lacute:``,laemptyv:``,lagran:``,Lambda:``,lambda:``,Lang:``,lang:``,langd:``,langle:``,lap:``,Laplacetrf:``,laquo:``,Larr:``,lArr:``,larr:``,larrb:``,larrbfs:``,larrfs:``,larrhk:``,larrlp:``,larrpl:``,larrsim:``,larrtl:``,lat:``,lAtail:``,latail:``,late:``,lates:``,lBarr:``,lbarr:``,lbbrk:``,lbrace:`{`,lbrack:`[`,lbrke:``,lbrksld:``,lbrkslu:``,Lcaron:``,lcaron:``,Lcedil:``,lcedil:``,lceil:``,lcub:`{`,Lcy:``,lcy:``,ldca:``,ldquo:``,ldquor:``,ldrdhar:``,ldrushar:``,ldsh:``,lE:``,le:``,LeftAngleBracket:``,LeftArrow:``,Leftarrow:``,leftarrow:``,LeftArrowBar:``,LeftArrowRightArrow:``,leftarrowtail:``,LeftCeiling:``,LeftDoubleBracket:``,LeftDownTeeVector:``,LeftDownVector:``,LeftDownVectorBar:``,LeftFloor:``,leftharpoondown:``,leftharpoonup:``,leftleftarrows:``,LeftRightArrow:``,Leftrightarrow:``,leftrightarrow:``,leftrightarrows:``,leftrightharpoons:``,leftrightsquigarrow:``,LeftRightVector:``,LeftTee:``,LeftTeeArrow:``,LeftTeeVector:``,leftthreetimes:``,LeftTriangle:``,LeftTriangleBar:``,LeftTriangleEqual:``,LeftUpDownVector:``,LeftUpTeeVector:``,LeftUpVector:``,LeftUpVectorBar:``,LeftVector:``,LeftVectorBar:``,lEg:``,leg:``,leq:``,leqq:``,leqslant:``,les:``,lescc:``,lesdot:``,lesdoto:``,lesdotor:``,lesg:``,lesges:``,lessapprox:``,lessdot:``,lesseqgtr:``,lesseqqgtr:``,LessEqualGreater:``,LessFullEqual:``,LessGreater:``,lessgtr:``,LessLess:``,lesssim:``,LessSlantEqual:``,LessTilde:``,lfisht:``,lfloor:``,Lfr:``,lfr:``,lg:``,lgE:``,lHar:``,lhard:``,lharu:``,lharul:``,lhblk:``,LJcy:``,ljcy:``,Ll:``,ll:``,llarr:``,llcorner:``,Lleftarrow:``,llhard:``,lltri:``,Lmidot:``,lmidot:``,lmoust:``,lmoustache:``,lnap:``,lnapprox:``,lnE:``,lne:``,lneq:``,lneqq:``,lnsim:``,loang:``,loarr:``,lobrk:``,LongLeftArrow:``,Longleftarrow:``,longleftarrow:``,LongLeftRightArrow:``,Longleftrightarrow:``,longleftrightarrow:``,longmapsto:``,LongRightArrow:``,Longrightarrow:``,longrightarrow:``,looparrowleft:``,looparrowright:``,lopar:``,Lopf:``,lopf:``,loplus:``,lotimes:``,lowast:``,lowbar:`_`,LowerLeftArrow:``,LowerRightArrow:``,loz:``,lozenge:``,lozf:``,lpar:`(`,lparlt:``,lrarr:``,lrcorner:``,lrhar:``,lrhard:``,lrm:``,lrtri:``,lsaquo:``,Lscr:``,lscr:``,Lsh:``,lsh:``,lsim:``,lsime:``,lsimg:``,lsqb:`[`,lsquo:``,lsquor:``,Lstrok:``,lstrok:``,Lt:``,LT:`<`,lt:`<`,ltcc:``,ltcir:``,ltdot:``,lthree:``,ltimes:``,ltlarr:``,ltquest:``,ltri:``,ltrie:``,ltrif:``,ltrPar:``,lurdshar:``,luruhar:``,lvertneqq:``,lvnE:``,macr:``,male:``,malt:``,maltese:``,Map:``,map:``,mapsto:``,mapstodown:``,mapstoleft:``,mapstoup:``,marker:``,mcomma:``,Mcy:``,mcy:``,mdash:``,mDDot:``,measuredangle:``,MediumSpace:``,Mellintrf:``,Mfr:``,mfr:``,mho:``,micro:``,mid:``,midast:`*`,midcir:``,middot:``,minus:``,minusb:``,minusd:``,minusdu:``,MinusPlus:``,mlcp:``,mldr:``,mnplus:``,models:``,Mopf:``,mopf:``,mp:``,Mscr:``,mscr:``,mstpos:``,Mu:``,mu:``,multimap:``,mumap:``,nabla:``,Nacute:``,nacute:``,nang:``,nap:``,napE:``,napid:``,napos:``,napprox:``,natur:``,natural:``,naturals:``,nbsp:`\xA0`,nbump:``,nbumpe:``,ncap:``,Ncaron:``,ncaron:``,Ncedil:``,ncedil:``,ncong:``,ncongdot:``,ncup:``,Ncy:``,ncy:``,ndash:``,ne:``,nearhk:``,neArr:``,nearr:``,nearrow:``,nedot:``,NegativeMediumSpace:``,NegativeThickSpace:``,NegativeThinSpace:``,NegativeVeryThinSpace:``,nequiv:``,nesear:``,nesim:``,NestedGreaterGreater:``,NestedLessLess:``,NewLine:`
`,nexist:``,nexists:``,Nfr:``,nfr:``,ngE:``,nge:``,ngeq:``,ngeqq:``,ngeqslant:``,nges:``,nGg:``,ngsim:``,nGt:``,ngt:``,ngtr:``,nGtv:``,nhArr:``,nharr:``,nhpar:``,ni:``,nis:``,nisd:``,niv:``,NJcy:``,njcy:``,nlArr:``,nlarr:``,nldr:``,nlE:``,nle:``,nLeftarrow:``,nleftarrow:``,nLeftrightarrow:``,nleftrightarrow:``,nleq:``,nleqq:``,nleqslant:``,nles:``,nless:``,nLl:``,nlsim:``,nLt:``,nlt:``,nltri:``,nltrie:``,nLtv:``,nmid:``,NoBreak:``,NonBreakingSpace:`\xA0`,Nopf:``,nopf:``,Not:``,not:``,NotCongruent:``,NotCupCap:``,NotDoubleVerticalBar:``,NotElement:``,NotEqual:``,NotEqualTilde:``,NotExists:``,NotGreater:``,NotGreaterEqual:``,NotGreaterFullEqual:``,NotGreaterGreater:``,NotGreaterLess:``,NotGreaterSlantEqual:``,NotGreaterTilde:``,NotHumpDownHump:``,NotHumpEqual:``,notin:``,notindot:``,notinE:``,notinva:``,notinvb:``,notinvc:``,NotLeftTriangle:``,NotLeftTriangleBar:``,NotLeftTriangleEqual:``,NotLess:``,NotLessEqual:``,NotLessGreater:``,NotLessLess:``,NotLessSlantEqual:``,NotLessTilde:``,NotNestedGreaterGreater:``,NotNestedLessLess:``,notni:``,notniva:``,notnivb:``,notnivc:``,NotPrecedes:``,NotPrecedesEqual:``,NotPrecedesSlantEqual:``,NotReverseElement:``,NotRightTriangle:``,NotRightTriangleBar:``,NotRightTriangleEqual:``,NotSquareSubset:``,NotSquareSubsetEqual:``,NotSquareSuperset:``,NotSquareSupersetEqual:``,NotSubset:``,NotSubsetEqual:``,NotSucceeds:``,NotSucceedsEqual:``,NotSucceedsSlantEqual:``,NotSucceedsTilde:``,NotSuperset:``,NotSupersetEqual:``,NotTilde:``,NotTildeEqual:``,NotTildeFullEqual:``,NotTildeTilde:``,NotVerticalBar:``,npar:``,nparallel:``,nparsl:``,npart:``,npolint:``,npr:``,nprcue:``,npre:``,nprec:``,npreceq:``,nrArr:``,nrarr:``,nrarrc:``,nrarrw:``,nRightarrow:``,nrightarrow:``,nrtri:``,nrtrie:``,nsc:``,nsccue:``,nsce:``,Nscr:``,nscr:``,nshortmid:``,nshortparallel:``,nsim:``,nsime:``,nsimeq:``,nsmid:``,nspar:``,nsqsube:``,nsqsupe:``,nsub:``,nsubE:``,nsube:``,nsubset:``,nsubseteq:``,nsubseteqq:``,nsucc:``,nsucceq:``,nsup:``,nsupE:``,nsupe:``,nsupset:``,nsupseteq:``,nsupseteqq:``,ntgl:``,Ntilde:``,ntilde:``,ntlg:``,ntriangleleft:``,ntrianglelefteq:``,ntriangleright:``,ntrianglerighteq:``,Nu:``,nu:``,num:`#`,numero:``,numsp:``,nvap:``,nVDash:``,nVdash:``,nvDash:``,nvdash:``,nvge:``,nvgt:`>`,nvHarr:``,nvinfin:``,nvlArr:``,nvle:``,nvlt:`<`,nvltrie:``,nvrArr:``,nvrtrie:``,nvsim:``,nwarhk:``,nwArr:``,nwarr:``,nwarrow:``,nwnear:``,Oacute:``,oacute:``,oast:``,ocir:``,Ocirc:``,ocirc:``,Ocy:``,ocy:``,odash:``,Odblac:``,odblac:``,odiv:``,odot:``,odsold:``,OElig:``,oelig:``,ofcir:``,Ofr:``,ofr:``,ogon:``,Ograve:``,ograve:``,ogt:``,ohbar:``,ohm:``,oint:``,olarr:``,olcir:``,olcross:``,oline:``,olt:``,Omacr:``,omacr:``,Omega:``,omega:``,Omicron:``,omicron:``,omid:``,ominus:``,Oopf:``,oopf:``,opar:``,OpenCurlyDoubleQuote:``,OpenCurlyQuote:``,operp:``,oplus:``,Or:``,or:``,orarr:``,ord:``,order:``,orderof:``,ordf:``,ordm:``,origof:``,oror:``,orslope:``,orv:``,oS:``,Oscr:``,oscr:``,Oslash:``,oslash:``,osol:``,Otilde:``,otilde:``,Otimes:``,otimes:``,otimesas:``,Ouml:``,ouml:``,ovbar:``,OverBar:``,OverBrace:``,OverBracket:``,OverParenthesis:``,par:``,para:``,parallel:``,parsim:``,parsl:``,part:``,PartialD:``,Pcy:``,pcy:``,percnt:`%`,period:`.`,permil:``,perp:``,pertenk:``,Pfr:``,pfr:``,Phi:``,phi:``,phiv:``,phmmat:``,phone:``,Pi:``,pi:``,pitchfork:``,piv:``,planck:``,planckh:``,plankv:``,plus:`+`,plusacir:``,plusb:``,pluscir:``,plusdo:``,plusdu:``,pluse:``,PlusMinus:``,plusmn:``,plussim:``,plustwo:``,pm:``,Poincareplane:``,pointint:``,Popf:``,popf:``,pound:``,Pr:``,pr:``,prap:``,prcue:``,prE:``,pre:``,prec:``,precapprox:``,preccurlyeq:``,Precedes:``,PrecedesEqual:``,PrecedesSlantEqual:``,PrecedesTilde:``,preceq:``,precnapprox:``,precneqq:``,precnsim:``,precsim:``,Prime:``,prime:``,primes:``,prnap:``,prnE:``,prnsim:``,prod:``,Product:``,profalar:``,profline:``,profsurf:``,prop:``,Proportion:``,Proportional:``,propto:``,prsim:``,prurel:``,Pscr:``,pscr:``,Psi:``,psi:``,puncsp:``,Qfr:``,qfr:``,qint:``,Qopf:``,qopf:``,qprime:``,Qscr:``,qscr:``,quaternions:``,quatint:``,quest:`?`,questeq:``,QUOT:`"`,quot:`"`,rAarr:``,race:``,Racute:``,racute:``,radic:``,raemptyv:``,Rang:``,rang:``,rangd:``,range:``,rangle:``,raquo:``,Rarr:``,rArr:``,rarr:``,rarrap:``,rarrb:``,rarrbfs:``,rarrc:``,rarrfs:``,rarrhk:``,rarrlp:``,rarrpl:``,rarrsim:``,Rarrtl:``,rarrtl:``,rarrw:``,rAtail:``,ratail:``,ratio:``,rationals:``,RBarr:``,rBarr:``,rbarr:``,rbbrk:``,rbrace:`}`,rbrack:`]`,rbrke:``,rbrksld:``,rbrkslu:``,Rcaron:``,rcaron:``,Rcedil:``,rcedil:``,rceil:``,rcub:`}`,Rcy:``,rcy:``,rdca:``,rdldhar:``,rdquo:``,rdquor:``,rdsh:``,Re:``,real:``,realine:``,realpart:``,reals:``,rect:``,REG:``,reg:``,ReverseElement:``,ReverseEquilibrium:``,ReverseUpEquilibrium:``,rfisht:``,rfloor:``,Rfr:``,rfr:``,rHar:``,rhard:``,rharu:``,rharul:``,Rho:``,rho:``,rhov:``,RightAngleBracket:``,RightArrow:``,Rightarrow:``,rightarrow:``,RightArrowBar:``,RightArrowLeftArrow:``,rightarrowtail:``,RightCeiling:``,RightDoubleBracket:``,RightDownTeeVector:``,RightDownVector:``,RightDownVectorBar:``,RightFloor:``,rightharpoondown:``,rightharpoonup:``,rightleftarrows:``,rightleftharpoons:``,rightrightarrows:``,rightsquigarrow:``,RightTee:``,RightTeeArrow:``,RightTeeVector:``,rightthreetimes:``,RightTriangle:``,RightTriangleBar:``,RightTriangleEqual:``,RightUpDownVector:``,RightUpTeeVector:``,RightUpVector:``,RightUpVectorBar:``,RightVector:``,RightVectorBar:``,ring:``,risingdotseq:``,rlarr:``,rlhar:``,rlm:``,rmoust:``,rmoustache:``,rnmid:``,roang:``,roarr:``,robrk:``,ropar:``,Ropf:``,ropf:``,roplus:``,rotimes:``,RoundImplies:``,rpar:`)`,rpargt:``,rppolint:``,rrarr:``,Rrightarrow:``,rsaquo:``,Rscr:``,rscr:``,Rsh:``,rsh:``,rsqb:`]`,rsquo:``,rsquor:``,rthree:``,rtimes:``,rtri:``,rtrie:``,rtrif:``,rtriltri:``,RuleDelayed:``,ruluhar:``,rx:``,Sacute:``,sacute:``,sbquo:``,Sc:``,sc:``,scap:``,Scaron:``,scaron:``,sccue:``,scE:``,sce:``,Scedil:``,scedil:``,Scirc:``,scirc:``,scnap:``,scnE:``,scnsim:``,scpolint:``,scsim:``,Scy:``,scy:``,sdot:``,sdotb:``,sdote:``,searhk:``,seArr:``,searr:``,searrow:``,sect:``,semi:`;`,seswar:``,setminus:``,setmn:``,sext:``,Sfr:``,sfr:``,sfrown:``,sharp:``,SHCHcy:``,shchcy:``,SHcy:``,shcy:``,ShortDownArrow:``,ShortLeftArrow:``,shortmid:``,shortparallel:``,ShortRightArrow:``,ShortUpArrow:``,shy:``,Sigma:``,sigma:``,sigmaf:``,sigmav:``,sim:``,simdot:``,sime:``,simeq:``,simg:``,simgE:``,siml:``,simlE:``,simne:``,simplus:``,simrarr:``,slarr:``,SmallCircle:``,smallsetminus:``,smashp:``,smeparsl:``,smid:``,smile:``,smt:``,smte:``,smtes:``,SOFTcy:``,softcy:``,sol:`/`,solb:``,solbar:``,Sopf:``,sopf:``,spades:``,spadesuit:``,spar:``,sqcap:``,sqcaps:``,sqcup:``,sqcups:``,Sqrt:``,sqsub:``,sqsube:``,sqsubset:``,sqsubseteq:``,sqsup:``,sqsupe:``,sqsupset:``,sqsupseteq:``,squ:``,Square:``,square:``,SquareIntersection:``,SquareSubset:``,SquareSubsetEqual:``,SquareSuperset:``,SquareSupersetEqual:``,SquareUnion:``,squarf:``,squf:``,srarr:``,Sscr:``,sscr:``,ssetmn:``,ssmile:``,sstarf:``,Star:``,star:``,starf:``,straightepsilon:``,straightphi:``,strns:``,Sub:``,sub:``,subdot:``,subE:``,sube:``,subedot:``,submult:``,subnE:``,subne:``,subplus:``,subrarr:``,Subset:``,subset:``,subseteq:``,subseteqq:``,SubsetEqual:``,subsetneq:``,subsetneqq:``,subsim:``,subsub:``,subsup:``,succ:``,succapprox:``,succcurlyeq:``,Succeeds:``,SucceedsEqual:``,SucceedsSlantEqual:``,SucceedsTilde:``,succeq:``,succnapprox:``,succneqq:``,succnsim:``,succsim:``,SuchThat:``,Sum:``,sum:``,sung:``,Sup:``,sup:``,sup1:``,sup2:``,sup3:``,supdot:``,supdsub:``,supE:``,supe:``,supedot:``,Superset:``,SupersetEqual:``,suphsol:``,suphsub:``,suplarr:``,supmult:``,supnE:``,supne:``,supplus:``,Supset:``,supset:``,supseteq:``,supseteqq:``,supsetneq:``,supsetneqq:``,supsim:``,supsub:``,supsup:``,swarhk:``,swArr:``,swarr:``,swarrow:``,swnwar:``,szlig:``,Tab:`	`,target:``,Tau:``,tau:``,tbrk:``,Tcaron:``,tcaron:``,Tcedil:``,tcedil:``,Tcy:``,tcy:``,tdot:``,telrec:``,Tfr:``,tfr:``,there4:``,Therefore:``,therefore:``,Theta:``,theta:``,thetasym:``,thetav:``,thickapprox:``,thicksim:``,ThickSpace:``,thinsp:``,ThinSpace:``,thkap:``,thksim:``,THORN:``,thorn:``,Tilde:``,tilde:``,TildeEqual:``,TildeFullEqual:``,TildeTilde:``,times:``,timesb:``,timesbar:``,timesd:``,tint:``,toea:``,top:``,topbot:``,topcir:``,Topf:``,topf:``,topfork:``,tosa:``,tprime:``,TRADE:``,trade:``,triangle:``,triangledown:``,triangleleft:``,trianglelefteq:``,triangleq:``,triangleright:``,trianglerighteq:``,tridot:``,trie:``,triminus:``,TripleDot:``,triplus:``,trisb:``,tritime:``,trpezium:``,Tscr:``,tscr:``,TScy:``,tscy:``,TSHcy:``,tshcy:``,Tstrok:``,tstrok:``,twixt:``,twoheadleftarrow:``,twoheadrightarrow:``,Uacute:``,uacute:``,Uarr:``,uArr:``,uarr:``,Uarrocir:``,Ubrcy:``,ubrcy:``,Ubreve:``,ubreve:``,Ucirc:``,ucirc:``,Ucy:``,ucy:``,udarr:``,Udblac:``,udblac:``,udhar:``,ufisht:``,Ufr:``,ufr:``,Ugrave:``,ugrave:``,uHar:``,uharl:``,uharr:``,uhblk:``,ulcorn:``,ulcorner:``,ulcrop:``,ultri:``,Umacr:``,umacr:``,uml:``,UnderBar:`_`,UnderBrace:``,UnderBracket:``,UnderParenthesis:``,Union:``,UnionPlus:``,Uogon:``,uogon:``,Uopf:``,uopf:``,UpArrow:``,Uparrow:``,uparrow:``,UpArrowBar:``,UpArrowDownArrow:``,UpDownArrow:``,Updownarrow:``,updownarrow:``,UpEquilibrium:``,upharpoonleft:``,upharpoonright:``,uplus:``,UpperLeftArrow:``,UpperRightArrow:``,Upsi:``,upsi:``,upsih:``,Upsilon:``,upsilon:``,UpTee:``,UpTeeArrow:``,upuparrows:``,urcorn:``,urcorner:``,urcrop:``,Uring:``,uring:``,urtri:``,Uscr:``,uscr:``,utdot:``,Utilde:``,utilde:``,utri:``,utrif:``,uuarr:``,Uuml:``,uuml:``,uwangle:``,vangrt:``,varepsilon:``,varkappa:``,varnothing:``,varphi:``,varpi:``,varpropto:``,vArr:``,varr:``,varrho:``,varsigma:``,varsubsetneq:``,varsubsetneqq:``,varsupsetneq:``,varsupsetneqq:``,vartheta:``,vartriangleleft:``,vartriangleright:``,Vbar:``,vBar:``,vBarv:``,Vcy:``,vcy:``,VDash:``,Vdash:``,vDash:``,vdash:``,Vdashl:``,Vee:``,vee:``,veebar:``,veeeq:``,vellip:``,Verbar:``,verbar:`|`,Vert:``,vert:`|`,VerticalBar:``,VerticalLine:`|`,VerticalSeparator:``,VerticalTilde:``,VeryThinSpace:``,Vfr:``,vfr:``,vltri:``,vnsub:``,vnsup:``,Vopf:``,vopf:``,vprop:``,vrtri:``,Vscr:``,vscr:``,vsubnE:``,vsubne:``,vsupnE:``,vsupne:``,Vvdash:``,vzigzag:``,Wcirc:``,wcirc:``,wedbar:``,Wedge:``,wedge:``,wedgeq:``,weierp:``,Wfr:``,wfr:``,Wopf:``,wopf:``,wp:``,wr:``,wreath:``,Wscr:``,wscr:``,xcap:``,xcirc:``,xcup:``,xdtri:``,Xfr:``,xfr:``,xhArr:``,xharr:``,Xi:``,xi:``,xlArr:``,xlarr:``,xmap:``,xnis:``,xodot:``,Xopf:``,xopf:``,xoplus:``,xotime:``,xrArr:``,xrarr:``,Xscr:``,xscr:``,xsqcup:``,xuplus:``,xutri:``,xvee:``,xwedge:``,Yacute:``,yacute:``,YAcy:``,yacy:``,Ycirc:``,ycirc:``,Ycy:``,ycy:``,yen:``,Yfr:``,yfr:``,YIcy:``,yicy:``,Yopf:``,yopf:``,Yscr:``,yscr:``,YUcy:``,yucy:``,Yuml:``,yuml:``,Zacute:``,zacute:``,Zcaron:``,zcaron:``,Zcy:``,zcy:``,Zdot:``,zdot:``,zeetrf:``,ZeroWidthSpace:``,Zeta:``,zeta:``,Zfr:``,zfr:``,ZHcy:``,zhcy:``,zigrarr:``,Zopf:``,zopf:``,Zscr:``,zscr:``,zwj:``,zwnj:``}),e.entityMap=e.HTML_ENTITIES})),ml=o((e=>{var t=dl().NAMESPACE,n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=RegExp(`[\\-\\.0-9`+n.source.slice(1,-1)+`\\u00B7\\u0300-\\u036F\\u203F-\\u2040]`),i=RegExp(`^`+n.source+r.source+`*(?::`+n.source+r.source+`*)?$`),a=0,o=1,s=2,c=3,l=4,u=5,d=6,f=7;function p(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,p)}p.prototype=Error(),p.prototype.name=p.name;function m(){}m.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),x(t,t={}),h(e,t,n,r,this.errorHandler),r.endDocument()}};function h(e,n,r,i,a){function o(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}else return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return t in r?r[t]:t.charAt(0)===`#`?o(parseInt(t.substr(1).replace(`x`,`0x`))):(a.error(`entity not found:`+e),e)}function c(t){if(t>T){var n=e.substring(T,t).replace(/&#?\w+;/g,s);m&&l(T),i.characters(n,0,t-T),T=t}}function l(t,n){for(;t>=d&&(n=f.exec(e));)u=n.index,d=u+n[0].length,m.lineNumber++;m.columnNumber=t-u+1}for(var u=0,d=0,f=/.*(?:\r\n?|\n)|.*$/g,m=i.locator,h=[{currentNSMap:n}],x={},T=0;;){try{var E=e.indexOf(`<`,T);if(E<0){if(!e.substr(T).match(/^\s*$/)){var D=i.doc,O=D.createTextNode(e.substr(T));D.appendChild(O),i.currentElement=O}return}switch(E>T&&c(E),e.charAt(E+1)){case`/`:var k=e.indexOf(`>`,E+3),A=e.substring(E+2,k).replace(/[ \t\n\r]+$/g,``),j=h.pop();k<0?(A=e.substring(E+2).replace(/[\s<].*/,``),a.error(`end tag name: `+A+` is not complete:`+j.tagName),k=E+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,``),a.error(`end tag name: `+A+` maybe not complete`),k=E+1+A.length);var M=j.localNSMap,N=j.tagName==A;if(N||j.tagName&&j.tagName.toLowerCase()==A.toLowerCase()){if(i.endElement(j.uri,j.localName,A),M)for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&i.endPrefixMapping(P);N||a.fatalError(`end tag name: `+A+` is not match the current start tagName:`+j.tagName)}else h.push(j);k++;break;case`?`:m&&l(E),k=C(e,E,i);break;case`!`:m&&l(E),k=S(e,E,i,a);break;default:m&&l(E);var F=new w,I=h[h.length-1].currentNSMap,k=_(e,E,F,I,s,a),ee=F.length;if(!F.closed&&b(e,k,F.tagName,x)&&(F.closed=!0,r.nbsp||a.warning(`unclosed xml attribute`)),m&&ee){for(var L=g(m,{}),te=0;te<ee;te++){var R=F[te];l(R.offset),R.locator=g(m,{})}i.locator=L,v(F,i,I)&&h.push(F),i.locator=m}else v(F,i,I)&&h.push(F);t.isHTML(F.uri)&&!F.closed?k=y(e,k,F.tagName,s,i):k++}}catch(e){if(e instanceof p)throw e;a.error(`element parse error: `+e),k=-1}k>T?T=k:c(Math.max(E,T)+1)}}function g(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function _(e,n,r,i,p,m){function h(e,t,n){r.attributeNames.hasOwnProperty(e)&&m.fatalError(`Attribute `+e+` redefined`),r.addValue(e,t,n)}for(var g,_,v=++n,y=a;;){var b=e.charAt(v);switch(b){case`=`:if(y===o)g=e.slice(n,v),y=c;else if(y===s)y=c;else throw Error(`attribute equal must after attrName`);break;case`'`:case`"`:if(y===c||y===o)if(y===o&&(m.warning(`attribute value must after "="`),g=e.slice(n,v)),n=v+1,v=e.indexOf(b,n),v>0)_=e.slice(n,v).replace(/&#?\w+;/g,p),h(g,_,n-1),y=u;else throw Error(`attribute value no end '`+b+`' match`);else if(y==l)_=e.slice(n,v).replace(/&#?\w+;/g,p),h(g,_,n),m.warning(`attribute "`+g+`" missed start quot(`+b+`)!!`),n=v+1,y=u;else throw Error(`attribute value must after "="`);break;case`/`:switch(y){case a:r.setTagName(e.slice(n,v));case u:case d:case f:y=f,r.closed=!0;case l:case o:break;case s:r.closed=!0;break;default:throw Error(`attribute invalid close char('/')`)}break;case``:return m.error(`unexpected end of input`),y==a&&r.setTagName(e.slice(n,v)),v;case`>`:switch(y){case a:r.setTagName(e.slice(n,v));case u:case d:case f:break;case l:case o:_=e.slice(n,v),_.slice(-1)===`/`&&(r.closed=!0,_=_.slice(0,-1));case s:y===s&&(_=g),y==l?(m.warning(`attribute "`+_+`" missed quot(")!`),h(g,_.replace(/&#?\w+;/g,p),n)):((!t.isHTML(i[``])||!_.match(/^(?:disabled|checked|selected)$/i))&&m.warning(`attribute "`+_+`" missed value!! "`+_+`" instead!!`),h(_,_,n));break;case c:throw Error(`attribute value missed!!`)}return v;case``:b=` `;default:if(b<=` `)switch(y){case a:r.setTagName(e.slice(n,v)),y=d;break;case o:g=e.slice(n,v),y=s;break;case l:var _=e.slice(n,v).replace(/&#?\w+;/g,p);m.warning(`attribute "`+_+`" missed quot(")!!`),h(g,_,n);case u:y=d;break}else switch(y){case s:r.tagName,(!t.isHTML(i[``])||!g.match(/^(?:disabled|checked|selected)$/i))&&m.warning(`attribute "`+g+`" missed value!! "`+g+`" instead2!!`),h(g,g,n),n=v,y=o;break;case u:m.warning(`attribute space is required"`+g+`"!!`);case d:y=o,n=v;break;case c:y=l,n=v;break;case f:throw Error(`elements closed character '/' and '>' must be connected to`)}}v++}}function v(e,n,r){for(var i=e.tagName,a=null,o=e.length;o--;){var s=e[o],c=s.qName,l=s.value,u=c.indexOf(`:`);if(u>0)var d=s.prefix=c.slice(0,u),f=c.slice(u+1),p=d===`xmlns`&&f;else f=c,d=null,p=c===`xmlns`&&``;s.localName=f,p!==!1&&(a??(a={},x(r,r={})),r[p]=a[p]=l,s.uri=t.XMLNS,n.startPrefixMapping(p,l))}for(var o=e.length;o--;){s=e[o];var d=s.prefix;d&&(d===`xml`&&(s.uri=t.XML),d!==`xmlns`&&(s.uri=r[d||``]))}var u=i.indexOf(`:`);u>0?(d=e.prefix=i.slice(0,u),f=e.localName=i.slice(u+1)):(d=null,f=e.localName=i);var m=e.uri=r[d||``];if(n.startElement(m,f,i,e),e.closed){if(n.endElement(m,f,i),a)for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&n.endPrefixMapping(d)}else return e.currentNSMap=r,e.localNSMap=a,!0}function y(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf(`</`+n+`>`,t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),a)}return t+1}function b(e,t,n,r){var i=r[n];return i??(i=e.lastIndexOf(`</`+n+`>`),i<t&&(i=e.lastIndexOf(`</`+n)),r[n]=i),i<t}function x(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function S(e,t,n,r){switch(e.charAt(t+2)){case`-`:if(e.charAt(t+3)===`-`){var i=e.indexOf(`-->`,t+4);return i>t?(n.comment(e,t+4,i-t-4),i+3):(r.error(`Unclosed comment`),-1)}else return-1;default:if(e.substr(t+3,6)==`CDATA[`){var i=e.indexOf(`]]>`,t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=T(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],c=!1,l=!1;o>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],l=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(l=a[3][0]));var u=a[o-1];return n.startDTD(s,c,l),n.endDTD(),u.index+u[0].length}}return-1}function C(e,t,n){var r=e.indexOf(`?>`,t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function w(){this.attributeNames={}}w.prototype={setTagName:function(e){if(!i.test(e))throw Error(`invalid tagName:`+e);this.tagName=e},addValue:function(e,t,n){if(!i.test(e))throw Error(`invalid attribute:`+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function T(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}e.XMLReader=m,e.ParseError=p})),hl=o((e=>{var t=dl(),n=fl(),r=pl(),i=ml(),a=n.DOMImplementation,o=t.NAMESPACE,s=i.ParseError,c=i.XMLReader;function l(e){this.options=e||{locator:{}}}l.prototype.parseFromString=function(e,t){var n=this.options,i=new c,a=n.domBuilder||new d,s=n.errorHandler,l=n.locator,f=n.xmlns||{},p=/\/x?html?$/.test(t),m=p?r.HTML_ENTITIES:r.XML_ENTITIES;return l&&a.setDocumentLocator(l),i.errorHandler=u(s,a,l),i.domBuilder=n.domBuilder||a,p&&(f[``]=o.HTML),f.xml=f.xml||o.XML,e&&typeof e==`string`?i.parse(e,f,m):i.errorHandler.error(`invalid doc source`),a.doc};function u(e,t,n){if(!e){if(t instanceof d)return t;e=t}var r={},i=e instanceof Function;n||={};function a(t){var a=e[t];!a&&i&&(a=e.length==2?function(n){e(t,n)}:e),r[t]=a&&function(e){a(`[xmldom `+t+`]	`+e+p(n))}||function(){}}return a(`warning`),a(`error`),a(`fatalError`),r}function d(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}d.prototype={startDocument:function(){this.doc=new a().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,a=i.createElementNS(e,n||t),o=r.length;h(this,a),this.currentElement=a,this.locator&&f(this.locator,a);for(var s=0;s<o;s++){var e=r.getURI(s),c=r.getValue(s),n=r.getQName(s),l=i.createAttributeNS(e,n);this.locator&&f(r.getLocator(s),l),l.value=l.nodeValue=c,a.setAttributeNode(l)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,n),h(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=m.apply(this,arguments),e){if(this.cdata)var r=this.doc.createCDATASection(e);else var r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&f(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=m.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&f(this.locator,r),h(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&f(this.locator,i),h(this,i),this.doc.doctype=i}},warning:function(e){console.warn(`[xmldom warning]	`+e,p(this.locator))},error:function(e){console.error(`[xmldom error]	`+e,p(this.locator))},fatalError:function(e){throw new s(e,this.locator)}};function p(e){if(e)return`
@`+(e.systemId||``)+`#[line:`+e.lineNumber+`,col:`+e.columnNumber+`]`}function m(e,t,n){return typeof e==`string`?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+``:e}`endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl`.replace(/\w+/g,function(e){d.prototype[e]=function(){return null}});function h(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}e.__DOMHandler=d,e.DOMParser=l,e.DOMImplementation=n.DOMImplementation,e.XMLSerializer=n.XMLSerializer})),gl=o((e=>{var t=fl();e.DOMImplementation=t.DOMImplementation,e.XMLSerializer=t.XMLSerializer,e.DOMParser=hl().DOMParser})),_l=l(ul()),vl=s({RangeObject:()=>cu,blob2base64:()=>tu,borders:()=>Il,bounds:()=>Fl,createBase64Url:()=>Kl,createBlob:()=>Ul,createBlobUrl:()=>Wl,defaults:()=>Al,defer:()=>nu,documentHeight:()=>Tl,extend:()=>jl,filterChildren:()=>ou,findChildren:()=>iu,getParentByTagName:()=>su,indexOfElementNode:()=>Vl,indexOfNode:()=>zl,indexOfSorted:()=>Pl,indexOfTextNode:()=>Bl,insert:()=>Ml,isElement:()=>El,isFloat:()=>Ol,isNumber:()=>Dl,isXml:()=>Hl,locationOf:()=>Nl,nodeBounds:()=>Ll,parents:()=>au,parse:()=>Jl,prefixed:()=>kl,qs:()=>Yl,qsa:()=>Xl,qsp:()=>Zl,querySelectorByType:()=>ru,requestAnimationFrame:()=>bl,revokeBlobUrl:()=>Gl,sprint:()=>Ql,treeWalker:()=>$l,type:()=>ql,uuid:()=>wl,walk:()=>eu,windowBounds:()=>Rl}),yl=gl();const bl=typeof window<`u`?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1;var xl=1,Sl=3,Cl=typeof URL<`u`?URL:typeof window<`u`?window.URL||window.webkitURL||window.mozURL:void 0;function wl(){var e=new Date().getTime();return`xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx`.replace(/[xy]/g,function(t){var n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t==`x`?n:n&7|8).toString(16)})}function Tl(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function El(e){return!!(e&&e.nodeType==1)}function Dl(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ol(e){let t=parseFloat(e);return Dl(e)===!1?!1:typeof e==`string`&&e.indexOf(`.`)>-1?!0:Math.floor(t)!==t}function kl(e){var t=[`Webkit`,`webkit`,`Moz`,`O`,`ms`],n=[`-webkit-`,`-webkit-`,`-moz-`,`-o-`,`-ms-`],r=e.toLowerCase(),i=t.length;if(typeof document>`u`||document.body.style[r]!==void 0)return e;for(var a=0;a<i;a++)if(document.body.style[n[a]+r]!==void 0)return n[a]+r;return e}function Al(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)e[i]===void 0&&(e[i]=r[i])}return e}function jl(e){return[].slice.call(arguments,1).forEach(function(t){t&&Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}),e}function Ml(e,t,n){var r=Nl(e,t,n);return t.splice(r,0,e),r}function Nl(e,t,n,r,i){var a=r||0,o=i||t.length,s=parseInt(a+(o-a)/2),c;return n||=function(e,t){if(e>t)return 1;if(e<t)return-1;if(e==t)return 0},o-a<=0?s:(c=n(t[s],e),o-a===1?c>=0?s:s+1:c===0?s:c===-1?Nl(e,t,n,s,o):Nl(e,t,n,a,s))}function Pl(e,t,n,r,i){var a=r||0,o=i||t.length,s=parseInt(a+(o-a)/2),c;return n||=function(e,t){if(e>t)return 1;if(e<t)return-1;if(e==t)return 0},o-a<=0?-1:(c=n(t[s],e),o-a===1?c===0?s:-1:c===0?s:c===-1?Pl(e,t,n,s,o):Pl(e,t,n,a,s))}function Fl(e){var t=window.getComputedStyle(e),n=[`width`,`paddingRight`,`paddingLeft`,`marginRight`,`marginLeft`,`borderRightWidth`,`borderLeftWidth`],r=[`height`,`paddingTop`,`paddingBottom`,`marginTop`,`marginBottom`,`borderTopWidth`,`borderBottomWidth`],i=0,a=0;return n.forEach(function(e){i+=parseFloat(t[e])||0}),r.forEach(function(e){a+=parseFloat(t[e])||0}),{height:a,width:i}}function Il(e){var t=window.getComputedStyle(e),n=[`paddingRight`,`paddingLeft`,`marginRight`,`marginLeft`,`borderRightWidth`,`borderLeftWidth`],r=[`paddingTop`,`paddingBottom`,`marginTop`,`marginBottom`,`borderTopWidth`,`borderBottomWidth`],i=0,a=0;return n.forEach(function(e){i+=parseFloat(t[e])||0}),r.forEach(function(e){a+=parseFloat(t[e])||0}),{height:a,width:i}}function Ll(e){let t,n=e.ownerDocument;if(e.nodeType==Node.TEXT_NODE){let r=n.createRange();r.selectNodeContents(e),t=r.getBoundingClientRect()}else t=e.getBoundingClientRect();return t}function Rl(){var e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function zl(e,t){for(var n=e.parentNode.childNodes,r,i=-1,a=0;a<n.length&&(r=n[a],r.nodeType===t&&i++,r!=e);a++);return i}function Bl(e){return zl(e,Sl)}function Vl(e){return zl(e,xl)}function Hl(e){return[`xml`,`opf`,`ncx`].indexOf(e)>-1}function Ul(e,t){return new Blob([e],{type:t})}function Wl(e,t){var n,r=Ul(e,t);return n=Cl.createObjectURL(r),n}function Gl(e){return Cl.revokeObjectURL(e)}function Kl(e,t){var n,r;if(typeof e==`string`)return n=btoa(e),r=`data:`+t+`;base64,`+n,r}function ql(e){return Object.prototype.toString.call(e).slice(8,-1)}function Jl(e,t,n){var r,i=typeof DOMParser>`u`||n?yl.DOMParser:DOMParser;return e.charCodeAt(0)===65279&&(e=e.slice(1)),r=new i().parseFromString(e,t),r}function Yl(e,t){var n;if(!e)throw Error(`No Element Provided`);if(e.querySelector!==void 0)return e.querySelector(t);if(n=e.getElementsByTagName(t),n.length)return n[0]}function Xl(e,t){return e.querySelector===void 0?e.getElementsByTagName(t):e.querySelectorAll(t)}function Zl(e,t,n){var r,i;if(e.querySelector!==void 0){for(var a in t+=`[`,n)t+=a+`~='`+n[a]+`'`;return t+=`]`,e.querySelector(t)}else if(r=e.getElementsByTagName(t),i=Array.prototype.slice.call(r,0).filter(function(e){for(var t in n)if(e.getAttribute(t)===n[t])return!0;return!1}),i)return i[0]}function Ql(e,t){(e.ownerDocument||e).createTreeWalker===void 0?eu(e,function(e){e&&e.nodeType===3&&t(e)},!0):$l(e,t,NodeFilter.SHOW_TEXT)}function $l(e,t,n){var r=document.createTreeWalker(e,n,null,!1);let i;for(;i=r.nextNode();)t(i)}function eu(e,t){if(t(e))return!0;if(e=e.firstChild,e)do{if(eu(e,t))return!0;e=e.nextSibling}while(e)}function tu(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onloadend=function(){t(r.result)}})}function nu(){this.resolve=null,this.reject=null,this.id=wl(),this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),Object.freeze(this)}function ru(e,t,n){var r;if(e.querySelector!==void 0&&(r=e.querySelector(`${t}[*|type="${n}"]`)),!r||r.length===0){r=Xl(e,t);for(var i=0;i<r.length;i++)if(r[i].getAttributeNS(`http://www.idpf.org/2007/ops`,`type`)===n||r[i].getAttribute(`epub:type`)===n)return r[i]}else return r}function iu(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++){let e=n[r];e.nodeType===1&&t.push(e)}return t}function au(e){for(var t=[e];e;e=e.parentNode)t.unshift(e);return t}function ou(e,t,n){for(var r=[],i=e.childNodes,a=0;a<i.length;a++){let e=i[a];if(e.nodeType===1&&e.nodeName.toLowerCase()===t){if(n)return e;r.push(e)}}if(!n)return r}function su(e,t){let n;if(!(e===null||t===``))for(n=e.parentNode;n.nodeType===1;){if(n.tagName.toLowerCase()===t)return n;n=n.parentNode}}var cu=class{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,n=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,n),this.setEnd(t,n+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let t=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}_commonAncestorContainer(e,t){var n=au(e||this.startContainer),r=au(t||this.endContainer);if(n[0]==r[0]){for(var i=0;i<n.length;i++)if(n[i]!=r[i])return n[i-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}},lu=o(((e,t)=>{if(!n)var n={cwd:function(){return`/`}};function r(e){if(typeof e!=`string`)throw TypeError(`Path must be a string. Received `+e)}function i(e,t){for(var n=``,r=-1,i=0,a,o=0;o<=e.length;++o){if(o<e.length)a=e.charCodeAt(o);else if(a===47)break;else a=47;if(a===47){if(!(r===o-1||i===1))if(r!==o-1&&i===2){if(n.length<2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){for(var s=n.length-1,c=s;c>=0&&n.charCodeAt(c)!==47;--c);if(c!==s){n=c===-1?``:n.slice(0,c),r=o,i=0;continue}}else if(n.length===2||n.length===1){n=``,r=o,i=0;continue}}t&&(n.length>0?n+=`/..`:n=`..`)}else n.length>0?n+=`/`+e.slice(r+1,o):n=e.slice(r+1,o);r=o,i=0}else a===46&&i!==-1?++i:i=-1}return n}function a(e,t){var n=t.dir||t.root,r=t.base||(t.name||``)+(t.ext||``);return n?n===t.root?n+r:n+e+r:r}var o={resolve:function(){for(var e=``,t=!1,a,o=arguments.length-1;o>=-1&&!t;o--){var s;o>=0?s=arguments[o]:(a===void 0&&(a=n.cwd()),s=a),r(s),s.length!==0&&(e=s+`/`+e,t=s.charCodeAt(0)===47)}return e=i(e,!t),t?e.length>0?`/`+e:`/`:e.length>0?e:`.`},normalize:function(e){if(r(e),e.length===0)return`.`;var t=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=i(e,!t),e.length===0&&!t&&(e=`.`),e.length>0&&n&&(e+=`/`),t?`/`+e:e},isAbsolute:function(e){return r(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return`.`;for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(e===void 0?e=n:e+=`/`+n)}return e===void 0?`.`:o.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t||(e=o.resolve(e),t=o.resolve(t),e===t))return``;for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var i=e.length,a=i-n,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var c=t.length-s,l=a<c?a:c,u=-1,d=0;d<=l;++d){if(d===l){if(c>l){if(t.charCodeAt(s+d)===47)return t.slice(s+d+1);if(d===0)return t.slice(s+d)}else a>l&&(e.charCodeAt(n+d)===47?u=d:d===0&&(u=0));break}var f=e.charCodeAt(n+d);if(f!==t.charCodeAt(s+d))break;f===47&&(u=d)}var p=``;for(d=n+u+1;d<=i;++d)(d===i||e.charCodeAt(d)===47)&&(p.length===0?p+=`..`:p+=`/..`);return p.length>0?p+t.slice(s+u):(s+=u,t.charCodeAt(s)===47&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(r(e),e.length===0)return`.`;for(var t=e.charCodeAt(0),n=t===47,i=-1,a=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),t===47){if(!a){i=o;break}}else a=!1;return i===-1?n?`/`:`.`:n&&i===1?`//`:e.slice(0,i)},basename:function(e,t){if(t!==void 0&&typeof t!=`string`)throw TypeError(`"ext" argument must be a string`);r(e);var n=0,i=-1,a=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return``;var s=t.length-1,c=-1;for(o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(l===47){if(!a){n=o+1;break}}else c===-1&&(a=!1,c=o+1),s>=0&&(l===t.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=c))}return n===i?i=c:i===-1&&(i=e.length),e.slice(n,i)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!a){n=o+1;break}}else i===-1&&(a=!1,i=o+1);return i===-1?``:e.slice(n,i)}},extname:function(e){r(e);for(var t=-1,n=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(c===47){if(!a){n=s+1;break}continue}i===-1&&(a=!1,i=s+1),c===46?t===-1?t=s:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||i===-1||o===0||o===1&&t===i-1&&t===n+1?``:e.slice(t,i)},format:function(e){if(typeof e!=`object`||!e)throw TypeError(`Parameter "pathObject" must be an object, not `+typeof e);return a(`/`,e)},parse:function(e){r(e);var t={root:``,dir:``,base:``,ext:``,name:``};if(e.length===0)return t;var n=e.charCodeAt(0),i=n===47,a;i?(t.root=`/`,a=1):a=0;for(var o=-1,s=0,c=-1,l=!0,u=e.length-1,d=0;u>=a;--u){if(n=e.charCodeAt(u),n===47){if(!l){s=u+1;break}continue}c===-1&&(l=!1,c=u+1),n===46?o===-1?o=u:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||c===-1||d===0||d===1&&o===c-1&&o===s+1?c!==-1&&(s===0&&i?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(s,c)):(s===0&&i?(t.name=e.slice(1,o),t.base=e.slice(1,c)):(t.name=e.slice(s,o),t.base=e.slice(s,c)),t.ext=e.slice(o,c)),s>0?t.dir=e.slice(0,s-1):i&&(t.dir=`/`),t},sep:`/`,delimiter:`:`,posix:null};t.exports=o})),uu=l(lu()),du=class{constructor(e){var t=e.indexOf(`://`),n;t>-1&&(e=new URL(e).pathname),n=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=n.dir+`/`,this.filename=n.base,this.extension=n.ext.slice(1)}parse(e){return uu.default.parse(e)}isAbsolute(e){return uu.default.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)===`/`}resolve(e){return uu.default.resolve(this.directory,e)}relative(e){return e&&e.indexOf(`://`)>-1?e:uu.default.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}},fu=l(lu()),pu=class{constructor(e,t){var n=e.indexOf(`://`)>-1,r=e,i;if(this.Url=void 0,this.href=e,this.protocol=``,this.origin=``,this.hash=``,this.hash=``,this.search=``,this.base=t,!n&&t!==!1&&typeof t!=`string`&&window&&window.location&&(this.base=window.location.href),n||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,r=this.Url.pathname+(this.Url.search?this.Url.search:``)}catch{this.Url=void 0,this.base&&(i=new du(this.base),r=i.resolve(r))}this.Path=new du(r),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t=e.indexOf(`://`)>-1,n;return t?e:(n=fu.default.resolve(this.directory,e),this.origin+n)}relative(e){return fu.default.relative(e,this.directory)}toString(){return this.href}},mu=1,hu=3,gu=9,_u=class e{constructor(t,n,r){var i;if(this.str=``,this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof e))return new e(t,n,r);if(typeof n==`string`?this.base=this.parseComponent(n):typeof n==`object`&&n.steps&&(this.base=n),i=this.checkType(t),i===`string`)return this.str=t,jl(this,this.parse(t));if(i===`range`)return jl(this,this.fromRange(t,this.base,r));if(i===`node`)return jl(this,this.fromNode(t,this.base,r));if(i===`EpubCFI`&&t.path)return t;if(t)throw TypeError(`not a valid argument for EpubCFI`);return this}checkType(t){return this.isCfiString(t)?`string`:t&&typeof t==`object`&&(ql(t)===`Range`||t.startContainer!==void 0)?`range`:t&&typeof t==`object`&&t.nodeType!==void 0?`node`:t&&typeof t==`object`&&t instanceof e?`EpubCFI`:!1}parse(e){var t={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},n,r,i;return typeof e!=`string`||(e.indexOf(`epubcfi(`)===0&&e[e.length-1]===`)`&&(e=e.slice(8,e.length-1)),n=this.getChapterComponent(e),!n)?{spinePos:-1}:(t.base=this.parseComponent(n),r=this.getPathComponent(e),t.path=this.parseComponent(r),i=this.getRange(e),i&&(t.range=!0,t.start=this.parseComponent(i[0]),t.end=this.parseComponent(i[1])),t.spinePos=t.base.steps[1].index,t)}parseComponent(e){var t={steps:[],terminal:{offset:null,assertion:null}},n=e.split(`:`),r=n[0].split(`/`),i;return n.length>1&&(i=n[1],t.terminal=this.parseTerminal(i)),r[0]===``&&r.shift(),t.steps=r.map(function(e){return this.parseStep(e)}.bind(this)),t}parseStep(e){var t,n,r,i=e.match(/\[(.*)\]/),a;if(i&&i[1]&&(a=i[1]),n=parseInt(e),!isNaN(n))return n%2==0?(t=`element`,r=n/2-1):(t=`text`,r=(n-1)/2),{type:t,index:r,id:a||null}}parseTerminal(e){var t,n,r=e.match(/\[(.*)\]/);return r&&r[1]?(t=parseInt(e.split(`[`)[0]),n=r[1]):t=parseInt(e),Dl(t)||(t=null),{offset:t,assertion:n}}getChapterComponent(e){return e.split(`!`)[0]}getPathComponent(e){var t=e.split(`!`);if(t[1])return t[1].split(`,`)[0]}getRange(e){var t=e.split(`,`);return t.length===3?[t[1],t[2]]:!1}getCharecterOffsetComponent(e){return e.split(`:`)[1]||``}joinSteps(e){return e?e.map(function(e){var t=``;return e.type===`element`&&(t+=(e.index+1)*2),e.type===`text`&&(t+=1+2*e.index),e.id&&(t+=`[`+e.id+`]`),t}).join(`/`):``}segmentString(e){var t=`/`;return t+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(t+=`:`+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(t+=`[`+e.terminal.assertion+`]`),t}toString(){var e=`epubcfi(`;return e+=this.segmentString(this.base),e+=`!`,e+=this.segmentString(this.path),this.range&&this.start&&(e+=`,`,e+=this.segmentString(this.start)),this.range&&this.end&&(e+=`,`,e+=this.segmentString(this.end)),e+=`)`,e}compare(t,n){var r,i,a,o;if(typeof t==`string`&&(t=new e(t)),typeof n==`string`&&(n=new e(n)),t.spinePos>n.spinePos)return 1;if(t.spinePos<n.spinePos)return-1;t.range?(r=t.path.steps.concat(t.start.steps),a=t.start.terminal):(r=t.path.steps,a=t.path.terminal),n.range?(i=n.path.steps.concat(n.start.steps),o=n.start.terminal):(i=n.path.steps,o=n.path.terminal);for(var s=0;s<r.length;s++){if(!r[s])return-1;if(!i[s]||r[s].index>i[s].index)return 1;if(r[s].index<i[s].index)return-1}return r.length<i.length?-1:a.offset>o.offset?1:a.offset<o.offset?-1:0}step(e){var t=e.nodeType===hu?`text`:`element`;return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var n=this.filter(e,t),r;if(n)return r=n.nodeType===hu?`text`:`element`,{id:n.id,tagName:n.tagName,type:r,index:this.filteredPosition(n,t)}}pathTo(e,t,n){for(var r={steps:[],terminal:{offset:null,assertion:null}},i=e,a;i&&i.parentNode&&i.parentNode.nodeType!=gu;)a=n?this.filteredStep(i,n):this.step(i),a&&r.steps.unshift(a),i=i.parentNode;return t!=null&&t>=0&&(r.terminal.offset=t,r.steps[r.steps.length-1].type!=`text`&&r.steps.push({type:`text`,index:0})),r}equalStep(e,t){return!e||!t?!1:e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,n){var r={range:!1,base:{},path:{},start:null,end:null},i=e.startContainer,a=e.endContainer,o=e.startOffset,s=e.endOffset,c=!1;if(n&&(c=i.ownerDocument.querySelector(`.`+n)!=null),typeof t==`string`?(r.base=this.parseComponent(t),r.spinePos=r.base.steps[1].index):typeof t==`object`&&(r.base=t),e.collapsed)c&&(o=this.patchOffset(i,o,n)),r.path=this.pathTo(i,o,n);else{r.range=!0,c&&(o=this.patchOffset(i,o,n)),r.start=this.pathTo(i,o,n),c&&(s=this.patchOffset(a,s,n)),r.end=this.pathTo(a,s,n),r.path={steps:[],terminal:null};var l=r.start.steps.length,u;for(u=0;u<l&&this.equalStep(r.start.steps[u],r.end.steps[u]);u++)u===l-1?r.start.terminal===r.end.terminal&&(r.path.steps.push(r.start.steps[u]),r.range=!1):r.path.steps.push(r.start.steps[u]);r.start.steps=r.start.steps.slice(r.path.steps.length),r.end.steps=r.end.steps.slice(r.path.steps.length)}return r}fromNode(e,t,n){var r={range:!1,base:{},path:{},start:null,end:null};return typeof t==`string`?(r.base=this.parseComponent(t),r.spinePos=r.base.steps[1].index):typeof t==`object`&&(r.base=t),r.path=this.pathTo(e,null,n),r}filter(e,t){var n,r,i,a,o,s=!1;return e.nodeType===hu?(s=!0,i=e.parentNode,n=e.parentNode.classList.contains(t)):(s=!1,n=e.classList.contains(t)),n&&s?(a=i.previousSibling,o=i.nextSibling,a&&a.nodeType===hu?r=a:o&&o.nodeType===hu&&(r=o),r||e):n&&!s?!1:e}patchOffset(e,t,n){if(e.nodeType!=hu)throw Error(`Anchor must be a text node`);var r=e,i=t;for(e.parentNode.classList.contains(n)&&(r=e.parentNode);r.previousSibling;){if(r.previousSibling.nodeType===mu)if(r.previousSibling.classList.contains(n))i+=r.previousSibling.textContent.length;else break;else i+=r.previousSibling.textContent.length;r=r.previousSibling}return i}normalizedMap(e,t,n){var r={},i=-1,a,o=e.length,s,c;for(a=0;a<o;a++)s=e[a].nodeType,s===mu&&e[a].classList.contains(n)&&(s=hu),a>0&&s===hu&&c===hu?r[a]=i:t===s&&(i+=1,r[a]=i),c=s;return r}position(e){var t,n;return e.nodeType===mu?(t=e.parentNode.children,t||=iu(e.parentNode),n=Array.prototype.indexOf.call(t,e)):(t=this.textNodes(e.parentNode),n=t.indexOf(e)),n}filteredPosition(e,t){var n,r,i;return e.nodeType===mu?(n=e.parentNode.children,i=this.normalizedMap(n,mu,t)):(n=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(e=e.parentNode,n=e.parentNode.childNodes),i=this.normalizedMap(n,hu,t)),r=Array.prototype.indexOf.call(n,e),i[r]}stepsToXpath(e){var t=[`.`,`*`];return e.forEach(function(e){var n=e.index+1;e.id?t.push(`*[position()=`+n+` and @id='`+e.id+`']`):e.type===`text`?t.push(`text()[`+n+`]`):t.push(`*[`+n+`]`)}),t.join(`/`)}stepsToQuerySelector(e){var t=[`html`];return e.forEach(function(e){var n=e.index+1;e.id?t.push(`#`+e.id):e.type===`text`||t.push(`*:nth-child(`+n+`)`)}),t.join(`>`)}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter(function(e){return e.nodeType===hu?!0:!!(t&&e.classList.contains(t))})}walkToNode(e,t,n){var r=t||document,i=r.documentElement,a,o,s=e.length,c;for(c=0;c<s&&(o=e[c],o.type===`element`?o.id?i=r.getElementById(o.id):(a=i.children||iu(i),i=a[o.index]):o.type===`text`&&(i=this.textNodes(i,n)[o.index]),i);c++);return i}findNode(e,t,n){var r=t||document,i,a;return!n&&r.evaluate!==void 0?(a=this.stepsToXpath(e),i=r.evaluate(a,r,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):i=n?this.walkToNode(e,r,n):this.walkToNode(e,r),i}fixMiss(e,t,n,r){var i=this.findNode(e.slice(0,-1),n,r),a=i.childNodes,o=this.normalizedMap(a,hu,r),s,c,l=e[e.length-1].index;for(let e in o){if(!o.hasOwnProperty(e))return;if(o[e]===l)if(s=a[e],c=s.textContent.length,t>c)t-=c;else{i=s.nodeType===mu?s.childNodes[0]:s;break}}return{container:i,offset:t}}toRange(e,t){var n=e||document,r,i,a,o,s,c=this,l,u,d=t?n.querySelector(`.`+t)!=null:!1,f;if(r=n.createRange===void 0?new cu:n.createRange(),c.range?(i=c.start,l=c.path.steps.concat(i.steps),o=this.findNode(l,n,d?t:null),a=c.end,u=c.path.steps.concat(a.steps),s=this.findNode(u,n,d?t:null)):(i=c.path,l=c.path.steps,o=this.findNode(c.path.steps,n,d?t:null)),o)try{i.terminal.offset==null?r.setStart(o,0):r.setStart(o,i.terminal.offset)}catch{f=this.fixMiss(l,i.terminal.offset,n,d?t:null),r.setStart(f.container,f.offset)}else return console.log(`No startContainer found for`,this.toString()),null;if(s)try{a.terminal.offset==null?r.setEnd(s,0):r.setEnd(s,a.terminal.offset)}catch{f=this.fixMiss(u,c.end.terminal.offset,n,d?t:null),r.setEnd(f.container,f.offset)}return r}isCfiString(e){return typeof e==`string`&&e.indexOf(`epubcfi(`)===0&&e[e.length-1]===`)`}generateChapterComponent(e,t,n){var r=parseInt(t),i=`/`+(e+1)*2+`/`;return i+=(r+1)*2,n&&(i+=`[`+n+`]`),i}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}},vu=class{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]==`function`)this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){let t;for(let n=0;n<this.hooks.length;n++)if(t=this.hooks[n],t===e){this.hooks.splice(n,1);break}}trigger(){var e=arguments,t=this.context,n=[];return this.hooks.forEach(function(r){try{var i=r.apply(t,e)}catch(e){console.log(e)}i&&typeof i.then==`function`&&n.push(i)}),Promise.all(n)}list(){return this.hooks}clear(){return this.hooks=[]}};function yu(e,t){var n,r,i=t.url,a=i.indexOf(`://`)>-1;e&&(r=Yl(e,`head`),n=Yl(r,`base`),n||(n=e.createElement(`base`),r.insertBefore(n,r.firstChild)),!a&&window&&window.location&&(i=window.location.origin+i),n.setAttribute(`href`,i))}function bu(e,t){var n,r,i=t.canonical;e&&(n=Yl(e,`head`),r=Yl(n,`link[rel='canonical']`),r?r.setAttribute(`href`,i):(r=e.createElement(`link`),r.setAttribute(`rel`,`canonical`),r.setAttribute(`href`,i),n.appendChild(r)))}function xu(e,t){var n,r,i=t.idref;e&&(n=Yl(e,`head`),r=Yl(n,`link[property='dc.identifier']`),r?r.setAttribute(`content`,i):(r=e.createElement(`meta`),r.setAttribute(`name`,`dc.identifier`),r.setAttribute(`content`,i),n.appendChild(r)))}function Su(e,t){var n=e.querySelectorAll(`a[href]`);if(n.length)for(var r=Yl(e.ownerDocument,`base`),i=r?r.getAttribute(`href`):void 0,a=function(e){var n=e.getAttribute(`href`);if(n.indexOf(`mailto:`)!==0)if(n.indexOf(`://`)>-1)e.setAttribute(`target`,`_blank`);else{var r;try{r=new pu(n,i)}catch{}e.onclick=function(){return r&&r.hash?t(r.Path.path+r.hash):t(r?r.Path.path:n),!1}}}.bind(this),o=0;o<n.length;o++)a(n[o])}function Cu(e,t,n){return t.forEach(function(t,r){t&&n[r]&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,`\\$&`),e=e.replace(new RegExp(t,`g`),n[r]))}),e}function wu(e,t,n,r){var i=typeof window<`u`?window.URL:!1,a=i?`blob`:`arraybuffer`,o=new nu,s=new XMLHttpRequest,c=XMLHttpRequest.prototype,l;for(l in`overrideMimeType`in c||Object.defineProperty(c,`overrideMimeType`,{value:function(){}}),n&&(s.withCredentials=!0),s.onreadystatechange=d,s.onerror=u,s.open(`GET`,e,!0),r)s.setRequestHeader(l,r[l]);t==`json`&&s.setRequestHeader(`Accept`,`application/json`),t||=new du(e).extension,t==`blob`&&(s.responseType=a),Hl(t)&&s.overrideMimeType(`text/xml`),t==`binary`&&(s.responseType=`arraybuffer`),s.send();function u(e){o.reject(e)}function d(){if(this.readyState===XMLHttpRequest.DONE){var e=!1;if((this.responseType===``||this.responseType===`document`)&&(e=this.responseXML),this.status===200||this.status===0||e){var n;if(!this.response&&!e)return o.reject({status:this.status,message:`Empty Response`,stack:Error().stack}),o.promise;if(this.status===403)return o.reject({status:this.status,response:this.response,message:`Forbidden`,stack:Error().stack}),o.promise;n=e?this.responseXML:Hl(t)?Jl(this.response,`text/xml`):t==`xhtml`?Jl(this.response,`application/xhtml+xml`):t==`html`||t==`htm`?Jl(this.response,`text/html`):t==`json`?JSON.parse(this.response):t==`blob`?i?this.response:new Blob([this.response]):this.response,o.resolve(n)}else o.reject({status:this.status,message:this.response,stack:Error().stack})}}return o.promise}var Tu=wu,Eu=gl(),Du=class{constructor(e,t){this.idref=e.idref,this.linear=e.linear===`yes`,this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new vu(this),this.hooks.content=new vu(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||Tu,n=new nu,r=n.promise;return this.contents?n.resolve(this.contents):t(this.url).then(function(e){return this.document=e,this.contents=e.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){n.resolve(this.contents)}.bind(this)).catch(function(e){n.reject(e)}),r}base(){return yu(this.document,this)}render(e){var t=new nu,n=t.promise;return this.output,this.load(e).then(function(e){var t=(typeof navigator<`u`&&navigator.userAgent||``).indexOf(`Trident`)>=0;return this.output=new(typeof XMLSerializer>`u`||t?Eu.DOMParser:XMLSerializer)().serializeToString(e),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){t.resolve(this.output)}.bind(this)).catch(function(e){t.reject(e)}),n}find(e){var t=this,n=[],r=e.toLowerCase(),i=function(e){for(var i=e.textContent.toLowerCase(),a=t.document.createRange(),o,s,c=-1,l,u=150;s!=-1;)s=i.indexOf(r,c+1),s!=-1&&(a=t.document.createRange(),a.setStart(e,s),a.setEnd(e,s+r.length),o=t.cfiFromRange(a),e.textContent.length<u?l=e.textContent:(l=e.textContent.substring(s-u/2,s+u/2),l=`...`+l+`...`),n.push({cfi:o,excerpt:l})),c=s};return Ql(t.document,function(e){i(e)}),n}search(e,t=5){if(document.createTreeWalker===void 0)return this.find(e);let n=[],r=this,i=e.toLowerCase(),a=function(e){let t=e.reduce((e,t)=>e+t.textContent,``).toLowerCase().indexOf(i);if(t!=-1){let a=t+i.length,o=0,s=0;if(t<e[0].length){let i;for(;o<e.length-1&&(s+=e[o].length,!(a<=s));)o+=1;let c=e[0],l=e[o],u=r.document.createRange();u.setStart(c,t);let d=e.slice(0,o).reduce((e,t)=>e+t.textContent.length,0);u.setEnd(l,d>a?a:a-d),i=r.cfiFromRange(u);let f=e.slice(0,o+1).reduce((e,t)=>e+t.textContent,``);f.length>150&&(f=f.substring(t-150/2,t+150/2),f=`...`+f+`...`),n.push({cfi:i,excerpt:f})}}},o=document.createTreeWalker(r.document,NodeFilter.SHOW_TEXT,null,!1),s,c=[];for(;s=o.nextNode();)c.push(s),c.length==t&&(a(c.slice(0,t)),c=c.slice(1,t));return c.length>0&&a(c),n}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(e){var n=e.replace(`rendition:`,``),r=n.indexOf(`-`),i,a;r!=-1&&(i=n.slice(0,r),a=n.slice(r+1),t[i]=a)}),t}cfiFromRange(e){return new _u(e,this.cfiBase).toString()}cfiFromElement(e){return new _u(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}},Ou=class{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new vu,this.hooks.content=new vu,this.hooks.content.register(yu),this.hooks.content.register(bu),this.hooks.content.register(xu),this.epubcfi=new _u,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,n){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||``,this.length=this.items.length,this.items.forEach((e,r)=>{var i=this.manifest[e.idref],a;e.index=r,e.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,e.index,e.id),e.href&&(e.url=t(e.href,!0),e.canonical=n(e.href)),i&&(e.href=i.href,e.url=t(e.href,!0),e.canonical=n(e.href),i.properties.length&&e.properties.push.apply(e.properties,i.properties)),e.linear===`yes`?(e.prev=function(){let t=e.index;for(;t>0;){let e=this.get(t-1);if(e&&e.linear)return e;--t}}.bind(this),e.next=function(){let t=e.index;for(;t<this.spineItems.length-1;){let e=this.get(t+1);if(e&&e.linear)return e;t+=1}}.bind(this)):(e.prev=function(){},e.next=function(){}),a=new Du(e,this.hooks),this.append(a)}),this.loaded=!0}get(e){var t=0;if(e===void 0)for(;t<this.spineItems.length;){let e=this.spineItems[t];if(e&&e.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new _u(e).spinePos:typeof e==`number`||isNaN(e)===!1?t=e:typeof e==`string`&&e.indexOf(`#`)===0?t=this.spineById[e.substring(1)]:typeof e==`string`&&(e=e.split(`#`)[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(e,t){e.index=t}),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;--e}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}},ku=class{constructor(e){this._q=[],this.context=e,this.tick=bl,this.running=!1,this.paused=!1}enqueue(){var e,t,n,r=[].shift.call(arguments),i=arguments;if(!r)throw Error(`No Task Provided`);return typeof r==`function`?(e=new nu,t=e.promise,n={task:r,args:i,deferred:e,promise:t}):n={promise:r},this._q.push(n),this.paused==0&&!this.running&&this.run(),n.promise}dequeue(){var e,t,n;if(this._q.length&&!this.paused){if(e=this._q.shift(),t=e.task,t)return n=t.apply(this.context,e.args),n&&typeof n.then==`function`?n.then(function(){e.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){e.deferred.reject.apply(this.context,arguments)}.bind(this)):(e.deferred.resolve.apply(this.context,n),e.promise);if(e.promise)return e.promise}else return e=new nu,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new nu),this.tick.call(window,()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==1&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}};const Au=[`keydown`,`keyup`,`keypressed`,`mouseup`,`mousedown`,`mousemove`,`click`,`touchend`,`touchstart`,`touchmove`],Q={BOOK:{OPEN_FAILED:`openFailed`},CONTENTS:{EXPAND:`expand`,RESIZE:`resize`,SELECTED:`selected`,SELECTED_RANGE:`selectedRange`,LINK_CLICKED:`linkClicked`},LOCATIONS:{CHANGED:`changed`},MANAGERS:{RESIZE:`resize`,RESIZED:`resized`,ORIENTATION_CHANGE:`orientationchange`,ADDED:`added`,SCROLL:`scroll`,SCROLLED:`scrolled`,REMOVED:`removed`},VIEWS:{AXIS:`axis`,WRITING_MODE:`writingMode`,LOAD_ERROR:`loaderror`,RENDERED:`rendered`,RESIZED:`resized`,DISPLAYED:`displayed`,SHOWN:`shown`,HIDDEN:`hidden`,MARK_CLICKED:`markClicked`},RENDITION:{STARTED:`started`,ATTACHED:`attached`,DISPLAYED:`displayed`,DISPLAY_ERROR:`displayerror`,RENDERED:`rendered`,REMOVED:`removed`,RESIZED:`resized`,ORIENTATION_CHANGE:`orientationchange`,LOCATION_CHANGED:`locationChanged`,RELOCATED:`relocated`,MARK_CLICKED:`markClicked`,SELECTED:`selected`,LAYOUT:`layout`},LAYOUT:{UPDATED:`updated`},ANNOTATION:{ATTACH:`attach`,DETACH:`detach`}};var ju=class{constructor(e,t,n){this.spine=e,this.request=t,this.pause=n||100,this.q=new ku(this),this.epubcfi=new _u,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation=``,this._currentCfi=``,this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each(function(e){e.linear&&this.q.enqueue(this.process.bind(this),e)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then(function(t){var n=new nu,r=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(r),e.unload(),this.processingTimeout=setTimeout(()=>n.resolve(r),this.pause),n.promise}.bind(this))}parse(e,t,n){var r=[],i,a=e.ownerDocument,o=Yl(a,`body`),s=0,c,l=n||this.break;if(Ql(o,function(e){var n=e.length,a,o=0;if(e.textContent.trim().length===0)return!1;for(s==0&&(i=this.createRange(),i.startContainer=e,i.startOffset=0),a=l-s,a>n&&(s+=n,o=n);o<n;)if(a=l-s,s===0&&(o+=1,i=this.createRange(),i.startContainer=e,i.startOffset=o),o+a>=n)s+=n-o,o=n;else{o+=a,i.endContainer=e,i.endOffset=o;let n=new _u(i,t).toString();r.push(n),s=0}c=e}.bind(this)),i&&i.startContainer&&c){i.endContainer=c,i.endOffset=c.length;let e=new _u(i,t).toString();r.push(e),s=0}return r}generateFromWords(e,t,n){var r=e?new _u(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(e){e.linear&&(r?e.index>=r.spinePos&&this.q.enqueue(this.processWords.bind(this),e,t,r,n):this.q.enqueue(this.processWords.bind(this),e,t,r,n))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(e,t,n,r){return r&&this._locationsWords.length>=r?Promise.resolve():e.load(this.request).then(function(i){var a=new nu,o=this.parseWords(i,e,t,n),s=r-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=r?o.slice(0,s):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}.bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,``),e=e.replace(/[ ]{2,}/gi,` `),e=e.replace(/\n /,`
`),e.split(` `).length}parseWords(e,t,n,r){var i=t.cfiBase,a=[],o=e.ownerDocument,s=Yl(o,`body`),c=n,l=r?r.spinePos!==t.index:!0,u;return r&&t.index===r.spinePos&&(u=r.findNode(r.range?r.path.steps.concat(r.start.steps):r.path.steps,e.ownerDocument)),Ql(s,function(e){if(!l)if(e===u)l=!0;else return!1;if(e.textContent.length<10&&e.textContent.trim().length===0)return!1;var t=this.countWords(e.textContent),n,r=0;if(t===0)return!1;for(n=c-this._wordCounter,n>t&&(this._wordCounter+=t,r=t);r<t;)if(n=c-this._wordCounter,r+n>=t)this._wordCounter+=t-r,r=t;else{r+=n;let t=new _u(e,i);a.push({cfi:t.toString(),wordCount:this._wordCounter}),this._wordCounter=0}}.bind(this)),a}locationFromCfi(e){let t;return _u.prototype.isCfiString(e)&&(e=new _u(e)),this._locations.length===0?-1:(t=Nl(e,this._locations,this.epubcfi.compare),t>this.total?this.total:t)}percentageFromCfi(e){if(this._locations.length===0)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var t=-1;return typeof e!=`number`&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>1&&console.warn(`Normalize cfiFromPercentage value to between 0 - 1`),e>=1){let e=new _u(this._locations[this.total]);return e.collapse(),e.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return typeof e==`string`?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if(typeof e==`string`)this._currentCfi=e;else if(typeof e==`number`)this._current=e;else return;this._locations.length!==0&&(typeof e==`string`?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(Q.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}};(0,_l.default)(ju.prototype);var Mu=ju,Nu=l(lu()),Pu=class{constructor(e){this.packagePath=``,this.directory=``,this.encoding=``,e&&this.parse(e)}parse(e){var t;if(!e)throw Error(`Container File Not Found`);if(t=Yl(e,`rootfile`),!t)throw Error(`No RootFile Found`);this.packagePath=t.getAttribute(`full-path`),this.directory=Nu.default.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}},Fu=class{constructor(e){this.manifest={},this.navPath=``,this.ncxPath=``,this.coverPath=``,this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,n,r;if(!e)throw Error(`Package File Not Found`);if(t=Yl(e,`metadata`),!t)throw Error(`No Metadata Found`);if(n=Yl(e,`manifest`),!n)throw Error(`No Manifest Found`);if(r=Yl(e,`spine`),!r)throw Error(`No Spine Found`);return this.manifest=this.parseManifest(n),this.navPath=this.findNavPath(n),this.ncxPath=this.findNcxPath(n,r),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=Vl(r),this.spine=this.parseSpine(r,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=r.getAttribute(`page-progression-direction`),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,`title`),t.creator=this.getElementText(e,`creator`),t.description=this.getElementText(e,`description`),t.pubdate=this.getElementText(e,`date`),t.publisher=this.getElementText(e,`publisher`),t.identifier=this.getElementText(e,`identifier`),t.language=this.getElementText(e,`language`),t.rights=this.getElementText(e,`rights`),t.modified_date=this.getPropertyText(e,`dcterms:modified`),t.layout=this.getPropertyText(e,`rendition:layout`),t.orientation=this.getPropertyText(e,`rendition:orientation`),t.flow=this.getPropertyText(e,`rendition:flow`),t.viewport=this.getPropertyText(e,`rendition:viewport`),t.media_active_class=this.getPropertyText(e,`media:active-class`),t.spread=this.getPropertyText(e,`rendition:spread`),t}parseManifest(e){var t={},n=Xl(e,`item`);return Array.prototype.slice.call(n).forEach(function(e){var n=e.getAttribute(`id`),r=e.getAttribute(`href`)||``,i=e.getAttribute(`media-type`)||``,a=e.getAttribute(`media-overlay`)||``,o=e.getAttribute(`properties`)||``;t[n]={href:r,type:i,overlay:a,properties:o.length?o.split(` `):[]}}),t}parseSpine(e,t){var n=[],r=Xl(e,`itemref`);return Array.prototype.slice.call(r).forEach(function(e,t){var r=e.getAttribute(`idref`),i=e.getAttribute(`properties`)||``,a=i.length?i.split(` `):[],o={id:e.getAttribute(`id`),idref:r,linear:e.getAttribute(`linear`)||`yes`,properties:a,index:t};n.push(o)}),n}findUniqueIdentifier(e){var t=e.documentElement.getAttribute(`unique-identifier`);if(!t)return``;var n=e.getElementById(t);return n&&n.localName===`identifier`&&n.namespaceURI===`http://purl.org/dc/elements/1.1/`&&n.childNodes.length>0?n.childNodes[0].nodeValue.trim():``}findNavPath(e){var t=Zl(e,`item`,{properties:`nav`});return t?t.getAttribute(`href`):!1}findNcxPath(e,t){var n=Zl(e,`item`,{"media-type":`application/x-dtbncx+xml`}),r;return n||(r=t.getAttribute(`toc`),r&&(n=e.querySelector(`#${r}`))),n?n.getAttribute(`href`):!1}findCoverPath(e){Yl(e,`package`).getAttribute(`version`);var t=Zl(e,`item`,{properties:`cover-image`});if(t)return t.getAttribute(`href`);var n=Zl(e,`meta`,{name:`cover`});if(n){var r=n.getAttribute(`content`),i=e.getElementById(r);return i?i.getAttribute(`href`):``}else return!1}getElementText(e,t){var n=e.getElementsByTagNameNS(`http://purl.org/dc/elements/1.1/`,t),r;return!n||n.length===0?``:(r=n[0],r.childNodes.length?r.childNodes[0].nodeValue:``)}getPropertyText(e,t){var n=Zl(e,`meta`,{property:t});return n&&n.childNodes.length?n.childNodes[0].nodeValue:``}load(e){return this.metadata=e.metadata,this.spine=(e.readingOrder||e.spine).map((e,t)=>(e.index=t,e.linear=e.linear||`yes`,e)),e.resources.forEach((e,t)=>{this.manifest[t]=e,e.rel&&e.rel[0]===`cover`&&(this.coverPath=e.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((e,t)=>(e.label=e.title,e)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}},Iu=class{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t=e.nodeType,n,r;t&&(n=Yl(e,`html`),r=Yl(e,`ncx`)),t?n?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):r&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,n=0;n<e.length;n++)t=e[n],t.href&&(this.tocByHref[t.href]=n),t.id&&(this.tocById[t.id]=n),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(e.indexOf(`#`)===0?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,n){if(n.length===0)return;let r=n[t];if(r&&(e===r.id||e===r.href))return r;{let r;for(let i=0;i<n.length&&(r=this.getByIndex(e,t,n[i].subitems),!r);++i);return r}}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=ru(e,`nav`,`toc`),n=[];if(!t)return n;let r=ou(t,`ol`,!0);return r&&(n=this.parseNavList(r)),n}parseNavList(e,t){let n=[];if(!e||!e.children)return n;for(let r=0;r<e.children.length;r++){let i=this.navItem(e.children[r],t);i&&n.push(i)}return n}navItem(e,t){let n=e.getAttribute(`id`)||void 0,r=ou(e,`a`,!0)||ou(e,`span`,!0);if(!r)return;let i=r.getAttribute(`href`)||``;n||=i;let a=r.textContent||``,o=[],s=ou(e,`ol`,!0);return s&&(o=this.parseNavList(s,n)),{id:n,href:i,label:a,subitems:o,parent:t}}parseLandmarks(e){var t=ru(e,`nav`,`landmarks`),n=t?Xl(t,`li`):[],r=n.length,i,a=[],o;if(!n||r===0)return a;for(i=0;i<r;++i)o=this.landmarkItem(n[i]),o&&(a.push(o),this.landmarksByType[o.type]=i);return a}landmarkItem(e){let t=ou(e,`a`,!0);if(!t)return;let n=t.getAttributeNS(`http://www.idpf.org/2007/ops`,`type`)||void 0;return{href:t.getAttribute(`href`)||``,label:t.textContent||``,type:n}}parseNcx(e){var t=Xl(e,`navPoint`),n=t.length,r,i={},a=[],o,s;if(!t||n===0)return a;for(r=0;r<n;++r)o=this.ncxItem(t[r]),i[o.id]=o,o.parent?(s=i[o.parent],s.subitems.push(o)):a.push(o);return a}ncxItem(e){var t=e.getAttribute(`id`)||!1,n=Yl(e,`content`).getAttribute(`src`),r=Yl(e,`navLabel`),i=r.textContent?r.textContent:``,a=[],o=e.parentNode,s;return o&&(o.nodeName===`navPoint`||o.nodeName.split(`:`).slice(-1)[0]===`navPoint`)&&(s=o.getAttribute(`id`)),{id:t,href:n,label:i,subitems:a,parent:s}}load(e){return e.map(e=>(e.label=e.title,e.subitems=e.children?this.load(e.children):[],e))}forEach(e){return this.toc.forEach(e)}},Lu={application:{ecmascript:[`es`,`ecma`],javascript:`js`,ogg:`ogx`,pdf:`pdf`,postscript:[`ps`,`ai`,`eps`,`epsi`,`epsf`,`eps2`,`eps3`],"rdf+xml":`rdf`,smil:[`smi`,`smil`],"xhtml+xml":[`xhtml`,`xht`],xml:[`xml`,`xsl`,`xsd`,`opf`,`ncx`],zip:`zip`,"x-httpd-eruby":`rhtml`,"x-latex":`latex`,"x-maker":[`frm`,`maker`,`frame`,`fm`,`fb`,`book`,`fbdoc`],"x-object":`o`,"x-shockwave-flash":[`swf`,`swfl`],"x-silverlight":`scr`,"epub+zip":`epub`,"font-tdpfr":`pfr`,"inkml+xml":[`ink`,`inkml`],json:`json`,"jsonml+json":`jsonml`,"mathml+xml":`mathml`,"metalink+xml":`metalink`,mp4:`mp4s`,"omdoc+xml":`omdoc`,oxps:`oxps`,"vnd.amazon.ebook":`azw`,widget:`wgt`,"x-dtbook+xml":`dtb`,"x-dtbresource+xml":`res`,"x-font-bdf":`bdf`,"x-font-ghostscript":`gsf`,"x-font-linux-psf":`psf`,"x-font-otf":`otf`,"x-font-pcf":`pcf`,"x-font-snf":`snf`,"x-font-ttf":[`ttf`,`ttc`],"x-font-type1":[`pfa`,`pfb`,`pfm`,`afm`],"x-font-woff":`woff`,"x-mobipocket-ebook":[`prc`,`mobi`],"x-mspublisher":`pub`,"x-nzb":`nzb`,"x-tgif":`obj`,"xaml+xml":`xaml`,"xml-dtd":`dtd`,"xproc+xml":`xpl`,"xslt+xml":`xslt`,"internet-property-stream":`acx`,"x-compress":`z`,"x-compressed":`tgz`,"x-gzip":`gz`},audio:{flac:`flac`,midi:[`mid`,`midi`,`kar`,`rmi`],mpeg:[`mpga`,`mpega`,`mp2`,`mp3`,`m4a`,`mp2a`,`m2a`,`m3a`],mpegurl:`m3u`,ogg:[`oga`,`ogg`,`spx`],"x-aiff":[`aif`,`aiff`,`aifc`],"x-ms-wma":`wma`,"x-wav":`wav`,adpcm:`adp`,mp4:`mp4a`,webm:`weba`,"x-aac":`aac`,"x-caf":`caf`,"x-matroska":`mka`,"x-pn-realaudio-plugin":`rmp`,xm:`xm`,mid:[`mid`,`rmi`]},image:{gif:`gif`,ief:`ief`,jpeg:[`jpeg`,`jpg`,`jpe`],pcx:`pcx`,png:`png`,"svg+xml":[`svg`,`svgz`],tiff:[`tiff`,`tif`],"x-icon":`ico`,bmp:`bmp`,webp:`webp`,"x-pict":[`pic`,`pct`],"x-tga":`tga`,"cis-cod":`cod`},text:{"cache-manifest":[`manifest`,`appcache`],css:`css`,csv:`csv`,html:[`html`,`htm`,`shtml`,`stm`],mathml:`mml`,plain:[`txt`,`text`,`brf`,`conf`,`def`,`list`,`log`,`in`,`bas`],richtext:`rtx`,"tab-separated-values":`tsv`,"x-bibtex":`bib`},video:{mpeg:[`mpeg`,`mpg`,`mpe`,`m1v`,`m2v`,`mp2`,`mpa`,`mpv2`],mp4:[`mp4`,`mp4v`,`mpg4`],quicktime:[`qt`,`mov`],ogg:`ogv`,"vnd.mpegurl":[`mxu`,`m4u`],"x-flv":`flv`,"x-la-asf":[`lsf`,`lsx`],"x-mng":`mng`,"x-ms-asf":[`asf`,`asx`,`asr`],"x-ms-wm":`wm`,"x-ms-wmv":`wmv`,"x-ms-wmx":`wmx`,"x-ms-wvx":`wvx`,"x-msvideo":`avi`,"x-sgi-movie":`movie`,"x-matroska":[`mpv`,`mkv`,`mk3d`,`mks`],"3gpp2":`3g2`,h261:`h261`,h263:`h263`,h264:`h264`,jpeg:`jpgv`,jpm:[`jpm`,`jpgm`],mj2:[`mj2`,`mjp2`],"vnd.ms-playready.media.pyv":`pyv`,"vnd.uvvu.mp4":[`uvu`,`uvvu`],"vnd.vivo":`viv`,webm:`webm`,"x-f4v":`f4v`,"x-m4v":`m4v`,"x-ms-vob":`vob`,"x-smv":`smv`}},Ru=(function(){var e,t,n,r,i={};for(e in Lu)if(Lu.hasOwnProperty(e)){for(t in Lu[e])if(Lu[e].hasOwnProperty(t))if(n=Lu[e][t],typeof n==`string`)i[n]=e+`/`+t;else for(r=0;r<n.length;r++)i[n[r]]=e+`/`+t}return i})(),zu=`text/plain`;function Bu(e){return e&&Ru[e.split(`.`).pop().toLowerCase()]||zu}var Vu={lookup:Bu},Hu=l(lu()),Uu=class{constructor(e,t){this.settings={replacements:t&&t.replacements||`base64`,archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(t){return e[t]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type===`application/xhtml+xml`||e.type===`text/html`)return!0}),this.assets=this.resources.filter(function(e){if(e.type!==`application/xhtml+xml`&&e.type!==`text/html`)return!0}),this.css=this.resources.filter(function(e){if(e.type===`text/css`)return!0})}splitUrls(){this.urls=this.assets.map(function(e){return e.href}.bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var t=new pu(e),n=Vu.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements===`base64`}):this.settings.replacements===`base64`?this.settings.request(e,`blob`).then(e=>tu(e)).then(e=>Kl(e,n)):this.settings.request(e,`blob`).then(e=>Wl(e,n))}replacements(){if(this.settings.replacements===`none`)return new Promise(function(e){e(this.urls)}.bind(this));var e=this.urls.map(e=>{var t=this.settings.resolver(e);return this.createUrl(t).catch(e=>(console.error(e),null))});return Promise.all(e).then(e=>(this.replacementUrls=e.filter(e=>typeof e==`string`),e))}replaceCss(e,t){var n=[];return e||=this.settings.archive,t||=this.settings.resolver,this.cssUrls.forEach(function(r){var i=this.createCssFile(r,e,t).then(function(e){var t=this.urls.indexOf(r);t>-1&&(this.replacementUrls[t]=e)}.bind(this));n.push(i)}.bind(this)),Promise.all(n)}createCssFile(e){var t;if(Hu.default.isAbsolute(e))return new Promise(function(e){e()});var n=this.settings.resolver(e),r=this.settings.archive?this.settings.archive.getText(n):this.settings.request(n,`text`),i=this.urls.map(e=>{var t=this.settings.resolver(e);return new du(n).relative(t)});return r?r.then(e=>(e=Cu(e,i,this.replacementUrls),t=this.settings.replacements===`base64`?Kl(e,`text/css`):Wl(e,`text/css`),t),e=>new Promise(function(e){e()})):new Promise(function(e){e()})}relativeTo(e,t){return t||=this.settings.resolver,this.urls.map(function(n){var r=t(n);return new du(e).relative(r)}.bind(this))}get(e){var t=this.urls.indexOf(e);if(t!==-1)return this.replacementUrls.length?new Promise(function(e,n){e(this.replacementUrls[t])}.bind(this)):this.createUrl(e)}substitute(e,t){return Cu(e,t?this.relativeTo(t):this.urls,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}},Wu=class{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new _u,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=Yl(e,`html`),n=Yl(e,`ncx`);if(t)return this.parseNav(e);if(n)return this.parseNcx(e)}parseNav(e){var t=ru(e,`nav`,`page-list`),n=t?Xl(t,`li`):[],r=n.length,i,a=[],o;if(!n||r===0)return a;for(i=0;i<r;++i)o=this.item(n[i]),a.push(o);return a}parseNcx(e){var t=[],n=0,r,i,a,o=0;if(i=Yl(e,`pageList`),!i||(a=Xl(i,`pageTarget`),o=a.length,!a||a.length===0))return t;for(n=0;n<o;++n)r=this.ncxItem(a[n]),t.push(r);return t}ncxItem(e){var t=Yl(Yl(e,`navLabel`),`text`).textContent;return{href:Yl(e,`content`).getAttribute(`src`),page:parseInt(t,10)}}item(e){var t=Yl(e,`a`),n=t.getAttribute(`href`)||``,r=t.textContent||``,i=parseInt(r),a=n.indexOf(`epubcfi`),o,s,c;return a==-1?{href:n,page:i}:(o=n.split(`#`),s=o[0],c=o.length>1?o[1]:!1,{cfi:c,href:n,packageUrl:s,page:i})}process(e){e.forEach(function(e){this.pages.push(e.page),e.cfi&&this.locations.push(e.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(this.locations.length===0)return-1;var n=Pl(e,this.locations,this.epubcfi.compare);return n==-1?(n=Nl(e,this.locations,this.epubcfi.compare),t=n-1>=0?this.pages[n-1]:this.pages[0],t!==void 0||(t=-1)):t=this.pages[n],t}cfiFromPage(e){var t=-1;typeof e!=`number`&&(e=parseInt(e));var n=this.pages.indexOf(e);return n!=-1&&(t=this.locations[n]),t}pageFromPercentage(e){return Math.round(this.totalPages*e)}percentageFromPage(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(t*1e3)/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e);return this.percentageFromPage(t)}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}},Gu=l(ul()),Ku=class{constructor(e){this.settings=e,this.name=e.layout||`reflowable`,this._spread=e.spread!==`none`,this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow===`scrolled`||e.flow===`scrolled-continuous`||e.flow===`scrolled-doc`?this._flow=`scrolled`:this._flow=`paginated`,this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return e!==void 0&&(e===`scrolled`||e===`scrolled-continuous`||e===`scrolled-doc`?this._flow=`scrolled`:this._flow=`paginated`,this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread=e!==`none`,this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,n){var r=1,i=n||0,a=e,o=t,s=Math.floor(a/12),c,l,u,d;r=this._spread&&a>=this._minSpreadWidth?2:1,this.name===`reflowable`&&this._flow===`paginated`&&!(n>=0)&&(i=s%2==0?s:s-1),this.name===`pre-paginated`&&(i=0),r>1?(c=a/r-i,u=c+i):(c=a,u=a),this.name===`pre-paginated`&&r>1&&(a=c),l=c*r+i,d=a,this.width=a,this.height=o,this.spreadWidth=l,this.pageWidth=u,this.delta=d,this.columnWidth=c,this.gap=i,this.divisor=r,this.update({width:a,height:o,spreadWidth:l,pageWidth:u,delta:d,columnWidth:c,gap:i,divisor:r})}format(e,t,n){return this.name===`pre-paginated`?e.fit(this.columnWidth,this.height,t):this._flow===`paginated`?e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):n&&n===`horizontal`?e.size(null,this.height):e.size(this.width,null)}count(e,t){let n,r;return this.name===`pre-paginated`?(n=1,r=1):this._flow===`paginated`?(t||=this.delta,n=Math.ceil(e/t),r=n*this.divisor):(t||=this.height,n=Math.ceil(e/t),r=n),{spreads:n,pages:r}}update(e){if(Object.keys(e).forEach(t=>{this.props[t]===e[t]&&delete e[t]}),Object.keys(e).length>0){let t=jl(this.props,e);this.emit(Q.LAYOUT.UPDATED,t,e)}}};(0,Gu.default)(Ku.prototype);var qu=Ku,Ju=class{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:``,serialized:``}},this._overrides={},this._current=`default`,this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]==`object`)return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]==`string`)return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]==`string`)return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]==`object`)return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e==`string`)return this.registerUrl(`default`,e);if(typeof e==`object`)return this.registerRules(`default`,e)}}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&(typeof e[t]==`string`?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||e==`default`)&&this.update(e)}registerUrl(e,t){var n=new pu(t);this._themes[e]={url:n.toString()},(this._injected[e]||e==`default`)&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||e==`default`)&&this.update(e)}select(e){var t=this._current,n;this._current=e,this.update(e),n=this.rendition.getContents(),n.forEach(n=>{n.removeClass(t),n.addClass(e)})}update(e){this.rendition.getContents().forEach(t=>{this.add(e,t)})}inject(e){var t=[],n=this._themes,r;for(var i in n)n.hasOwnProperty(i)&&(i===this._current||i===`default`)&&(r=n[i],(r.rules&&Object.keys(r.rules).length>0||r.url&&t.indexOf(r.url)===-1)&&this.add(i,e),this._injected.push(i));this._current!=`default`&&e.addClass(this._current)}add(e,t){var n=this._themes[e];!n||!t||(n.url?t.addStylesheet(n.url):n.serialized?(t.addStylesheetCss(n.serialized,e),n.injected=!0):n.rules&&(t.addStylesheetRules(n.rules,e),n.injected=!0))}override(e,t,n){var r=this.rendition.getContents();this._overrides[e]={value:t,priority:n===!0},r.forEach(t=>{t.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach(t=>{t.css(e)})}overrides(e){var t=this._overrides;for(var n in t)t.hasOwnProperty(n)&&e.css(n,t[n].value,t[n].priority)}fontSize(e){this.override(`font-size`,e)}font(e){this.override(`font-family`,e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}},Yu=class{constructor(e,t,n,r=!1){this.layout=e,this.horizontal=n===`horizontal`,this.direction=t||`ltr`,this._dev=r}section(e){var t=this.findRanges(e);return this.rangeListToCfiList(e.section.cfiBase,t)}page(e,t,n,r){var i=e&&e.document?e.document.body:!1,a;if(i){if(a=this.rangePairToCfiPair(t,{start:this.findStart(i,n,r),end:this.findEnd(i,n,r)}),this._dev===!0){let t=e.document,n=new _u(a.start).toRange(t),r=new _u(a.end).toRange(t),i=t.defaultView.getSelection(),o=t.createRange();i.removeAllRanges(),o.setStart(n.startContainer,n.startOffset),o.setEnd(r.endContainer,r.endOffset),i.addRange(o)}return a}}walk(e,t){if(!(e&&e.nodeType===Node.TEXT_NODE)){var n={acceptNode:function(e){return e.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},r=n.acceptNode;r.acceptNode=n.acceptNode;for(var i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,r,!1),a,o;(a=i.nextNode())&&(o=t(a),!o););return o}}findRanges(e){for(var t=[],n=e.contents.scrollWidth(),r=Math.ceil(n/this.layout.spreadWidth)*this.layout.divisor,i=this.layout.columnWidth,a=this.layout.gap,o,s,c=0;c<r.pages;c++)o=(i+a)*c,s=i*(c+1)+a*c,t.push({start:this.findStart(e.document.body,o,s),end:this.findEnd(e.document.body,o,s)});return t}findStart(e,t,n){for(var r=[e],i,a,o=e;r.length;)if(i=r.shift(),a=this.walk(i,e=>{var i,a,s,c,l=Ll(e);if(this.horizontal&&this.direction===`ltr`){if(i=this.horizontal?l.left:l.top,a=this.horizontal?l.right:l.bottom,i>=t&&i<=n||a>t)return e;o=e,r.push(e)}else if(this.horizontal&&this.direction===`rtl`){if(i=l.left,a=l.right,a<=n&&a>=t||i<n)return e;o=e,r.push(e)}else{if(s=l.top,c=l.bottom,s>=t&&s<=n||c>t)return e;o=e,r.push(e)}}),a)return this.findTextStartRange(a,t,n);return this.findTextStartRange(o,t,n)}findEnd(e,t,n){for(var r=[e],i,a=e,o;r.length;)if(i=r.shift(),o=this.walk(i,e=>{var i,o,s,c,l=Ll(e);if(this.horizontal&&this.direction===`ltr`){if(i=Math.round(l.left),o=Math.round(l.right),i>n&&a)return a;if(o>n)return e;a=e,r.push(e)}else if(this.horizontal&&this.direction===`rtl`){if(i=Math.round(this.horizontal?l.left:l.top),o=Math.round(this.horizontal?l.right:l.bottom),o<t&&a)return a;if(i<t)return e;a=e,r.push(e)}else{if(s=Math.round(l.top),c=Math.round(l.bottom),s>n&&a)return a;if(c>n)return e;a=e,r.push(e)}}),o)return this.findTextEndRange(o,t,n);return this.findTextEndRange(a,t,n)}findTextStartRange(e,t,n){for(var r=this.splitTextNodeIntoRanges(e),i,a,o,s,c,l=0;l<r.length;l++)if(i=r[l],a=i.getBoundingClientRect(),this.horizontal&&this.direction===`ltr`){if(o=a.left,o>=t)return i}else if(this.horizontal&&this.direction===`rtl`){if(c=a.right,c<=n)return i}else if(s=a.top,s>=t)return i;return r[0]}findTextEndRange(e,t,n){for(var r=this.splitTextNodeIntoRanges(e),i,a,o,s,c,l,u,d=0;d<r.length;d++){if(a=r[d],o=a.getBoundingClientRect(),this.horizontal&&this.direction===`ltr`){if(s=o.left,c=o.right,s>n&&i)return i;if(c>n)return a}else if(this.horizontal&&this.direction===`rtl`){if(s=o.left,c=o.right,c<t&&i)return i;if(s<t)return a}else{if(l=o.top,u=o.bottom,l>n&&i)return i;if(u>n)return a}i=a}return r[r.length-1]}splitTextNodeIntoRanges(e,t){var n=[],r=(e.textContent||``).trim(),i,a=e.ownerDocument,o=t||` `,s=r.indexOf(o);if(s===-1||e.nodeType!=Node.TEXT_NODE)return i=a.createRange(),i.selectNodeContents(e),[i];for(i=a.createRange(),i.setStart(e,0),i.setEnd(e,s),n.push(i),i=!1;s!=-1;)s=r.indexOf(o,s+1),s>0&&(i&&(i.setEnd(e,s),n.push(i)),i=a.createRange(),i.setStart(e,s+1));return i&&(i.setEnd(e,r.length),n.push(i)),n}rangePairToCfiPair(e,t){var n=t.start,r=t.end;return n.collapse(!0),r.collapse(!1),{start:new _u(n,e).toString(),end:new _u(r,e).toString()}}rangeListToCfiList(e,t){for(var n=[],r,i=0;i<t.length;i++)r=this.rangePairToCfiPair(e,t[i]),n.push(r);return n}axis(e){return e&&(this.horizontal=e===`horizontal`),this.horizontal}},Xu=l(ul()),Zu=typeof navigator<`u`,Qu=Zu&&/Chrome/.test(navigator.userAgent),$u=Zu&&!Qu&&/AppleWebKit/.test(navigator.userAgent),ed=1,td=class{constructor(e,t,n,r){this.epubcfi=new _u,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=r||0,this.cfiBase=n||``,this.epubReadingSystem(`epub.js`,`0.3`),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return Au}width(e){var t=this.content;return e&&Dl(e)&&(e+=`px`),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&Dl(e)&&(e+=`px`),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&Dl(e)&&(e+=`px`),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&Dl(e)&&(e+=`px`),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t,n=this.document.createRange(),r=this.content||this.document.body,i=Il(r);return n.selectNodeContents(r),e=n.getBoundingClientRect(),t=e.width,i&&i.width&&(t+=i.width),Math.round(t)}textHeight(){let e,t,n=this.document.createRange(),r=this.content||this.document.body;return n.selectNodeContents(r),e=n.getBoundingClientRect(),t=e.bottom,Math.round(t)}scrollWidth(){return this.documentElement.scrollWidth}scrollHeight(){return this.documentElement.scrollHeight}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,n){var r=this.content||this.document.body;return t?r.style.setProperty(e,t,n?`important`:``):r.style.removeProperty(e),this.window.getComputedStyle(r)[e]}viewport(e){var t=this.document.querySelector(`meta[name='viewport']`),n={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},r=[],i={};if(t&&t.hasAttribute(`content`)){let e=t.getAttribute(`content`),r=e.match(/width\s*=\s*([^,]*)/),i=e.match(/height\s*=\s*([^,]*)/),a=e.match(/initial-scale\s*=\s*([^,]*)/),o=e.match(/minimum-scale\s*=\s*([^,]*)/),s=e.match(/maximum-scale\s*=\s*([^,]*)/),c=e.match(/user-scalable\s*=\s*([^,]*)/);r&&r.length&&r[1]!==void 0&&(n.width=r[1]),i&&i.length&&i[1]!==void 0&&(n.height=i[1]),a&&a.length&&a[1]!==void 0&&(n.scale=a[1]),o&&o.length&&o[1]!==void 0&&(n.minimum=o[1]),s&&s.length&&s[1]!==void 0&&(n.maximum=s[1]),c&&c.length&&c[1]!==void 0&&(n.scalable=c[1])}return i=Al(e||{},n),e&&(i.width&&r.push(`width=`+i.width),i.height&&r.push(`height=`+i.height),i.scale&&r.push(`initial-scale=`+i.scale),i.scalable===`no`?(r.push(`minimum-scale=`+i.scale),r.push(`maximum-scale=`+i.scale),r.push(`user-scalable=`+i.scalable)):(i.scalable&&r.push(`user-scalable=`+i.scalable),i.minimum&&r.push(`minimum-scale=`+i.minimum),i.maximum&&r.push(`minimum-scale=`+i.maximum)),t||(t=this.document.createElement(`meta`),t.setAttribute(`name`,`viewport`),this.document.querySelector(`head`).appendChild(t)),t.setAttribute(`content`,r.join(`, `)),this.window.scrollTo(0,0)),i}expand(){this.emit(Q.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>`u`?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();(e!=this._size.width||t!=this._size.height)&&(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(Q.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener(`visibilitychange`,()=>{document.visibilityState===`visible`&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty=`font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height`,e.style.transitionDuration=`0.001ms`,e.style.transitionTimingFunction=`linear`,e.style.transitionDelay=`0`,this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener(`transitionend`,this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,t=function(e){e.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),n=0;n<e.length;n+=1){var r;try{r=e[n].cssRules}catch{return}if(!r)return;for(var i=0;i<r.length;i+=1)r[i].media&&this.window.matchMedia(r[i].media.mediaText).addListener(t)}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(e=>{this.resizeCheck()}),this.observer.observe(this.document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}imageLoadListeners(){for(var e=this.document.querySelectorAll(`img`),t,n=0;n<e.length;n++)t=e[n],t.naturalWidth!==void 0&&t.naturalWidth===0&&(t.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var n,r={left:0,top:0};if(!this.document)return r;if(this.epubcfi.isCfiString(e)){let i=new _u(e).toRange(this.document,t);if(i){try{if(!i.endContainer||i.startContainer==i.endContainer&&i.startOffset==i.endOffset){let e=i.startContainer.textContent.indexOf(` `,i.startOffset);e==-1&&(e=i.startContainer.textContent.length),i.setEnd(i.startContainer,e)}}catch(e){console.error(`setting end offset to start container length failed`,e)}if(i.startContainer.nodeType===Node.ELEMENT_NODE)n=i.startContainer.getBoundingClientRect(),r.left=n.left,r.top=n.top;else if($u){let e=i.startContainer,t=new Range;try{e.nodeType===ed?n=e.getBoundingClientRect():i.startOffset+2<e.length?(t.setStart(e,i.startOffset),t.setEnd(e,i.startOffset+2),n=t.getBoundingClientRect()):i.startOffset-2>0?(t.setStart(e,i.startOffset-2),t.setEnd(e,i.startOffset),n=t.getBoundingClientRect()):n=e.parentNode.getBoundingClientRect()}catch(e){console.error(e,e.stack)}}else n=i.getBoundingClientRect()}}else if(typeof e==`string`&&e.indexOf(`#`)>-1){let t=e.substring(e.indexOf(`#`)+1),r=this.document.getElementById(t);if(r)if($u){let e=new Range;e.selectNode(r),n=e.getBoundingClientRect()}else n=r.getBoundingClientRect()}return n&&(r.left=n.left,r.top=n.top),r}addStylesheet(e){return new Promise(function(t,n){var r,i=!1;if(!this.document){t(!1);return}if(r=this.document.querySelector(`link[href='`+e+`']`),r){t(!0);return}r=this.document.createElement(`link`),r.type=`text/css`,r.rel=`stylesheet`,r.href=e,r.onload=r.onreadystatechange=function(){!i&&(!this.readyState||this.readyState==`complete`)&&(i=!0,setTimeout(()=>{t(!0)},1))},this.document.head.appendChild(r)}.bind(this))}_getStylesheetNode(e){var t;return e=`epubjs-inserted-css-`+(e||``),this.document?(t=this.document.getElementById(e),t||(t=this.document.createElement(`style`),t.id=e,this.document.head.appendChild(t)),t):!1}addStylesheetCss(e,t){if(!this.document||!e)return!1;var n=this._getStylesheetNode(t);return n.innerHTML=e,!0}addStylesheetRules(e,t){var n;if(!(!this.document||!e||e.length===0))if(n=this._getStylesheetNode(t).sheet,Object.prototype.toString.call(e)===`[object Array]`)for(var r=0,i=e.length;r<i;r++){var a=1,o=e[r],s=e[r][0],c=``;Object.prototype.toString.call(o[1][0])===`[object Array]`&&(o=o[1],a=0);for(var l=o.length;a<l;a++){var u=o[a];c+=u[0]+`:`+u[1]+(u[2]?` !important`:``)+`;
`}n.insertRule(s+`{`+c+`}`,n.cssRules.length)}else Object.keys(e).forEach(t=>{let r=e[t];if(Array.isArray(r))r.forEach(e=>{let r=Object.keys(e).map(t=>`${t}:${e[t]}`).join(`;`);n.insertRule(`${t}{${r}}`,n.cssRules.length)});else{let e=Object.keys(r).map(e=>`${e}:${r[e]}`).join(`;`);n.insertRule(`${t}{${e}}`,n.cssRules.length)}})}addScript(e){return new Promise(function(t,n){var r,i=!1;if(!this.document){t(!1);return}r=this.document.createElement(`script`),r.type=`text/javascript`,r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){!i&&(!this.readyState||this.readyState==`complete`)&&(i=!0,setTimeout(function(){t(!0)},1))},this.document.head.appendChild(r)}.bind(this))}addClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.add(e))}removeClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),Au.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(Au.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener(`selectionchange`,this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener(`selectionchange`,this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var e=this.window.getSelection();this.triggerSelectedEvent(e)}.bind(this),250)}triggerSelectedEvent(e){var t,n;e&&e.rangeCount>0&&(t=e.getRangeAt(0),t.collapsed||(n=new _u(t,this.cfiBase).toString(),this.emit(Q.CONTENTS.SELECTED,n),this.emit(Q.CONTENTS.SELECTED_RANGE,t)))}range(e,t){return new _u(e).toRange(this.document,t)}cfiFromRange(e,t){return new _u(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new _u(e,this.cfiBase,t).toString()}map(e){return new Yu(e).section()}size(e,t){var n={scale:1,scalable:`no`};this.layoutStyle(`scrolling`),e>=0&&(this.width(e),n.width=e,this.css(`padding`,`0 `+e/12+`px`)),t>=0&&(this.height(t),n.height=t),this.css(`margin`,`0`),this.css(`box-sizing`,`border-box`),this.viewport(n)}columns(e,t,n,r,i){let a=kl(`column-axis`),o=kl(`column-gap`),s=kl(`column-width`),c=kl(`column-fill`),l=this.writingMode().indexOf(`vertical`)===0?`vertical`:`horizontal`;this.layoutStyle(`paginated`),i===`rtl`&&l===`horizontal`&&this.direction(i),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:`no`}),this.css(`overflow-y`,`hidden`),this.css(`margin`,`0`,!0),l===`vertical`?(this.css(`padding-top`,r/2+`px`,!0),this.css(`padding-bottom`,r/2+`px`,!0),this.css(`padding-left`,`20px`),this.css(`padding-right`,`20px`),this.css(a,`vertical`)):(this.css(`padding-top`,`20px`),this.css(`padding-bottom`,`20px`),this.css(`padding-left`,r/2+`px`,!0),this.css(`padding-right`,r/2+`px`,!0),this.css(a,`horizontal`)),this.css(`box-sizing`,`border-box`),this.css(`max-width`,`inherit`),this.css(c,`auto`),this.css(o,r+`px`),this.css(s,n+`px`),this.css(`-webkit-line-box-contain`,`block glyphs replaced`)}scaler(e,t,n){var r=`scale(`+e+`)`,i=``;this.css(`transform-origin`,`top left`),(t>=0||n>=0)&&(i=` translate(`+(t||0)+`px, `+(n||0)+`px )`),this.css(`transform`,r+i)}fit(e,t,n){var r=this.viewport(),i=parseInt(r.width),a=parseInt(r.height),o=e/i,s=t/a,c=o<s?o:s;if(this.layoutStyle(`paginated`),this.width(i),this.height(a),this.overflow(`hidden`),this.scaler(c,0,0),this.css(`background-size`,i*c+`px `+a*c+`px`),this.css(`background-color`,`transparent`),n&&n.properties.includes(`page-spread-left`)){var l=e-i*c;this.css(`margin-left`,l+`px`)}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,n,r,i){return new Yu(t,i).page(this,e,n,r)}linksHandler(){Su(this.content,e=>{this.emit(Q.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let t=kl(`writing-mode`);return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||``}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||`paginated`}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(e){switch(e){case`dom-manipulation`:return!0;case`layout-changes`:return!0;case`touch-events`:return!0;case`mouse-events`:return!0;case`keyboard-events`:return!0;case`spine-scripting`:return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}};(0,Xu.default)(td.prototype);var nd=td,rd=l(ul()),id=class{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,n,r,i,a){let o=encodeURI(t+e),s=new _u(t).spinePos,c=new ad({type:e,cfiRange:t,data:n,sectionIndex:s,cb:r,className:i,styles:a});return this._annotations[o]=c,s in this._annotationsBySectionIndex?this._annotationsBySectionIndex[s].push(o):this._annotationsBySectionIndex[s]=[o],this.rendition.views().forEach(e=>{c.sectionIndex===e.index&&c.attach(e)}),c}remove(e,t){let n=encodeURI(e+t);if(n in this._annotations){let e=this._annotations[n];if(t&&e.type!==t)return;this.rendition.views().forEach(t=>{this._removeFromAnnotationBySectionIndex(e.sectionIndex,n),e.sectionIndex===t.index&&e.detach(t)}),delete this._annotations[n]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(e=>e!==t)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,n,r,i){return this.add(`highlight`,e,t,n,r,i)}underline(e,t,n,r,i){return this.add(`underline`,e,t,n,r,i)}mark(e,t,n){return this.add(`mark`,e,t,n)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(t=>{this._annotations[t].attach(e)})}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(t=>{this._annotations[t].detach(e)})}show(){}hide(){}},ad=class{constructor({type:e,cfiRange:t,data:n,sectionIndex:r,cb:i,className:a,styles:o}){this.type=e,this.cfiRange=t,this.data=n,this.sectionIndex=r,this.mark=void 0,this.cb=i,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let{cfiRange:t,data:n,type:r,mark:i,cb:a,className:o,styles:s}=this,c;return r===`highlight`?c=e.highlight(t,n,a,o,s):r===`underline`?c=e.underline(t,n,a,o,s):r===`mark`&&(c=e.mark(t,n,a)),this.mark=c,this.emit(Q.ANNOTATION.ATTACH,c),c}detach(e){let{cfiRange:t,type:n}=this,r;return e&&(n===`highlight`?r=e.unhighlight(t):n===`underline`?r=e.ununderline(t):n===`mark`&&(r=e.unmark(t))),this.mark=void 0,this.emit(Q.ANNOTATION.DETACH,r),r}text(){}};(0,rd.default)(ad.prototype);var od=id,sd=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.createElement=t;function t(e){return document.createElementNS(`http://www.w3.org/2000/svg`,e)}e.default={createElement:t}})),cd=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.proxyMouse=t,e.clone=n,e.default={proxyMouse:t};function t(e,t){function i(i){for(var a=t.length-1;a>=0;a--){var o=t[a],s=i.clientX,c=i.clientY;if(i.touches&&i.touches.length&&(s=i.touches[0].clientX,c=i.touches[0].clientY),r(o,e,s,c)){o.dispatchEvent(n(i));break}}}if(e.nodeName===`iframe`||e.nodeName===`IFRAME`)try{this.target=e.contentDocument}catch{this.target=e}else this.target=e;for(var a=[`mouseup`,`mousedown`,`click`,`touchstart`],o=0;o<a.length;o++){var s=a[o];this.target.addEventListener(s,function(e){return i(e)},!1)}}function n(e){var t=Object.assign({},e,{bubbles:!1});try{return new MouseEvent(e.type,t)}catch{var n=document.createEvent(`MouseEvents`);return n.initMouseEvent(e.type,!1,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n}}function r(e,t,n,r){var i=t.getBoundingClientRect();function a(e,t,n){var r=e.top-i.top,a=e.left-i.left,o=r+e.height,s=a+e.width;return r<=n&&a<=t&&o>n&&s>t}if(!a(e.getBoundingClientRect(),n,r))return!1;for(var o=e.getClientRects(),s=0,c=o.length;s<c;s++)if(a(o[s],n,r))return!0;return!1}})),ld=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.Underline=e.Highlight=e.Mark=e.Pane=void 0;var t=function e(t,n,r){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(i===void 0){var a=Object.getPrototypeOf(t);return a===null?void 0:e(a,n,r)}else if(`value`in i)return i.value;else{var o=i.get;return o===void 0?void 0:o.call(r)}},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=a(sd()),i=a(cd());function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return t&&(typeof t==`object`||typeof t==`function`)?t:e}function s(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function, not `+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}e.Pane=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;c(this,e),this.target=t,this.element=r.default.createElement(`svg`),this.marks=[],this.element.style.position=`absolute`,this.element.setAttribute(`pointer-events`,`none`),i.default.proxyMouse(this.target,this.marks),this.container=n,this.container.appendChild(this.element),this.render()}return n(e,[{key:`addMark`,value:function(e){var t=r.default.createElement(`g`);return this.element.appendChild(t),e.bind(t,this.container),this.marks.push(e),e.render(),e}},{key:`removeMark`,value:function(e){var t=this.marks.indexOf(e);if(t!==-1){var n=e.unbind();this.element.removeChild(n),this.marks.splice(t,1)}}},{key:`render`,value:function(){u(this.element,l(this.target,this.container));var e=!0,t=!1,n=void 0;try{for(var r=this.marks[Symbol.iterator](),i;!(e=(i=r.next()).done);e=!0)i.value.render()}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}}]),e}(),e.Underline=function(e){s(t,e);function t(e,n,r,i){return c(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,i))}return n(t,[{key:`render`,value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var e=this.element.ownerDocument.createDocumentFragment(),t=this.filteredRanges(),n=this.element.getBoundingClientRect(),i=this.container.getBoundingClientRect(),a=0,o=t.length;a<o;a++){var s=t[a],c=r.default.createElement(`rect`);c.setAttribute(`x`,s.left-n.left+i.left),c.setAttribute(`y`,s.top-n.top+i.top),c.setAttribute(`height`,s.height),c.setAttribute(`width`,s.width),c.setAttribute(`fill`,`none`);var l=r.default.createElement(`line`);l.setAttribute(`x1`,s.left-n.left+i.left),l.setAttribute(`x2`,s.left-n.left+i.left+s.width),l.setAttribute(`y1`,s.top-n.top+i.top+s.height-1),l.setAttribute(`y2`,s.top-n.top+i.top+s.height-1),l.setAttribute(`stroke-width`,1),l.setAttribute(`stroke`,`black`),l.setAttribute(`stroke-linecap`,`square`),e.appendChild(c),e.appendChild(l)}this.element.appendChild(e)}}]),t}(e.Highlight=function(e){s(i,e);function i(e,t,n,r){c(this,i);var a=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return a.range=e,a.className=t,a.data=n||{},a.attributes=r||{},a}return n(i,[{key:`bind`,value:function(e,n){for(var r in t(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),`bind`,this).call(this,e,n),this.data)this.data.hasOwnProperty(r)&&(this.element.dataset[r]=this.data[r]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&this.element.setAttribute(r,this.attributes[r]);this.className&&this.element.classList.add(this.className)}},{key:`render`,value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var e=this.element.ownerDocument.createDocumentFragment(),t=this.filteredRanges(),n=this.element.getBoundingClientRect(),i=this.container.getBoundingClientRect(),a=0,o=t.length;a<o;a++){var s=t[a],c=r.default.createElement(`rect`);c.setAttribute(`x`,s.left-n.left+i.left),c.setAttribute(`y`,s.top-n.top+i.top),c.setAttribute(`height`,s.height),c.setAttribute(`width`,s.width),e.appendChild(c)}this.element.appendChild(e)}}]),i}(e.Mark=function(){function e(){c(this,e),this.element=null}return n(e,[{key:`bind`,value:function(e,t){this.element=e,this.container=t}},{key:`unbind`,value:function(){var e=this.element;return this.element=null,e}},{key:`render`,value:function(){}},{key:`dispatchEvent`,value:function(e){this.element&&this.element.dispatchEvent(e)}},{key:`getBoundingClientRect`,value:function(){return this.element.getBoundingClientRect()}},{key:`getClientRects`,value:function(){for(var e=[],t=this.element.firstChild;t;)e.push(t.getBoundingClientRect()),t=t.nextSibling;return e}},{key:`filteredRanges`,value:function(){var e=Array.from(this.range.getClientRects());return e.filter(function(t){for(var n=0;n<e.length;n++){if(e[n]===t)return!0;if(d(e[n],t))return!1}return!0})}}]),e}()));function l(e,t){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{top:r.top-n.top,left:r.left-n.left,height:e.scrollHeight,width:e.scrollWidth}}function u(e,t){e.style.setProperty(`top`,t.top+`px`,`important`),e.style.setProperty(`left`,t.left+`px`,`important`),e.style.setProperty(`height`,t.height+`px`,`important`),e.style.setProperty(`width`,t.width+`px`,`important`)}function d(e,t){return t.right<=e.right&&t.left>=e.left&&t.top>=e.top&&t.bottom<=e.bottom}})),ud=l(ul()),dd=ld(),fd=class{constructor(e,t){this.settings=jl({ignoreClass:``,axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id=`epubjs-view-`+wl(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new _u,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement(`div`);return t.classList.add(`epub-view`),t.style.height=`0px`,t.style.width=`0px`,t.style.overflow=`hidden`,t.style.position=`relative`,t.style.display=`block`,e&&e==`horizontal`?t.style.flex=`none`:t.style.flex=`initial`,t}create(){return this.iframe?this.iframe:(this.element||=this.createContainer(),this.iframe=document.createElement(`iframe`),this.iframe.id=this.id,this.iframe.scrolling=`no`,this.iframe.style.overflow=`hidden`,this.iframe.seamless=`seamless`,this.iframe.style.border=`none`,this.iframe.sandbox=`allow-same-origin`,this.settings.allowScriptedContent&&(this.iframe.sandbox+=` allow-scripts`),this.settings.allowPopups&&(this.iframe.sandbox+=` allow-popups`),this.iframe.setAttribute(`enable-annotation`,`true`),this.resizing=!0,this.element.style.visibility=`hidden`,this.iframe.style.visibility=`hidden`,this.iframe.style.width=`0`,this.iframe.style.height=`0`,this._width=0,this._height=0,this.element.setAttribute(`ref`,this.index),this.added=!0,this.elementBounds=Fl(this.element),`srcdoc`in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?`srcdoc`:`write`),this.iframe)}render(e,t){return this.create(),this.size(),this.sectionRender||=this.section.render(e),this.sectionRender.then(function(e){return this.load(e)}.bind(this)).then(function(){let e=this.contents.writingMode(),t;return t=this.settings.flow===`scrolled`?e.indexOf(`vertical`)===0?`horizontal`:`vertical`:e.indexOf(`vertical`)===0?`vertical`:`horizontal`,e.indexOf(`vertical`)===0&&this.settings.flow===`paginated`&&(this.layout.delta=this.layout.height),this.setAxis(t),this.emit(Q.VIEWS.AXIS,t),this.setWritingMode(e),this.emit(Q.VIEWS.WRITING_MODE,e),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((e,t)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+`px`),e()})}.bind(this),function(e){return this.emit(Q.VIEWS.LOAD_ERROR,e),new Promise((t,n)=>{n(e)})}.bind(this)).then(function(){this.emit(Q.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width=`0`,this.iframe.style.height=`0`,this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var n=e||this.settings.width,r=t||this.settings.height;this.layout.name===`pre-paginated`?this.lock(`both`,n,r):this.settings.axis===`horizontal`?this.lock(`height`,n,r):this.lock(`width`,n,r),this.settings.width=n,this.settings.height=r}lock(e,t,n){var r=Il(this.element),i=this.iframe?Il(this.iframe):{width:0,height:0};e==`width`&&Dl(t)&&(this.lockedWidth=t-r.width-i.width),e==`height`&&Dl(n)&&(this.lockedHeight=n-r.height-i.height),e===`both`&&Dl(t)&&Dl(n)&&(this.lockedWidth=t-r.width-i.width,this.lockedHeight=n-r.height-i.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t=this.lockedWidth,n=this.lockedHeight,r;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name===`pre-paginated`?(t=this.layout.columnWidth,n=this.layout.height):this.settings.axis===`horizontal`?(t=this.contents.textWidth(),t%this.layout.pageWidth>0&&(t=Math.ceil(t/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(r=t/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name===`reflowable`&&r%2>0&&(t+=this.layout.pageWidth))):this.settings.axis===`vertical`&&(n=this.contents.textHeight(),this.settings.flow===`paginated`&&n%this.layout.height>0&&(n=Math.ceil(n/this.layout.height)*this.layout.height)),(this._needsReframe||t!=this._width||n!=this._height)&&this.reframe(t,n),this._expanding=!1)}reframe(e,t){var n;Dl(e)&&(this.element.style.width=e+`px`,this.iframe.style.width=e+`px`,this._width=e),Dl(t)&&(this.element.style.height=t+`px`,this.iframe.style.height=t+`px`,this._height=t),n={width:e,height:t,widthDelta:this.prevBounds?e-this.prevBounds.width:e,heightDelta:this.prevBounds?t-this.prevBounds.height:t},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let e;for(let t in this.marks)this.marks.hasOwnProperty(t)&&(e=this.marks[t],this.placeMark(e.element,e.range))}),this.onResize(this,n),this.emit(Q.VIEWS.RESIZED,n),this.prevBounds=n,this.elementBounds=Fl(this.element)}load(e){var t=new nu,n=t.promise;if(!this.iframe)return t.reject(Error(`No Iframe Available`)),n;if(this.iframe.onload=function(e){this.onLoad(e,t)}.bind(this),this.settings.method===`blobUrl`)this.blobUrl=Wl(e,`application/xhtml+xml`),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method===`srcdoc`)this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(Error(`No Document Available`)),n;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var r=this;MSApp.execUnsafeLocalFunction(function(){r.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return n}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new nd(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var n=this.document.querySelector(`link[rel='canonical']`);n?n.setAttribute(`href`,this.section.canonical):(n=this.document.createElement(`link`),n.setAttribute(`rel`,`canonical`),n.setAttribute(`href`,this.section.canonical),this.document.querySelector(`head`).appendChild(n)),this.contents.on(Q.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(Q.CONTENTS.RESIZE,e=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e==`horizontal`?this.element.style.flex=`none`:this.element.style.flex=`initial`,this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new nu;return this.displayed?t.resolve(this):this.render(e).then(function(){this.emit(Q.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}.bind(this),function(e){t.reject(e,this)}),t.promise}show(){this.element.style.visibility=`visible`,this.iframe&&(this.iframe.style.visibility=`visible`,this.iframe.style.transform=`translateZ(0)`,this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Q.VIEWS.SHOWN,this)}hide(){this.element.style.visibility=`hidden`,this.iframe.style.visibility=`hidden`,this.stopExpanding=!0,this.emit(Q.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=Fl(this.element)),this.elementBounds}highlight(e,t={},n,r=`epubjs-hl`,i={}){if(!this.contents)return;let a=Object.assign({fill:`yellow`,"fill-opacity":`0.3`,"mix-blend-mode":`multiply`},i),o=this.contents.range(e),s=()=>{this.emit(Q.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||=new dd.Pane(this.iframe,this.element);let c=new dd.Highlight(o,r,t,a),l=this.pane.addMark(c);return this.highlights[e]={mark:l,element:l.element,listeners:[s,n]},l.element.setAttribute(`ref`,r),l.element.addEventListener(`click`,s),l.element.addEventListener(`touchstart`,s),n&&(l.element.addEventListener(`click`,n),l.element.addEventListener(`touchstart`,n)),l}underline(e,t={},n,r=`epubjs-ul`,i={}){if(!this.contents)return;let a=Object.assign({stroke:`black`,"stroke-opacity":`0.3`,"mix-blend-mode":`multiply`},i),o=this.contents.range(e),s=()=>{this.emit(Q.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||=new dd.Pane(this.iframe,this.element);let c=new dd.Underline(o,r,t,a),l=this.pane.addMark(c);return this.underlines[e]={mark:l,element:l.element,listeners:[s,n]},l.element.setAttribute(`ref`,r),l.element.addEventListener(`click`,s),l.element.addEventListener(`touchstart`,s),n&&(l.element.addEventListener(`click`,n),l.element.addEventListener(`touchstart`,n)),l}mark(e,t={},n){if(!this.contents)return;if(e in this.marks)return this.marks[e];let r=this.contents.range(e);if(!r)return;let i=r.commonAncestorContainer,a=i.nodeType===1?i:i.parentNode,o=n=>{this.emit(Q.VIEWS.MARK_CLICKED,e,t)};r.collapsed&&i.nodeType===1?(r=new Range,r.selectNodeContents(i)):r.collapsed&&(r=new Range,r.selectNodeContents(a));let s=this.document.createElement(`a`);return s.setAttribute(`ref`,`epubjs-mk`),s.style.position=`absolute`,s.dataset.epubcfi=e,t&&Object.keys(t).forEach(e=>{s.dataset[e]=t[e]}),n&&(s.addEventListener(`click`,n),s.addEventListener(`touchstart`,n)),s.addEventListener(`click`,o),s.addEventListener(`touchstart`,o),this.placeMark(s,r),this.element.appendChild(s),this.marks[e]={element:s,range:r,listeners:[o,n]},a}placeMark(e,t){let n,r,i;if(this.layout.name===`pre-paginated`||this.settings.axis!==`horizontal`){let e=t.getBoundingClientRect();n=e.top,r=e.right}else{let e=t.getClientRects(),o;for(var a=0;a!=e.length;a++)o=e[a],(!i||o.left<i)&&(i=o.left,r=Math.ceil(i/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,n=o.top)}e.style.top=`${n}px`,e.style.left=`${r}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach(e=>{e&&(t.element.removeEventListener(`click`,e),t.element.removeEventListener(`touchstart`,e))}),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach(e=>{e&&(t.element.removeEventListener(`click`,e),t.element.removeEventListener(`touchstart`,e))}),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach(e=>{e&&(t.element.removeEventListener(`click`,e),t.element.removeEventListener(`touchstart`,e))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&Gl(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&=(this.pane.element.remove(),void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}};(0,ud.default)(fd.prototype);var pd=fd;function md(){var e=`reverse`,t=hd();return document.body.appendChild(t),t.scrollLeft>0?e=`default`:typeof Element<`u`&&Element.prototype.scrollIntoView?(t.children[0].children[1].scrollIntoView(),t.scrollLeft<0&&(e=`negative`)):(t.scrollLeft=1,t.scrollLeft===0&&(e=`negative`)),document.body.removeChild(t),e}function hd(){var e=document.createElement(`div`);e.dir=`rtl`,e.style.position=`fixed`,e.style.width=`1px`,e.style.height=`1px`,e.style.top=`0px`,e.style.left=`0px`,e.style.overflow=`hidden`;var t=document.createElement(`div`);t.style.width=`2px`;var n=document.createElement(`span`);n.style.width=`1px`,n.style.display=`inline-block`;var r=document.createElement(`span`);return r.style.width=`1px`,r.style.display=`inline-block`,t.appendChild(n),t.appendChild(r),e.appendChild(t),e}var gd=o(((e,t)=>{function n(e){var t=typeof e;return e!=null&&(t==`object`||t==`function`)}t.exports=n})),_d=o(((e,t)=>{t.exports=typeof global==`object`&&global&&global.Object===Object&&global})),vd=o(((e,t)=>{var n=_d(),r=typeof self==`object`&&self&&self.Object===Object&&self;t.exports=n||r||Function(`return this`)()})),yd=o(((e,t)=>{var n=vd();t.exports=function(){return n.Date.now()}})),bd=o(((e,t)=>{var n=/\s/;function r(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}t.exports=r})),xd=o(((e,t)=>{var n=bd(),r=/^\s+/;function i(e){return e&&e.slice(0,n(e)+1).replace(r,``)}t.exports=i})),Sd=o(((e,t)=>{t.exports=vd().Symbol})),Cd=o(((e,t)=>{var n=Sd(),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,o=n?n.toStringTag:void 0;function s(e){var t=i.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch{}var s=a.call(e);return r&&(t?e[o]=n:delete e[o]),s}t.exports=s})),wd=o(((e,t)=>{var n=Object.prototype.toString;function r(e){return n.call(e)}t.exports=r})),Td=o(((e,t)=>{var n=Sd(),r=Cd(),i=wd(),a=`[object Null]`,o=`[object Undefined]`,s=n?n.toStringTag:void 0;function c(e){return e==null?e===void 0?o:a:s&&s in Object(e)?r(e):i(e)}t.exports=c})),Ed=o(((e,t)=>{function n(e){return typeof e==`object`&&!!e}t.exports=n})),Dd=o(((e,t)=>{var n=Td(),r=Ed(),i=`[object Symbol]`;function a(e){return typeof e==`symbol`||r(e)&&n(e)==i}t.exports=a})),Od=o(((e,t)=>{var n=xd(),r=gd(),i=Dd(),a=NaN,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;function u(e){if(typeof e==`number`)return e;if(i(e))return a;if(r(e)){var t=typeof e.valueOf==`function`?e.valueOf():e;e=r(t)?t+``:t}if(typeof e!=`string`)return e===0?e:+e;e=n(e);var u=s.test(e);return u||c.test(e)?l(e.slice(2),u?2:8):o.test(e)?a:+e}t.exports=u})),kd=o(((e,t)=>{var n=gd(),r=yd(),i=Od(),a=`Expected a function`,o=Math.max,s=Math.min;function c(e,t,c){var l,u,d,f,p,m,h=0,g=!1,_=!1,v=!0;if(typeof e!=`function`)throw TypeError(a);t=i(t)||0,n(c)&&(g=!!c.leading,_=`maxWait`in c,d=_?o(i(c.maxWait)||0,t):d,v=`trailing`in c?!!c.trailing:v);function y(t){var n=l,r=u;return l=u=void 0,h=t,f=e.apply(r,n),f}function b(e){return h=e,p=setTimeout(C,t),g?y(e):f}function x(e){var n=e-m,r=e-h,i=t-n;return _?s(i,d-r):i}function S(e){var n=e-m,r=e-h;return m===void 0||n>=t||n<0||_&&r>=d}function C(){var e=r();if(S(e))return w(e);p=setTimeout(C,x(e))}function w(e){return p=void 0,v&&l?y(e):(l=u=void 0,f)}function T(){p!==void 0&&clearTimeout(p),h=0,l=m=u=p=void 0}function E(){return p===void 0?f:w(r())}function D(){var e=r(),n=S(e);if(l=arguments,u=this,m=e,n){if(p===void 0)return b(m);if(_)return clearTimeout(p),p=setTimeout(C,t),y(m)}return p===void 0&&(p=setTimeout(C,t)),f}return D.cancel=T,D.flush=E,D}t.exports=c})),Ad=l(o(((e,t)=>{var n=kd(),r=gd(),i=`Expected a function`;function a(e,t,a){var o=!0,s=!0;if(typeof e!=`function`)throw TypeError(i);return r(a)&&(o=`leading`in a?!!a.leading:o,s=`trailing`in a?!!a.trailing:s),n(e,t,{leading:o,maxWait:t,trailing:s})}t.exports=a}))()),jd=class{constructor(e){this.settings=e||{},this.id=`epubjs-container-`+wl(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,n=e.width,r=e.overflow||!1,i=e.axis||`vertical`,a=e.direction;jl(this.settings,e),e.height&&Dl(e.height)&&(t=e.height+`px`),e.width&&Dl(e.width)&&(n=e.width+`px`);let o=document.createElement(`div`);return o.id=this.id,o.classList.add(`epub-container`),o.style.wordSpacing=`0`,o.style.lineHeight=`0`,o.style.verticalAlign=`top`,o.style.position=`relative`,i===`horizontal`&&(o.style.display=`flex`,o.style.flexDirection=`row`,o.style.flexWrap=`nowrap`),n&&(o.style.width=n),t&&(o.style.height=t),r&&(r===`scroll`&&i===`vertical`?(o.style[`overflow-y`]=r,o.style[`overflow-x`]=`hidden`):r===`scroll`&&i===`horizontal`?(o.style[`overflow-y`]=`hidden`,o.style[`overflow-x`]=r):o.style.overflow=r),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var t=document.createElement(`div`);return t.style.visibility=`hidden`,t.style.overflow=`hidden`,t.style.width=`0`,t.style.height=`0`,t.appendChild(e),t}getElement(e){var t;if(El(e)?t=e:typeof e==`string`&&(t=document.getElementById(e)),!t)throw Error(`Not an Element`);return t}attachTo(e){var t=this.getElement(e),n;if(t)return n=this.settings.hidden?this.wrapper:this.container,t.appendChild(n),this.element=t,t}getContainer(){return this.container}onResize(e){(!Dl(this.settings.width)||!Dl(this.settings.height))&&(this.resizeFunc=(0,Ad.default)(e,50),window.addEventListener(`resize`,this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener(`orientationchange`,this.orientationChangeFunc,!1)}size(e,t){var n;let r=e||this.settings.width,i=t||this.settings.height;e===null?(n=this.element.getBoundingClientRect(),n.width&&(e=Math.floor(n.width),this.container.style.width=e+`px`)):Dl(e)?this.container.style.width=e+`px`:this.container.style.width=e,t===null?(n||=this.element.getBoundingClientRect(),n.height&&(t=n.height,this.container.style.height=t+`px`)):Dl(t)?this.container.style.height=t+`px`:this.container.style.height=t,Dl(e)||(e=this.container.clientWidth),Dl(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles[`padding-left`])||0,right:parseFloat(this.containerStyles[`padding-right`])||0,top:parseFloat(this.containerStyles[`padding-top`])||0,bottom:parseFloat(this.containerStyles[`padding-bottom`])||0};let a=Rl(),o=window.getComputedStyle(document.body),s={left:parseFloat(o[`padding-left`])||0,right:parseFloat(o[`padding-right`])||0,top:parseFloat(o[`padding-top`])||0,bottom:parseFloat(o[`padding-bottom`])||0};return r||(e=a.width-s.left-s.right),(this.settings.fullsize&&!i||!i)&&(t=a.height-s.top-s.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!==`visible`&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?Rl():e}getSheet(){var e=document.createElement(`style`);return e.appendChild(document.createTextNode(``)),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var n=`#`+this.id+` `,r=``;this.sheet||=this.getSheet(),t.forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&(r+=t+`:`+e[t]+`;`)}),this.sheet.insertRule(n+e+` {`+r+`}`,0)}axis(e){e===`horizontal`?(this.container.style.display=`flex`,this.container.style.flexDirection=`row`,this.container.style.flexWrap=`nowrap`):this.container.style.display=`block`,this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e===`scroll`&&this.settings.axis===`vertical`?(this.container.style[`overflow-y`]=e,this.container.style[`overflow-x`]=`hidden`):e===`scroll`&&this.settings.axis===`horizontal`?(this.container.style[`overflow-y`]=`hidden`,this.container.style[`overflow-x`]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener(`resize`,this.resizeFunc),window.removeEventListener(`orientationChange`,this.orientationChangeFunc))}},Md=class{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(this.length){for(var n=0;n<t;n++)e=this._views[n],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,n=this.length,r=0;r<n;r++)if(t=this._views[r],t.displayed&&t.section.index==e.index)return t}displayed(){for(var e=[],t,n=this.length,r=0;r<n;r++)t=this._views[r],t.displayed&&e.push(t);return e}show(){for(var e,t=this.length,n=0;n<t;n++)e=this._views[n],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,n=0;n<t;n++)e=this._views[n],e.displayed&&e.hide();this.hidden=!0}},Nd=l(ul()),Pd=class{constructor(e){this.name=`default`,this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new ku(this),this.settings=jl(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:`scrolled`,ignoreClass:``,fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),jl(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){let n=e.tagName;this.settings.fullsize===void 0&&n&&(n.toLowerCase()==`body`||n.toLowerCase()==`html`)&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow=`visible`,this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=md(),this.stage=new jd({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new Md(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener(`unload`,function(e){this.destroy()}.bind(this)),e=this.settings.fullsize?window:this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener(`scroll`,this._onScroll)}removeEventListeners(){(this.settings.fullsize?window:this.container).removeEventListener(`scroll`,this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(Q.MANAGERS.ORIENTATION_CHANGE,t)}.bind(this),500)}onResized(e){this.resize()}resize(e,t,n){let r=this.stage.size(e,t);if(this.winBounds=Rl(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===r.width&&this._stageSize.height===r.height||(this._stageSize=r,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(Q.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},n))}createView(e,t){return new this.View(e,jl(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,n){let r;if(this.layout.name===`pre-paginated`&&this.layout.divisor>1){if(e||t.index===0)return;if(r=t.next(),r&&!r.properties.includes(`page-spread-left`))return n.call(this,r)}}display(e,t){var n=new nu,r=n.promise;(t===e.href||Dl(t))&&(t=void 0);var i=this.views.find(e);if(i&&e&&this.layout.name!==`pre-paginated`){let e=i.offset();if(this.settings.direction===`ltr`)this.scrollTo(e.left,e.top,!0);else{let t=i.width();this.scrollTo(e.left+t,e.top,!0)}if(t){let e=i.locationOf(t),n=i.width();this.moveTo(e,n)}return n.resolve(),r}this.clear();let a=!1;return this.layout.name===`pre-paginated`&&this.layout.divisor===2&&e.properties.includes(`page-spread-right`)&&(a=!0),this.add(e,a).then(function(e){if(t){let n=e.locationOf(t),r=e.width();this.moveTo(n,r)}}.bind(this),e=>{n.reject(e)}).then(function(){return this.handleNextPrePaginated(a,e,this.add)}.bind(this)).then(function(){this.views.show(),n.resolve()}.bind(this)),r}afterDisplayed(e){this.emit(Q.MANAGERS.ADDED,e)}afterResized(e){this.emit(Q.MANAGERS.RESIZE,e.section)}moveTo(e,t){var n=0,r=0;this.isPaginated?(n=Math.floor(e.left/this.layout.delta)*this.layout.delta,n+this.layout.delta>this.container.scrollWidth&&(n=this.container.scrollWidth-this.layout.delta),r=Math.floor(e.top/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollHeight&&(r=this.container.scrollHeight-this.layout.delta)):r=e.top,this.settings.direction===`rtl`&&(n+=this.layout.delta,n-=t),this.scrollTo(n,r,!0)}add(e,t){var n=this.createView(e,t);return this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.on(Q.VIEWS.AXIS,e=>{this.updateAxis(e)}),n.on(Q.VIEWS.WRITING_MODE,e=>{this.updateWritingMode(e)}),n.display(this.request)}append(e,t){var n=this.createView(e,t);return this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.on(Q.VIEWS.AXIS,e=>{this.updateAxis(e)}),n.on(Q.VIEWS.WRITING_MODE,e=>{this.updateWritingMode(e)}),n.display(this.request)}prepend(e,t){var n=this.createView(e,t);return n.on(Q.VIEWS.RESIZED,e=>{this.counter(e)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.on(Q.VIEWS.AXIS,e=>{this.updateAxis(e)}),n.on(Q.VIEWS.WRITING_MODE,e=>{this.updateWritingMode(e)}),n.display(this.request)}counter(e){this.settings.axis===`vertical`?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,t;let n=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis===`horizontal`&&(!n||n===`ltr`)?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,t<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis===`horizontal`&&n===`rtl`?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType===`default`?(t=this.container.scrollLeft,t>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(t=this.container.scrollLeft+this.layout.delta*-1,t>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis===`vertical`?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let t=!1;return this.layout.name===`pre-paginated`&&this.layout.divisor===2&&e.properties.includes(`page-spread-right`)&&(t=!0),this.append(e,t).then(function(){return this.handleNextPrePaginated(t,e,this.append)}.bind(this),e=>e).then(function(){!this.isPaginated&&this.settings.axis===`horizontal`&&this.settings.direction===`rtl`&&this.settings.rtlScrollType===`default`&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}prev(){var e,t;let n=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis===`horizontal`&&(!n||n===`ltr`)?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft,t>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis===`horizontal`&&n===`rtl`?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType===`default`?(t=this.container.scrollLeft+this.container.offsetWidth,t<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(t=this.container.scrollLeft,t<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis===`vertical`?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let t=!1;return this.layout.name===`pre-paginated`&&this.layout.divisor===2&&typeof e.prev()!=`object`&&(t=!0),this.prepend(e,t).then(function(){var t;if(this.layout.name===`pre-paginated`&&this.layout.divisor>1&&(t=e.prev(),t))return this.prepend(t)}.bind(this),e=>e).then(function(){this.isPaginated&&this.settings.axis===`horizontal`&&(this.settings.direction===`rtl`?this.settings.rtlScrollType===`default`?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis===`horizontal`?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),n=t.height<window.innerHeight?t.height:window.innerHeight,r=t.width<window.innerWidth?t.width:window.innerWidth,i=this.settings.axis===`vertical`;this.settings.direction;let a=0;return this.settings.fullsize&&(a=i?window.scrollY:window.scrollX),e.map(e=>{let{index:o,href:s}=e.section,c=e.position(),l=e.width(),u=e.height(),d,f,p,m;i?(d=a+t.top-c.top+0,f=d+n-0,m=this.layout.count(u,n).pages,p=n):(d=a+t.left-c.left+0,f=d+r-0,m=this.layout.count(l,r).pages,p=r);let h=Math.ceil(d/p),g=[],_=Math.ceil(f/p);if(this.settings.direction===`rtl`&&!i){let e=h;h=m-_,_=m-e}g=[];for(var v=h;v<=_;v++){let e=v+1;g.push(e)}let y=this.mapping.page(e.contents,e.section.cfiBase,d,f);return{index:o,href:s,pages:g,totalPages:m,mapping:y}})}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),n=0,r=0;return this.settings.fullsize&&(n=window.scrollX),e.map(e=>{let{index:i,href:a}=e.section,o,s=e.position(),c=e.width(),l,u,d;this.settings.direction===`rtl`?(o=t.right-n,d=Math.min(Math.abs(o-s.left),this.layout.width)-r,u=s.width-(s.right-o)-r,l=u-d):(o=t.left+n,d=Math.min(s.right-o,this.layout.width)-r,l=o-s.left+r,u=l+d),r+=d;let f=this.mapping.page(e.contents,e.section.cfiBase,l,u),p=this.layout.count(c).pages,m=Math.floor(l/this.layout.pageWidth),h=[],g=Math.floor(u/this.layout.pageWidth);if(m<0&&(m=0,g+=1),this.settings.direction===`rtl`){let e=m;m=p-g,g=p-e}for(var _=m+1;_<=g;_++){let e=_;h.push(e)}return{index:i,href:a,pages:h,totalPages:p,mapping:f}})}isVisible(e,t,n,r){var i=e.position(),a=r||this.bounds();return this.settings.axis===`horizontal`&&i.right>a.left-t&&i.left<a.right+n?!0:this.settings.axis===`vertical`&&i.bottom>a.top-t&&i.top<a.bottom+n}visible(){for(var e=this.bounds(),t=this.views.displayed(),n=t.length,r=[],i,a,o=0;o<n;o++)a=t[o],i=this.isVisible(a,0,0,e),i===!0&&r.push(a);return r}scrollBy(e,t,n){let r=this.settings.direction===`rtl`?-1:1;n&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*r,t*r):(e&&(this.container.scrollLeft+=e*r),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,n){n&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(Q.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(Q.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){return this.stage.bounds()}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name===`pre-paginated`&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Yu(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(t){t&&t.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){!t&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&=new Yu(this.layout.props,this.settings.direction,this.settings.axis),this.layout&&(e===`vertical`?this.layout.spread(`none`):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t=`auto`){let n=e===`paginated`||e===`auto`;this.isPaginated=n,e===`scrolled-doc`||e===`scrolled-continuous`||e===`scrolled`?this.updateAxis(`vertical`):this.updateAxis(`horizontal`),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=n?`hidden`:t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(t){let n=t&&t.contents;n&&e.push(n)}),e}direction(e=`ltr`){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}};(0,Nd.default)(Pd.prototype);var Fd=Pd,Id=l(ul()),Ld=Math.PI/2,Rd={easeOutSine:function(e){return Math.sin(e*Ld)},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e**5:.5*((e-2)**5+2)},easeInCubic:function(e){return e**3}},zd=class{constructor(e,t){this.settings=jl({duration:80,minVelocity:.2,minDistance:10,easing:Rd.easeInCubic},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling=`touch`),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis===`vertical`,!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!(`ontouchstart`in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow=`hidden`}enableScroll(){this.element.style.overflow=``}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener(`resize`,this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener(`scroll`,this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener(`touchstart`,this._onTouchStart,{passive:!0}),this.on(`touchstart`,this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener(`touchmove`,this._onTouchMove,{passive:!0}),this.on(`touchmove`,this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener(`touchend`,this._onTouchEnd,{passive:!0}),this.on(`touchend`,this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Q.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener(`resize`,this._onResize),this._onResize=void 0,this.scroller.removeEventListener(`scroll`,this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener(`touchstart`,this._onTouchStart,{passive:!0}),this.off(`touchstart`,this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener(`touchmove`,this._onTouchMove,{passive:!0}),this.off(`touchmove`,this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener(`touchend`,this._onTouchEnd,{passive:!0}),this.off(`touchend`,this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Q.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;[`touchstart`,`touchmove`,`touchend`].forEach(e=>{t.on(e,e=>this.triggerViewEvent(e,t))})}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:n}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=n,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=n,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:n}=e.touches[0],r=Math.abs(n-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&r<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=n,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();t===0?this.snap():this.snap(t),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,n=Math.abs(t),r=t/(this.endTime-this.startTime),i=this.settings.minVelocity;if(n<=this.settings.minDistance||n>=e)return 0;if(r>i)return-1;if(r<-i)return 1}needsSnap(){return this.scrollLeft%(this.layout.pageWidth*this.layout.divisor)!==0}snap(e=0){let t=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor,r=Math.round(t/n)*n;return e&&(r+=e*n),this.smoothScrollTo(r)}smoothScrollTo(e){let t=new nu,n=this.scrollLeft,r=this.now(),i=this.settings.duration,a=this.settings.easing;this.snapping=!0;function o(){let s=this.now(),c=Math.min(1,(s-r)/i);if(a(c),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,t.resolve();return}c<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(n+(e-n)*c,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}return o.call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return`now`in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&=(this.fullsize&&this.enableScroll(),this.removeListeners(),void 0)}};(0,Id.default)(zd.prototype);var Bd=zd,Vd=l(kd()),Hd=class extends Fd{constructor(e){super(e),this.name=`continuous`,this.settings=jl(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:`scrolled`,offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),jl(this.settings,e.settings||{}),e.settings.gap!=`undefined`&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return Fd.prototype.display.call(this,e,t).then(function(){return this.fill()}.bind(this))}fill(e){var t=e||new nu;return this.q.enqueue(()=>this.check()).then(e=>{e?this.fill(t):t.resolve()}),t.promise}moveTo(e){var t=0,n=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,t+this.settings.offsetDelta):(n=e.top,e.top+this.settings.offsetDelta),(t>0||n>0)&&this.scrollBy(t,n,!0)}afterResized(e){this.emit(Q.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(Q.VIEWS.RESIZED,e=>{t.expanded=!0}),t.on(Q.VIEWS.AXIS,e=>{this.updateAxis(e)}),t.on(Q.VIEWS.WRITING_MODE,e=>{this.updateWritingMode(e)}),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(Q.VIEWS.RESIZED,e=>{t.expanded=!0}),t.on(Q.VIEWS.AXIS,e=>{this.updateAxis(e)}),t.on(Q.VIEWS.WRITING_MODE,e=>{this.updateWritingMode(e)}),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(Q.VIEWS.RESIZED,e=>{this.counter(e),t.expanded=!0}),t.on(Q.VIEWS.AXIS,e=>{this.updateAxis(e)}),t.on(Q.VIEWS.WRITING_MODE,e=>{this.updateWritingMode(e)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){this.settings.axis===`vertical`?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t=this.bounds(),n=this.views.all(),r=n.length,i=[],a=e===void 0?this.settings.offset||0:e,o,s,c=new nu,l=[],u=0;u<r;u++)if(s=n[u],o=this.isVisible(s,a,a,t),o===!0){if(s.displayed)s.show();else{let e=s.display(this.request).then(function(e){e.show()},e=>{s.hide()});l.push(e)}i.push(s)}else this.q.enqueue(s.destroy.bind(s)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return l.length?Promise.all(l).catch(e=>{c.reject(e)}):(c.resolve(),c.promise)}check(e,t){var n=new nu,r=[],i=this.settings.axis===`horizontal`,a=this.settings.offset||0;e&&i&&(a=e),t&&!i&&(a=t);var o=this._bounds;let s=i?this.scrollLeft:this.scrollTop,c=i?Math.floor(o.width):o.height,l=i?this.container.scrollWidth:this.container.scrollHeight,u=this.writingMode&&this.writingMode.indexOf(`vertical`)===0?`vertical`:`horizontal`,d=this.settings.rtlScrollType,f=this.settings.direction===`rtl`;this.settings.fullsize?(i&&f&&d===`negative`||!i&&f&&d===`default`)&&(s*=-1):(f&&d===`default`&&u===`horizontal`&&(s=l-c-s),f&&d===`negative`&&u===`horizontal`&&(s*=-1));let p=()=>{let e=this.views.first(),t=e&&e.section.prev();t&&r.push(this.prepend(t))},m=()=>{let e=this.views.last(),t=e&&e.section.next();t&&r.push(this.append(t))},h=s+c+a,g=s-a;h>=l&&m(),g<0&&p();let _=r.map(e=>e.display(this.request));return r.length?Promise.all(_).then(()=>this.check()).then(()=>this.update(a),e=>e):(this.q.enqueue(function(){this.update()}.bind(this)),n.resolve(!1),n.promise)}trim(){for(var e=new nu,t=this.views.displayed(),n=t[0],r=t[t.length-1],i=this.views.indexOf(n),a=this.views.indexOf(r),o=this.views.slice(0,i),s=this.views.slice(a+1),c=0;c<o.length-1;c++)this.erase(o[c],o);for(var l=1;l<s.length;l++)this.erase(s[l]);return e.resolve(),e.promise}erase(e,t){var n,r;this.settings.fullsize?(n=window.scrollY,r=window.scrollX):(n=this.container.scrollTop,r=this.container.scrollLeft);var i=e.bounds();this.views.remove(e),t&&(this.settings.axis===`vertical`?this.scrollTo(0,n-i.height,!0):this.settings.direction===`rtl`?this.settings.fullsize?this.scrollTo(r+Math.floor(i.width),0,!0):this.scrollTo(r,0,!0):this.scrollTo(r-Math.floor(i.width),0,!0))}addEventListeners(e){window.addEventListener(`unload`,function(e){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Bd(this,this.settings.snap&&typeof this.settings.snap==`object`&&this.settings.snap))}addScrollListeners(){var e;this.tick=bl;let t=this.settings.direction===`rtl`&&this.settings.rtlScrollType===`default`?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener(`scroll`,this._onScroll),this._scrolled=(0,Vd.default)(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){(this.settings.fullsize?window:this.container).removeEventListener(`scroll`,this._onScroll),this._onScroll=void 0}onScroll(){let e,t,n=this.settings.direction===`rtl`&&this.settings.rtlScrollType===`default`?-1:1;this.settings.fullsize?(e=window.scrollY*n,t=window.scrollX*n):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(Q.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Q.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name===`pre-paginated`&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis===`horizontal`?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}prev(){let e=this.layout.props.name===`pre-paginated`&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis===`horizontal`?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,`scroll`),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Bd(this,this.settings.snap&&typeof this.settings.snap==`object`&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}},Ud=l(ul()),Wd=class{constructor(e,t){this.settings=jl(this.settings||{},{width:null,height:null,ignoreClass:``,manager:`default`,view:`iframe`,flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:`ltr`,allowScriptedContent:!1,allowPopups:!1}),jl(this.settings,t),typeof this.settings.manager==`object`&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new vu(this),this.hooks.serialize=new vu(this),this.hooks.content=new vu(this),this.hooks.unloaded=new vu(this),this.hooks.layout=new vu(this),this.hooks.render=new vu(this),this.hooks.show=new vu(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new Ju(this),this.annotations=new od(this),this.epubcfi=new _u,this.q=new ku(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new nu,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){return typeof e==`string`&&e===`default`?Fd:typeof e==`string`&&e===`continuous`?Hd:e}requireView(e){return typeof e==`string`&&e===`iframe`?pd:e}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout===`pre-paginated`||this.book.displayOptions.fixedLayout===`true`)&&(this.settings.layout=`pre-paginated`),this.book.package.metadata.spread){case`none`:this.settings.spread=`none`;break;case`both`:this.settings.spread=!0;break}this.manager||=(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Q.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Q.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Q.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Q.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Q.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Q.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue(function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(Q.RENDITION.ATTACHED)}.bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var t=new nu,n=t.promise,r;return this.displaying=t,this.book.locations.length()&&Ol(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),r=this.book.spine.get(e),r?(this.manager.display(r,e).then(()=>{t.resolve(r),this.displaying=void 0,this.emit(Q.RENDITION.DISPLAYED,r),this.reportLocation()},e=>{this.emit(Q.RENDITION.DISPLAY_ERROR,e)}),n):(t.reject(Error(`No Section Found`)),n)}}afterDisplayed(e){e.on(Q.VIEWS.MARK_CLICKED,(t,n)=>this.triggerMarkEvent(t,n,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(Q.RENDITION.RENDERED,e.section,e)}):this.emit(Q.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(Q.RENDITION.REMOVED,e.section,e)})}onResized(e,t){this.emit(Q.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(Q.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,n){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,n)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t,n=this.settings.layout||e.layout||`reflowable`,r=this.settings.spread||e.spread||`auto`,i=this.settings.orientation||e.orientation||`auto`,a=this.settings.flow||e.flow||`auto`,o=e.viewport||``,s=this.settings.minSpreadWidth||e.minSpreadWidth||800,c=this.settings.direction||e.direction||`ltr`;return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height),t={layout:n,spread:r,orientation:i,flow:a,viewport:o,minSpreadWidth:s,direction:c},t}flow(e){var t=e;(e===`scrolled`||e===`scrolled-doc`||e===`scrolled-continuous`)&&(t=`scrolled`),(e===`auto`||e===`paginated`)&&(t=`paginated`),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new qu(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(Q.LAYOUT.UPDATED,(e,t)=>{this.emit(Q.RENDITION.LAYOUT,e,t)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||`ltr`,this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then==`function`)e.then(function(e){let t=this.located(e);!t||!t.start||!t.end||(this.location=t,this.emit(Q.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Q.RENDITION.RELOCATED,this.location))}.bind(this));else if(e){let t=this.located(e);if(!t||!t.start||!t.end)return;this.location=t,this.emit(Q.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Q.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then==`function`)e.then(function(e){return this.located(e)}.bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],n=e[e.length-1],r={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:n.index,href:n.href,cfi:n.mapping.end,displayed:{page:n.pages[n.pages.length-1]||1,total:n.totalPages}}},i=this.book.locations.locationFromCfi(t.mapping.start),a=this.book.locations.locationFromCfi(n.mapping.end);i!=null&&(r.start.location=i,r.start.percentage=this.book.locations.percentageFromLocation(i)),a!=null&&(r.end.location=a,r.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(t.mapping.start),s=this.book.pageList.pageFromCfi(n.mapping.end);return o!=-1&&(r.start.page=o),s!=-1&&(r.end.page=s),n.index===this.book.spine.last().index&&r.end.displayed.page>=r.end.displayed.total&&(r.atEnd=!0),t.index===this.book.spine.first().index&&r.start.displayed.page===1&&(r.atStart=!0),r}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){Au.forEach(t=>{e.on(t,t=>this.triggerViewEvent(t,e))}),e.on(Q.CONTENTS.SELECTED,t=>this.triggerSelectedEvent(t,e))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(Q.RENDITION.SELECTED,e,t)}triggerMarkEvent(e,t,n){this.emit(Q.RENDITION.MARK_CLICKED,e,t,n)}getRange(e,t){var n=new _u(e),r=this.manager.visible().filter(function(e){if(n.spinePos===e.index)return!0});if(r.length)return r[0].contents.range(n,t)}adjustImages(e){if(this._layout.name===`pre-paginated`)return new Promise(function(e){e()});let t=e.window.getComputedStyle(e.content,null),n=(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)))*.95,r=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-r+`px`:`100%`)+`!important`,"max-height":n+`px!important`,"object-fit":`contain`,"page-break-inside":`avoid`,"break-inside":`avoid`,"box-sizing":`border-box`},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-r+`px`:`100%`)+`!important`,"max-height":n+`px!important`,"page-break-inside":`avoid`,"break-inside":`avoid`}}),new Promise(function(e,t){setTimeout(function(){e()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(Q.CONTENTS.LINK_CLICKED,e=>{let t=this.book.path.relative(e);this.display(t)})}injectStylesheet(e,t){let n=e.createElement(`link`);n.setAttribute(`type`,`text/css`),n.setAttribute(`rel`,`stylesheet`),n.setAttribute(`href`,this.settings.stylesheet),e.getElementsByTagName(`head`)[0].appendChild(n)}injectScript(e,t){let n=e.createElement(`script`);n.setAttribute(`type`,`text/javascript`),n.setAttribute(`src`,this.settings.script),n.textContent=` `,e.getElementsByTagName(`head`)[0].appendChild(n)}injectIdentifier(e,t){let n=this.book.packaging.metadata.identifier,r=e.createElement(`meta`);r.setAttribute(`name`,`dc.relation.ispartof`),n&&r.setAttribute(`content`,n),e.getElementsByTagName(`head`)[0].appendChild(r)}};(0,Ud.default)(Wd.prototype);var Gd=Wd,Kd=l(o(((e,t)=>{(function(n){if(typeof e==`object`&&t!==void 0)t.exports=n();else if(typeof define==`function`&&define.amd)define([],n);else{var r=typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:this;r.JSZip=n()}})(function(){return(function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var c=typeof d==`function`&&d;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var l=Error(`Cannot find module '`+o+`'`);throw l.code=`MODULE_NOT_FOUND`,l}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var a=typeof d==`function`&&d,o=0;o<r.length;o++)i(r[o]);return i})({1:[function(e,t,n){var r=e(`./utils`),i=e(`./support`),a=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=`;n.encode=function(e){for(var t=[],n,i,o,s,c,l,u,d=0,f=e.length,p=f,m=r.getTypeOf(e)!==`string`;d<e.length;)p=f-d,m?(n=e[d++],i=d<f?e[d++]:0,o=d<f?e[d++]:0):(n=e.charCodeAt(d++),i=d<f?e.charCodeAt(d++):0,o=d<f?e.charCodeAt(d++):0),s=n>>2,c=(n&3)<<4|i>>4,l=p>1?(i&15)<<2|o>>6:64,u=p>2?o&63:64,t.push(a.charAt(s)+a.charAt(c)+a.charAt(l)+a.charAt(u));return t.join(``)},n.decode=function(e){var t,n,r,o,s,c,l,u=0,d=0,f=`data:`;if(e.substr(0,f.length)===f)throw Error(`Invalid base64 input, it looks like a data url.`);e=e.replace(/[^A-Za-z0-9+/=]/g,``);var p=e.length*3/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw Error(`Invalid base64 input, bad content length.`);for(var m=i.uint8array?new Uint8Array(p|0):Array(p|0);u<e.length;)o=a.indexOf(e.charAt(u++)),s=a.indexOf(e.charAt(u++)),c=a.indexOf(e.charAt(u++)),l=a.indexOf(e.charAt(u++)),t=o<<2|s>>4,n=(s&15)<<4|c>>2,r=(c&3)<<6|l,m[d++]=t,c!==64&&(m[d++]=n),l!==64&&(m[d++]=r);return m}},{"./support":30,"./utils":32}],2:[function(e,t,n){var r=e(`./external`),i=e(`./stream/DataWorker`),a=e(`./stream/Crc32Probe`),o=e(`./stream/DataLengthProbe`);function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o(`data_length`)),t=this;return e.on(`end`,function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw Error(`Bug : uncompressed data size mismatch`)}),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo(`compressedSize`,this.compressedSize).withStreamInfo(`uncompressedSize`,this.uncompressedSize).withStreamInfo(`crc32`,this.crc32).withStreamInfo(`compression`,this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o(`uncompressedSize`)).pipe(t.compressWorker(n)).pipe(new o(`compressedSize`)).withStreamInfo(`compression`,t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var r=e(`./stream/GenericWorker`);n.STORE={magic:`\0\0`,compressWorker:function(){return new r(`STORE compression`)},uncompressWorker:function(){return new r(`STORE decompression`)}},n.DEFLATE=e(`./flate`)},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var r=e(`./utils`);function i(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var a=i();function o(e,t,n,r){var i=a,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}function s(e,t,n,r){var i=a,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[(e^t.charCodeAt(s))&255];return e^-1}t.exports=function(e,t){return e===void 0||!e.length?0:r.getTypeOf(e)===`string`?s(t|0,e,e.length,0):o(t|0,e,e.length,0)}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var r=null;r=typeof Promise<`u`?Promise:e(`lie`),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){var r=typeof Uint8Array<`u`&&typeof Uint16Array<`u`&&typeof Uint32Array<`u`,i=e(`pako`),a=e(`./utils`),o=e(`./stream/GenericWorker`),s=r?`uint8array`:`array`;n.magic=`\b\0`;function c(e,t){o.call(this,`FlateWorker/`+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}a.inherits(c,o),c.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c(`Deflate`,e)},n.uncompressWorker=function(){return new c(`Inflate`,{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){var r=e(`../utils`),i=e(`../stream/GenericWorker`),a=e(`../utf8`),o=e(`../crc32`),s=e(`../signature`),c=function(e,t){var n=``,r;for(r=0;r<t;r++)n+=String.fromCharCode(e&255),e>>>=8;return n},l=function(e,t){var n=e;return e||(n=t?16893:33204),(n&65535)<<16},u=function(e){return(e||0)&63},d=function(e,t,n,i,d,f){var p=e.file,m=e.compression,h=f!==a.utf8encode,g=r.transformTo(`string`,f(p.name)),_=r.transformTo(`string`,a.utf8encode(p.name)),v=p.comment,y=r.transformTo(`string`,f(v)),b=r.transformTo(`string`,a.utf8encode(v)),x=_.length!==p.name.length,S=b.length!==v.length,C,w,T=``,E=``,D=``,O=p.dir,k=p.date,A={crc32:0,compressedSize:0,uncompressedSize:0};(!t||n)&&(A.crc32=e.crc32,A.compressedSize=e.compressedSize,A.uncompressedSize=e.uncompressedSize);var j=0;t&&(j|=8),!h&&(x||S)&&(j|=2048);var M=0,N=0;O&&(M|=16),d===`UNIX`?(N=798,M|=l(p.unixPermissions,O)):(N=20,M|=u(p.dosPermissions,O)),C=k.getUTCHours(),C<<=6,C|=k.getUTCMinutes(),C<<=5,C|=k.getUTCSeconds()/2,w=k.getUTCFullYear()-1980,w<<=4,w|=k.getUTCMonth()+1,w<<=5,w|=k.getUTCDate(),x&&(E=c(1,1)+c(o(g),4)+_,T+=`up`+c(E.length,2)+E),S&&(D=c(1,1)+c(o(y),4)+b,T+=`uc`+c(D.length,2)+D);var P=``;return P+=`
\0`,P+=c(j,2),P+=m.magic,P+=c(C,2),P+=c(w,2),P+=c(A.crc32,4),P+=c(A.compressedSize,4),P+=c(A.uncompressedSize,4),P+=c(g.length,2),P+=c(T.length,2),{fileRecord:s.LOCAL_FILE_HEADER+P+g+T,dirRecord:s.CENTRAL_FILE_HEADER+c(N,2)+P+c(y.length,2)+`\0\0\0\0`+c(M,4)+c(i,4)+g+T+y}},f=function(e,t,n,i,a){var o=``,l=r.transformTo(`string`,a(i));return o=s.CENTRAL_DIRECTORY_END+`\0\0\0\0`+c(e,2)+c(e,2)+c(t,4)+c(n,4)+c(l.length,2)+l,o},p=function(e){var t=``;return t=s.DATA_DESCRIPTOR+c(e.crc32,4)+c(e.compressedSize,4)+c(e.uncompressedSize,4),t};function m(e,t,n,r){i.call(this,`ZipFileWorker`),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(m,i),m.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},m.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=d(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=d(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:p(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=f(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(`data`,function(e){t.processChunk(e)}),e.on(`end`,function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on(`error`,function(e){t.error(e)}),this},m.prototype.resume=function(){if(!i.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},m.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch{}return!0},m.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var r=e(`../compressions`),i=e(`./ZipFileWorker`),a=function(e,t){var n=e||t,i=r[n];if(!i)throw Error(n+` is not a valid compression method !`);return i};n.generateWorker=function(e,t,n){var r=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var i=a(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo(`file`,{name:e,dir:c,date:l,comment:n.comment||``,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)}),r.entriesCount=o}catch(e){r.error(e)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw Error(`The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.`);this.files=Object.create(null),this.comment=null,this.root=``,this.clone=function(){var e=new r;for(var t in this)typeof this[t]!=`function`&&(e[t]=this[t]);return e}}r.prototype=e(`./object`),r.prototype.loadAsync=e(`./load`),r.support=e(`./support`),r.defaults=e(`./defaults`),r.version=`3.10.1`,r.loadAsync=function(e,t){return new r().loadAsync(e,t)},r.external=e(`./external`),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var r=e(`./utils`),i=e(`./external`),a=e(`./utf8`),o=e(`./zipEntries`),s=e(`./stream/Crc32Probe`),c=e(`./nodejsUtils`);function l(e){return new i.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on(`error`,function(e){n(e)}).on(`end`,function(){r.streamInfo.crc32===e.decompressed.crc32?t():n(Error(`Corrupted zip : CRC32 mismatch`))}).resume()})}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(Error(`JSZip can't accept a stream when loading a zip file.`)):r.prepareContent(`the loaded zip file`,e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(l(r[a]));return i.Promise.all(n)}).then(function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],c=s.fileNameStr,l=r.resolve(s.fileNameStr);n.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(l).unsafeOriginalName=c)}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var r=e(`../utils`),i=e(`../stream/GenericWorker`);function a(e,t){i.call(this,`Nodejs stream input adapter for `+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on(`data`,function(e){t.push({data:e,meta:{percent:0}})}).on(`error`,function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(`end`,function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return i.prototype.pause.call(this)?(this._stream.pause(),!0):!1},a.prototype.resume=function(){return i.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var r=e(`readable-stream`).Readable;e(`../utils`).inherits(i,r);function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on(`data`,function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on(`error`,function(e){i.emit(`error`,e)}).on(`end`,function(){i.push(null)})}i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:typeof Buffer<`u`,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(typeof e==`number`)throw Error(`The "data" argument must not be a number`);return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on==`function`&&typeof e.pause==`function`&&typeof e.resume==`function`}}},{}],15:[function(e,t,n){var r=e(`./utf8`),i=e(`./utils`),a=e(`./stream/GenericWorker`),o=e(`./stream/StreamHelper`),s=e(`./defaults`),c=e(`./compressedObject`),l=e(`./zipObject`),u=e(`./generate`),d=e(`./nodejsUtils`),f=e(`./nodejs/NodejsStreamInputAdapter`),p=function(e,t,n){var r=i.getTypeOf(t),o,u=i.extend(n||{},s);u.date=u.date||new Date,u.compression!==null&&(u.compression=u.compression.toUpperCase()),typeof u.unixPermissions==`string`&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&u.unixPermissions&16384&&(u.dir=!0),u.dosPermissions&&u.dosPermissions&16&&(u.dir=!0),u.dir&&(e=h(e)),u.createFolders&&(o=m(e))&&g.call(this,o,!0);var p=r===`string`&&u.binary===!1&&u.base64===!1;(!n||n.binary===void 0)&&(u.binary=!p),(t instanceof c&&t.uncompressedSize===0||u.dir||!t||t.length===0)&&(u.base64=!1,u.binary=!0,t=``,u.compression=`STORE`,r=`string`);var _=null;_=t instanceof c||t instanceof a?t:d.isNode&&d.isStream(t)?new f(e,t):i.prepareContent(e,t,u.binary,u.optimizedBinaryString,u.base64);var v=new l(e,_,u);this.files[e]=v},m=function(e){e.slice(-1)===`/`&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(`/`);return t>0?e.substring(0,t):``},h=function(e){return e.slice(-1)!==`/`&&(e+=`/`),e},g=function(e,t){return t=t===void 0?s.createFolders:t,e=h(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function _(e){return Object.prototype.toString.call(e)===`[object RegExp]`}t.exports={load:function(){throw Error(`This method has been removed in JSZip 3.0, please check the upgrade guide.`)},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],n=t.slice(this.root.length,t.length),n&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(arguments.length===1)if(_(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}else{var i=this.files[this.root+e];return i&&!i.dir?i:null}else e=this.root+e,p.call(this,e,t,n);return this},folder:function(e){if(!e)return this;if(_(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||=(e.slice(-1)!==`/`&&(e+=`/`),this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw Error(`This method has been removed in JSZip 3.0, please check the upgrade guide.`)},generateInternalStream:function(e){var t,n={};try{if(n=i.extend(e||{},{streamFiles:!1,compression:`STORE`,compressionOptions:null,type:``,platform:`DOS`,comment:null,mimeType:`application/zip`,encodeFileName:r.utf8encode}),n.type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),n.type===`binarystring`&&(n.type=`string`),!n.type)throw Error(`No output type specified.`);i.checkSupport(n.type),(n.platform===`darwin`||n.platform===`freebsd`||n.platform===`linux`||n.platform===`sunos`)&&(n.platform=`UNIX`),n.platform===`win32`&&(n.platform=`DOS`);var s=n.comment||this.comment||``;t=u.generateWorker(this,n,s)}catch(e){t=new a(`error`),t.error(e)}return new o(t,n.type||`string`,n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e||={},e.type||=`nodebuffer`,this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e(`stream`)},{stream:void 0}],17:[function(e,t,n){var r=e(`./DataReader`),i=e(`../utils`);function a(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=e[t]&255}i.inherits(a,r),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},a.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var r=e(`../utils`);function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw Error(`End of data reached (data length = `+this.length+`, asked index = `+e+`). Corrupted zip ?`)},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t=0,n;for(this.checkOffset(e),n=this.index+e-1;n>=this.index;n--)t=(t<<8)+this.byteAt(n);return this.index+=e,t},readString:function(e){return r.transformTo(`string`,this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(e&31)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){var r=e(`./Uint8ArrayReader`),i=e(`../utils`);function a(e){r.call(this,e)}i.inherits(a,r),a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var r=e(`./DataReader`),i=e(`../utils`);function a(e){r.call(this,e)}i.inherits(a,r),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var r=e(`./ArrayReader`),i=e(`../utils`);function a(e){r.call(this,e)}i.inherits(a,r),a.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array;var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var r=e(`../utils`),i=e(`../support`),a=e(`./ArrayReader`),o=e(`./StringReader`),s=e(`./NodeBufferReader`),c=e(`./Uint8ArrayReader`);t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),t===`string`&&!i.uint8array?new o(e):t===`nodebuffer`?new s(e):i.uint8array?new c(r.transformTo(`uint8array`,e)):new a(r.transformTo(`array`,e))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER=`PK`,n.CENTRAL_FILE_HEADER=`PK`,n.CENTRAL_DIRECTORY_END=`PK`,n.ZIP64_CENTRAL_DIRECTORY_LOCATOR=`PK\x07`,n.ZIP64_CENTRAL_DIRECTORY_END=`PK`,n.DATA_DESCRIPTOR=`PK\x07\b`},{}],24:[function(e,t,n){var r=e(`./GenericWorker`),i=e(`../utils`);function a(e){r.call(this,`ConvertWorker to `+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var r=e(`./GenericWorker`),i=e(`../crc32`),a=e(`../utils`);function o(){r.call(this,`Crc32Probe`),this.withStreamInfo(`crc32`,0)}a.inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var r=e(`../utils`),i=e(`./GenericWorker`);function a(e){i.call(this,`DataLengthProbe for `+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var r=e(`../utils`),i=e(`./GenericWorker`),a=16*1024;function o(e){i.call(this,`DataWorker`);var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=``,this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return i.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0):!1},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=a,t=null,n=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case`string`:t=this.data.substring(this.index,n);break;case`uint8array`:t=this.data.subarray(this.index,n);break;case`array`:case`nodebuffer`:t=this.data.slice(this.index,n);break}return this.index=n,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function r(e){this.name=e||`default`,this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit(`data`,e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(`end`),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(`error`,e)}return!0},error:function(e){return this.isFinished?!1:(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(`error`,e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw Error(`The stream '`+this+`' has already been used.`);this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(`data`,function(e){t.processChunk(e)}),e.on(`end`,function(){t.end()}),e.on(`error`,function(e){t.error(e)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw Error(`The stream '`+this+`' has already been used.`);this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=`Worker `+this.name;return this.previous?this.previous+` -> `+e:e}},t.exports=r},{}],29:[function(e,t,n){var r=e(`../utils`),i=e(`./ConvertWorker`),a=e(`./GenericWorker`),o=e(`../base64`),s=e(`../support`),c=e(`../external`),l=null;if(s.nodestream)try{l=e(`../nodejs/NodejsStreamOutputAdapter`)}catch{}function u(e,t,n){switch(e){case`blob`:return r.newBlob(r.transformTo(`arraybuffer`,t),n);case`base64`:return o.encode(t);default:return r.transformTo(e,t)}}function d(e,t){var n,r=0,i=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case`string`:return t.join(``);case`array`:return Array.prototype.concat.apply([],t);case`uint8array`:for(i=new Uint8Array(a),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case`nodebuffer`:return Buffer.concat(t);default:throw Error(`concat : unsupported type '`+e+`'`)}}function f(e,t){return new c.Promise(function(n,r){var i=[],a=e._internalType,o=e._outputType,s=e._mimeType;e.on(`data`,function(e,n){i.push(e),t&&t(n)}).on(`error`,function(e){i=[],r(e)}).on(`end`,function(){try{n(u(o,d(a,i),s))}catch(e){r(e)}i=[]}).resume()})}function p(e,t,n){var o=t;switch(t){case`blob`:case`arraybuffer`:o=`uint8array`;break;case`base64`:o=`string`;break}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(e){this._worker=new a(`error`),this._worker.error(e)}}p.prototype={accumulate:function(e){return f(this,e)},on:function(e,t){var n=this;return e===`data`?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){r.delay(t,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport(`nodestream`),this._outputType!==`nodebuffer`)throw Error(this._outputType+` is not supported by this method`);return new l(this,{objectMode:this._outputType!==`nodebuffer`},e)}},t.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<`u`&&typeof Uint8Array<`u`,n.nodebuffer=typeof Buffer<`u`,n.uint8array=typeof Uint8Array<`u`,typeof ArrayBuffer>`u`)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=new Blob([r],{type:`application/zip`}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=i.getBlob(`application/zip`).size===0}catch{n.blob=!1}}}try{n.nodestream=!!e(`readable-stream`).Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var r=e(`./utils`),i=e(`./support`),a=e(`./nodejsUtils`),o=e(`./stream/GenericWorker`),s=Array(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1;var l=function(e){var t,n,r,a,o,s=e.length,c=0;for(a=0;a<s;a++)n=e.charCodeAt(a),(n&64512)==55296&&a+1<s&&(r=e.charCodeAt(a+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(c):Array(c),o=0,a=0;o<c;a++)n=e.charCodeAt(a),(n&64512)==55296&&a+1<s&&(r=e.charCodeAt(a+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t},u=function(e,t){var n;for(t||=e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)==128;)n--;return n<0||n===0?t:n+s[e[n]]>t?n:t},d=function(e){var t,n,i,a,o=e.length,c=Array(o*2);for(n=0,t=0;t<o;){if(i=e[t++],i<128){c[n++]=i;continue}if(a=s[i],a>4){c[n++]=65533,t+=a-1;continue}for(i&=a===2?31:a===3?15:7;a>1&&t<o;)i=i<<6|e[t++]&63,a--;if(a>1){c[n++]=65533;continue}i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|i&1023)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)};n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,`utf-8`):l(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo(`nodebuffer`,e).toString(`utf-8`):(e=r.transformTo(i.uint8array?`uint8array`:`array`,e),d(e))};function f(){o.call(this,`utf-8 decode`),this.leftOver=null}r.inherits(f,o),f.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?`uint8array`:`array`,e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;t=new Uint8Array(a.length+this.leftOver.length),t.set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=u(t),s=t;o!==t.length&&(i.uint8array?(s=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(s=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(s),meta:e.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=f;function p(){o.call(this,`utf-8 encode`)}r.inherits(p,o),p.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var r=e(`./support`),i=e(`./base64`),a=e(`./nodejsUtils`),o=e(`./external`);e(`setimmediate`);function s(e){var t=null;return t=r.uint8array?new Uint8Array(e.length):Array(e.length),l(e,t)}n.newBlob=function(e,t){n.checkSupport(`blob`);try{return new Blob([e],{type:t})}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch{throw Error(`Bug : can't construct the Blob.`)}}};function c(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)&255;return t}var u={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)t===`array`||t===`nodebuffer`?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join(``)},stringifyByChar:function(e){for(var t=``,n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:(function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function d(e){var t=65536,r=n.getTypeOf(e),i=!0;if(r===`uint8array`?i=u.applyCanBeUsed.uint8array:r===`nodebuffer`&&(i=u.applyCanBeUsed.nodebuffer),i)for(;t>1;)try{return u.stringifyByChunk(e,r,t)}catch{t=Math.floor(t/2)}return u.stringifyByChar(e)}n.applyFromCharCode=d;function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var p={};p.string={string:c,array:function(e){return l(e,Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},p.array={string:d,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return f(e,Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:c,nodebuffer:function(e){return a.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return f(e,Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:c},n.transformTo=function(e,t){return t||=``,e?(n.checkSupport(e),p[n.getTypeOf(t)][e](t)):t},n.resolve=function(e){for(var t=e.split(`/`),n=[],r=0;r<t.length;r++){var i=t[r];i===`.`||i===``&&r!==0&&r!==t.length-1||(i===`..`?n.pop():n.push(i))}return n.join(`/`)},n.getTypeOf=function(e){if(typeof e==`string`)return`string`;if(Object.prototype.toString.call(e)===`[object Array]`)return`array`;if(r.nodebuffer&&a.isBuffer(e))return`nodebuffer`;if(r.uint8array&&e instanceof Uint8Array)return`uint8array`;if(r.arraybuffer&&e instanceof ArrayBuffer)return`arraybuffer`},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw Error(e+` is not supported by this platform`)},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t=``,n,r;for(r=0;r<(e||``).length;r++)n=e.charCodeAt(r),t+=`\\x`+(n<16?`0`:``)+n.toString(16).toUpperCase();return t},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e={},t,n;for(t=0;t<arguments.length;t++)for(n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&e[n]===void 0&&(e[n]=arguments[t][n]);return e},n.prepareContent=function(e,t,a,c,l){return o.Promise.resolve(t).then(function(e){return r.blob&&(e instanceof Blob||[`[object File]`,`[object Blob]`].indexOf(Object.prototype.toString.call(e))!==-1)&&typeof FileReader<`u`?new o.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(t){var r=n.getTypeOf(t);return r?(r===`arraybuffer`?t=n.transformTo(`uint8array`,t):r===`string`&&(l?t=i.decode(t):a&&c!==!0&&(t=s(t))),t):o.Promise.reject(Error(`Can't read the data of '`+e+`'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?`))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var r=e(`./reader/readerFor`),i=e(`./utils`),a=e(`./signature`),o=e(`./zipEntry`),s=e(`./support`);function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw Error(`Corrupted zip or bug: unexpected signature (`+i.pretty(t)+`, expected `+i.pretty(e)+`)`)}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?`uint8array`:`array`,n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e=this.zip64EndOfCentralSize-44,t=0,n,r,i;t<e;)n=this.reader.readInt(2),r=this.reader.readInt(4),i=this.reader.readData(r),this.zip64ExtensibleData[n]={id:n,length:r,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw Error(`Multi-volumes zip are not supported`)},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)e=new o({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw Error(`Corrupted zip or bug: expected `+this.centralDirRecords+` records in central dir, got `+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?Error(`Corrupted zip: can't find end of central directory`):Error(`Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html`);this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw Error(`Corrupted zip: can't find the ZIP64 end of central directory locator`);if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw Error(`Corrupted zip: can't find the ZIP64 end of central directory`);this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw Error(`Corrupted zip: missing `+Math.abs(r)+` bytes.`)},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var r=e(`./reader/readerFor`),i=e(`./utils`),a=e(`./compressedObject`),o=e(`./crc32`),s=e(`./utf8`),c=e(`./compressions`),l=e(`./support`),u=0,d=3,f=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null};function p(e,t){this.options=e,this.loadOptions=t}p.prototype={isEncrypted:function(){return(this.bitFlag&1)==1},useUTF8:function(){return(this.bitFlag&2048)==2048},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw Error(`Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)`);if(t=f(this.compressionMethod),t===null)throw Error(`Corrupted zip : compression `+i.pretty(this.compressionMethod)+` unknown (inner file : `+i.transformTo(`string`,this.fileName)+`)`);this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw Error(`Encrypted zip are not supported`);e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),e===u&&(this.dosPermissions=this.externalFileAttributes&63),e===d&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)===`/`&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t=e.index+this.extraFieldsLength,n,r,i;for(this.extraFields||={};e.index+4<t;)n=e.readInt(2),r=e.readInt(2),i=e.readData(r),this.extraFields[n]={id:n,length:r,value:i};e.setIndex(t)},handleUTF8:function(){var e=l.uint8array?`uint8array`:`array`;if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(r!==null)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return t.readInt(1)!==1||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return t.readInt(1)!==1||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){var r=e(`./stream/StreamHelper`),i=e(`./stream/DataWorker`),a=e(`./utf8`),o=e(`./compressedObject`),s=e(`./stream/GenericWorker`),c=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};c.prototype={internalStream:function(e){var t=null,n=`string`;try{if(!e)throw Error(`No output type specified.`);n=e.toLowerCase();var i=n===`string`||n===`text`;(n===`binarystring`||n===`text`)&&(n=`string`),t=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){t=new s(`error`),t.error(e)}return new r(t,n,``)},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||`nodebuffer`).toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var l=[`asText`,`asBinary`,`asNodeBuffer`,`asUint8Array`,`asArrayBuffer`],u=function(){throw Error(`This method has been removed in JSZip 3.0, please check the upgrade guide.`)},d=0;d<l.length;d++)c.prototype[l[d]]=u;t.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n=e.MutationObserver||e.WebKitMutationObserver,r;if(n){var i=0,a=new n(u),o=e.document.createTextNode(``);a.observe(o,{characterData:!0}),r=function(){o.data=i=++i%2}}else if(!e.setImmediate&&e.MessageChannel!==void 0){var s=new e.MessageChannel;s.port1.onmessage=u,r=function(){s.port2.postMessage(0)}}else r=`document`in e&&`onreadystatechange`in e.document.createElement(`script`)?function(){var t=e.document.createElement(`script`);t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};var c,l=[];function u(){c=!0;for(var e,t,n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}c=!1}t.exports=d;function d(e){l.push(e)===1&&!c&&r()}}).call(this,typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{}],37:[function(e,t,n){var r=e(`immediate`);function i(){}var a={},o=[`REJECTED`],s=[`FULFILLED`],c=[`PENDING`];t.exports=l;function l(e){if(typeof e!=`function`)throw TypeError(`resolver must be a function`);this.state=c,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}l.prototype.finally=function(e){if(typeof e!=`function`)return this;var t=this.constructor;return this.then(n,r);function n(n){function r(){return n}return t.resolve(e()).then(r)}function r(n){function r(){throw n}return t.resolve(e()).then(r)}},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if(typeof e!=`function`&&this.state===s||typeof t!=`function`&&this.state===o)return this;var n=new this.constructor(i);return this.state===c?this.queue.push(new u(n,e,t)):d(n,this.state===s?e:t,this.outcome),n};function u(e,t,n){this.promise=e,typeof t==`function`&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof n==`function`&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}u.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){a.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)};function d(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return a.reject(e,t)}r===e?a.reject(e,TypeError(`Cannot resolve promise with itself`)):a.resolve(e,r)})}a.resolve=function(e,t){var n=m(f,t);if(n.status===`error`)return a.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e};function f(e){var t=e&&e.then;if(e&&(typeof e==`object`||typeof e==`function`)&&typeof t==`function`)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}function o(){t(i,r)}var s=m(o);s.status===`error`&&r(s.value)}function m(e,t){var n={};try{n.value=e(t),n.status=`success`}catch(e){n.status=`error`,n.value=e}return n}l.resolve=h;function h(e){return e instanceof this?e:a.resolve(new this(i),e)}l.reject=g;function g(e){var t=new this(i);return a.reject(t,e)}l.all=_;function _(e){var t=this;if(Object.prototype.toString.call(e)!==`[object Array]`)return this.reject(TypeError(`must be an array`));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=Array(n),s=0,c=-1,l=new this(i);++c<n;)u(e[c],c);return l;function u(e,i){t.resolve(e).then(c,function(e){r||(r=!0,a.reject(l,e))});function c(e){o[i]=e,++s===n&&!r&&(r=!0,a.resolve(l,o))}}}l.race=v;function v(e){var t=this;if(Object.prototype.toString.call(e)!==`[object Array]`)return this.reject(TypeError(`must be an array`));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(i);++o<n;)c(e[o]);return s;function c(e){t.resolve(e).then(function(e){r||(r=!0,a.resolve(s,e))},function(e){r||(r=!0,a.reject(s,e))})}}},{immediate:36}],38:[function(e,t,n){var r=e(`./lib/utils/common`).assign,i=e(`./lib/deflate`),a=e(`./lib/inflate`),o=e(`./lib/zlib/constants`),s={};r(s,i,a,o),t.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var r=e(`./zlib/deflate`),i=e(`./utils/common`),a=e(`./utils/strings`),o=e(`./zlib/messages`),s=e(`./zlib/zstream`),c=Object.prototype.toString,l=0,u=4,d=0,f=1,p=2,m=-1,h=0,g=8;function _(e){if(!(this instanceof _))return new _(e);this.options=i.assign({level:m,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:``},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==d)throw Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var l=typeof t.dictionary==`string`?a.string2buf(t.dictionary):c.call(t.dictionary)===`[object ArrayBuffer]`?new Uint8Array(t.dictionary):t.dictionary;if(n=r.deflateSetDictionary(this.strm,l),n!==d)throw Error(o[n]);this._dict_set=!0}}_.prototype.push=function(e,t){var n=this.strm,o=this.options.chunkSize,s,m;if(this.ended)return!1;m=t===~~t?t:t===!0?u:l,typeof e==`string`?n.input=a.string2buf(e):c.call(e)===`[object ArrayBuffer]`?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new i.Buf8(o),n.next_out=0,n.avail_out=o),s=r.deflate(n,m),s!==f&&s!==d)return this.onEnd(s),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(m===u||m===p))&&(this.options.to===`string`?this.onData(a.buf2binstring(i.shrinkBuf(n.output,n.next_out))):this.onData(i.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&s!==f);return m===u?(s=r.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===d):m===p?(this.onEnd(d),n.avail_out=0,!0):!0},_.prototype.onData=function(e){this.chunks.push(e)},_.prototype.onEnd=function(e){e===d&&(this.options.to===`string`?this.result=this.chunks.join(``):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function v(e,t){var n=new _(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}function y(e,t){return t||={},t.raw=!0,v(e,t)}function b(e,t){return t||={},t.gzip=!0,v(e,t)}n.Deflate=_,n.deflate=v,n.deflateRaw=y,n.gzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var r=e(`./zlib/inflate`),i=e(`./utils/common`),a=e(`./utils/strings`),o=e(`./zlib/constants`),s=e(`./zlib/messages`),c=e(`./zlib/zstream`),l=e(`./zlib/gzheader`),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:``},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}d.prototype.push=function(e,t){var n=this.strm,s=this.options.chunkSize,c=this.options.dictionary,l,d,f,p,m,h,g=!1;if(this.ended)return!1;d=t===~~t?t:t===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof e==`string`?n.input=a.binstring2buf(e):u.call(e)===`[object ArrayBuffer]`?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new i.Buf8(s),n.next_out=0,n.avail_out=s),l=r.inflate(n,o.Z_NO_FLUSH),l===o.Z_NEED_DICT&&c&&(h=typeof c==`string`?a.string2buf(c):u.call(c)===`[object ArrayBuffer]`?new Uint8Array(c):c,l=r.inflateSetDictionary(this.strm,h)),l===o.Z_BUF_ERROR&&g===!0&&(l=o.Z_OK,g=!1),l!==o.Z_STREAM_END&&l!==o.Z_OK)return this.onEnd(l),this.ended=!0,!1;n.next_out&&(n.avail_out===0||l===o.Z_STREAM_END||n.avail_in===0&&(d===o.Z_FINISH||d===o.Z_SYNC_FLUSH))&&(this.options.to===`string`?(f=a.utf8border(n.output,n.next_out),p=n.next_out-f,m=a.buf2string(n.output,f),n.next_out=p,n.avail_out=s-p,p&&i.arraySet(n.output,n.output,f,p,0),this.onData(m)):this.onData(i.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(g=!0)}while((n.avail_in>0||n.avail_out===0)&&l!==o.Z_STREAM_END);return l===o.Z_STREAM_END&&(d=o.Z_FINISH),d===o.Z_FINISH?(l=r.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===o.Z_OK):d===o.Z_SYNC_FLUSH?(this.onEnd(o.Z_OK),n.avail_out=0,!0):!0},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&(this.options.to===`string`?this.result=this.chunks.join(``):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}function p(e,t){return t||={},t.raw=!0,f(e,t)}n.Inflate=d,n.inflate=f,n.inflateRaw=p,n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var r=typeof Uint8Array<`u`&&typeof Uint16Array<`u`&&typeof Int32Array<`u`;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(typeof n!=`object`)throw TypeError(n+`must be non-object`);for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray){e.set(t.subarray(n,n+r),i);return}for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r=0,i,a,o;for(t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){var r=e(`./common`),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,s=e.length,c=0;for(a=0;a<s;a++)n=e.charCodeAt(a),(n&64512)==55296&&a+1<s&&(i=e.charCodeAt(a+1),(i&64512)==56320&&(n=65536+(n-55296<<10)+(i-56320),a++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),o=0,a=0;o<c;a++)n=e.charCodeAt(a),(n&64512)==55296&&a+1<s&&(i=e.charCodeAt(a+1),(i&64512)==56320&&(n=65536+(n-55296<<10)+(i-56320),a++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};function c(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n=``,o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,s=t||e.length,l=Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){l[r++]=i;continue}if(a=o[i],a>4){l[r++]=65533,n+=a-1;continue}for(i&=a===2?31:a===3?15:7;a>1&&n<s;)i=i<<6|e[n++]&63,a--;if(a>1){l[r++]=65533;continue}i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|i&1023)}return c(l,r)},n.utf8border=function(e,t){var n;for(t||=e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)==128;)n--;return n<0||n===0?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){function r(e,t,n,r){for(var i=e&65535|0,a=e>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0}t.exports=r},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var i=r();function a(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[(e^t[s])&255];return e^-1}t.exports=a},{}],46:[function(e,t,n){var r=e(`../utils/common`),i=e(`./trees`),a=e(`./adler32`),o=e(`./crc32`),s=e(`./messages`),c=0,l=1,u=3,d=4,f=5,p=0,m=1,h=-2,g=-3,_=-5,v=-1,y=1,b=2,x=3,S=4,C=0,w=2,T=8,E=9,D=15,O=8,k=286,A=30,j=19,M=2*k+1,N=15,P=3,F=258,I=F+P+1,ee=32,L=42,te=69,R=73,ne=91,z=103,re=113,ie=666,B=1,ae=2,oe=3,se=4,ce=3;function le(e,t){return e.msg=s[t],t}function ue(e){return(e<<1)-(e>4?9:0)}function de(e){for(var t=e.length;--t>=0;)e[t]=0}function fe(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function V(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,fe(e.strm)}function H(e,t){e.pending_buf[e.pending++]=t}function U(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function pe(e,t,n,i){var s=e.avail_in;return s>i&&(s=i),s===0?0:(e.avail_in-=s,r.arraySet(t,e.input,e.next_in,s,n),e.state.wrap===1?e.adler=a(e.adler,t,s,n):e.state.wrap===2&&(e.adler=o(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)}function me(e,t){var n=e.max_chain_length,r=e.strstart,i,a,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-I?e.strstart-(e.w_size-I):0,l=e.window,u=e.w_mask,d=e.prev,f=e.strstart+F,p=l[r+o-1],m=l[r+o];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(i=t,l[i+o]!==m||l[i+o-1]!==p||l[i]!==l[r]||l[++i]!==l[r+1])continue;r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<f);if(a=F-(f-r),r=f-F,a>o){if(e.match_start=t,o=a,a>=s)break;p=l[r+o-1],m=l[r+o]}}while((t=d[t&u])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead}function W(e){var t=e.w_size,n,i,a,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-I)){r.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,i=e.hash_size,n=i;do a=e.head[--n],e.head[n]=a>=t?a-t:0;while(--i);i=t,n=i;do a=e.prev[--n],e.prev[n]=a>=t?a-t:0;while(--i);o+=t}if(e.strm.avail_in===0)break;if(i=pe(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=P)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+P-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<P)););}while(e.lookahead<I&&e.strm.avail_in!==0)}function he(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(W(e),e.lookahead===0&&t===c)return B;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,V(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-I&&(V(e,!1),e.strm.avail_out===0))return B}return e.insert=0,t===d?(V(e,!0),e.strm.avail_out===0?oe:se):(e.strstart>e.block_start&&(V(e,!1),e.strm.avail_out),B)}function G(e,t){for(var n,r;;){if(e.lookahead<I){if(W(e),e.lookahead<I&&t===c)return B;if(e.lookahead===0)break}if(n=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-I&&(e.match_length=me(e,n)),e.match_length>=P)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-P),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=P){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(V(e,!1),e.strm.avail_out===0))return B}return e.insert=e.strstart<P-1?e.strstart:P-1,t===d?(V(e,!0),e.strm.avail_out===0?oe:se):e.last_lit&&(V(e,!1),e.strm.avail_out===0)?B:ae}function K(e,t){for(var n,r,a;;){if(e.lookahead<I){if(W(e),e.lookahead<I&&t===c)return B;if(e.lookahead===0)break}if(n=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=P-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-I&&(e.match_length=me(e,n),e.match_length<=5&&(e.strategy===y||e.match_length===P&&e.strstart-e.match_start>4096)&&(e.match_length=P-1)),e.prev_length>=P&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-P,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-P),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=P-1,e.strstart++,r&&(V(e,!1),e.strm.avail_out===0))return B}else if(e.match_available){if(r=i._tr_tally(e,0,e.window[e.strstart-1]),r&&V(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return B}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&=(r=i._tr_tally(e,0,e.window[e.strstart-1]),0),e.insert=e.strstart<P-1?e.strstart:P-1,t===d?(V(e,!0),e.strm.avail_out===0?oe:se):e.last_lit&&(V(e,!1),e.strm.avail_out===0)?B:ae}function ge(e,t){for(var n,r,a,o,s=e.window;;){if(e.lookahead<=F){if(W(e),e.lookahead<=F&&t===c)return B;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=P&&e.strstart>0&&(a=e.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){o=e.strstart+F;do;while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<o);e.match_length=F-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=P?(n=i._tr_tally(e,1,e.match_length-P),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(V(e,!1),e.strm.avail_out===0))return B}return e.insert=0,t===d?(V(e,!0),e.strm.avail_out===0?oe:se):e.last_lit&&(V(e,!1),e.strm.avail_out===0)?B:ae}function q(e,t){for(var n;;){if(e.lookahead===0&&(W(e),e.lookahead===0)){if(t===c)return B;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(V(e,!1),e.strm.avail_out===0))return B}return e.insert=0,t===d?(V(e,!0),e.strm.avail_out===0?oe:se):e.last_lit&&(V(e,!1),e.strm.avail_out===0)?B:ae}function J(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var _e=[new J(0,0,0,0,he),new J(4,4,8,4,G),new J(4,5,16,8,G),new J(4,6,32,32,G),new J(4,4,16,16,K),new J(8,16,32,32,K),new J(8,16,128,128,K),new J(8,32,128,256,K),new J(32,128,258,1024,K),new J(32,258,258,4096,K)];function ve(e){e.window_size=2*e.w_size,de(e.head),e.max_lazy_match=_e[e.level].max_lazy,e.good_match=_e[e.level].good_length,e.nice_match=_e[e.level].nice_length,e.max_chain_length=_e[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=P-1,e.match_available=0,e.ins_h=0}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(M*2),this.dyn_dtree=new r.Buf16((2*A+1)*2),this.bl_tree=new r.Buf16((2*j+1)*2),de(this.dyn_ltree),de(this.dyn_dtree),de(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(N+1),this.heap=new r.Buf16(2*k+1),de(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*k+1),de(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(e){var t;return!e||!e.state?le(e,h):(e.total_in=e.total_out=0,e.data_type=w,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?L:re,e.adler=t.wrap===2?0:1,t.last_flush=c,i._tr_init(t),p)}function Y(e){var t=be(e);return t===p&&ve(e.state),t}function X(e,t){return!e||!e.state||e.state.wrap!==2?h:(e.state.gzhead=t,p)}function xe(e,t,n,i,a,o){if(!e)return h;var s=1;if(t===v&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>E||n!==T||i<8||i>15||t<0||t>9||o<0||o>S)return le(e,h);i===8&&(i=9);var c=new ye;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+P-1)/P),c.window=new r.Buf8(c.w_size*2),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=c.lit_bufsize*4,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=n,Y(e)}function Se(e,t){return xe(e,t,T,D,O,C)}function Ce(e,t){var n,r,a,s;if(!e||!e.state||t>f||t<0)return e?le(e,h):h;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===ie&&t!==d)return le(e,e.avail_out===0?_:h);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===L)if(r.wrap===2)e.adler=0,H(r,31),H(r,139),H(r,8),r.gzhead?(H(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),H(r,r.gzhead.time&255),H(r,r.gzhead.time>>8&255),H(r,r.gzhead.time>>16&255),H(r,r.gzhead.time>>24&255),H(r,r.level===9?2:r.strategy>=b||r.level<2?4:0),H(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(H(r,r.gzhead.extra.length&255),H(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=o(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=te):(H(r,0),H(r,0),H(r,0),H(r,0),H(r,0),H(r,r.level===9?2:r.strategy>=b||r.level<2?4:0),H(r,ce),r.status=re);else{var g=T+(r.w_bits-8<<4)<<8,v=-1;v=r.strategy>=b||r.level<2?0:r.level<6?1:r.level===6?2:3,g|=v<<6,r.strstart!==0&&(g|=ee),g+=31-g%31,r.status=re,U(r,g),r.strstart!==0&&(U(r,e.adler>>>16),U(r,e.adler&65535)),e.adler=1}if(r.status===te)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=o(e.adler,r.pending_buf,r.pending-a,a)),fe(e),a=r.pending,r.pending===r.pending_buf_size));)H(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=o(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=R)}else r.status=R;if(r.status===R)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=o(e.adler,r.pending_buf,r.pending-a,a)),fe(e),a=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.name.length?r.gzhead.name.charCodeAt(r.gzindex++)&255:0,H(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=o(e.adler,r.pending_buf,r.pending-a,a)),s===0&&(r.gzindex=0,r.status=ne)}else r.status=ne;if(r.status===ne)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=o(e.adler,r.pending_buf,r.pending-a,a)),fe(e),a=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.comment.length?r.gzhead.comment.charCodeAt(r.gzindex++)&255:0,H(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=o(e.adler,r.pending_buf,r.pending-a,a)),s===0&&(r.status=z)}else r.status=z;if(r.status===z&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&fe(e),r.pending+2<=r.pending_buf_size&&(H(r,e.adler&255),H(r,e.adler>>8&255),e.adler=0,r.status=re)):r.status=re),r.pending!==0){if(fe(e),e.avail_out===0)return r.last_flush=-1,p}else if(e.avail_in===0&&ue(t)<=ue(n)&&t!==d)return le(e,_);if(r.status===ie&&e.avail_in!==0)return le(e,_);if(e.avail_in!==0||r.lookahead!==0||t!==c&&r.status!==ie){var y=r.strategy===b?q(r,t):r.strategy===x?ge(r,t):_e[r.level].func(r,t);if((y===oe||y===se)&&(r.status=ie),y===B||y===oe)return e.avail_out===0&&(r.last_flush=-1),p;if(y===ae&&(t===l?i._tr_align(r):t!==f&&(i._tr_stored_block(r,0,0,!1),t===u&&(de(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),fe(e),e.avail_out===0))return r.last_flush=-1,p}return t===d?r.wrap<=0?m:(r.wrap===2?(H(r,e.adler&255),H(r,e.adler>>8&255),H(r,e.adler>>16&255),H(r,e.adler>>24&255),H(r,e.total_in&255),H(r,e.total_in>>8&255),H(r,e.total_in>>16&255),H(r,e.total_in>>24&255)):(U(r,e.adler>>>16),U(r,e.adler&65535)),fe(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending===0?m:p):p}function we(e){var t;return!e||!e.state?h:(t=e.state.status,t!==L&&t!==te&&t!==R&&t!==ne&&t!==z&&t!==re&&t!==ie?le(e,h):(e.state=null,t===re?le(e,g):p))}function Te(e,t){var n=t.length,i,o,s,c,l,u,d,f;if(!e||!e.state||(i=e.state,c=i.wrap,c===2||c===1&&i.status!==L||i.lookahead))return h;for(c===1&&(e.adler=a(e.adler,t,n,0)),i.wrap=0,n>=i.w_size&&(c===0&&(de(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=new r.Buf8(i.w_size),r.arraySet(f,t,n-i.w_size,i.w_size,0),t=f,n=i.w_size),l=e.avail_in,u=e.next_in,d=e.input,e.avail_in=n,e.next_in=0,e.input=t,W(i);i.lookahead>=P;){o=i.strstart,s=i.lookahead-(P-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[o+P-1])&i.hash_mask,i.prev[o&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=o,o++;while(--s);i.strstart=o,i.lookahead=P-1,W(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=P-1,i.match_available=0,e.next_in=u,e.input=d,e.avail_in=l,i.wrap=c,p}n.deflateInit=Se,n.deflateInit2=xe,n.deflateReset=Y,n.deflateResetKeep=be,n.deflateSetHeader=X,n.deflate=Ce,n.deflateEnd=we,n.deflateSetDictionary=Te,n.deflateInfo=`pako deflate (from Nodeca project)`},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=``,this.comment=``,this.hcrc=0,this.done=!1}t.exports=r},{}],48:[function(e,t,n){var r=30,i=12;t.exports=function(e,t){var n=e.state,a=e.next_in,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D=e.input,O;o=a+(e.avail_in-5),s=e.next_out,O=e.output,c=s-(t-e.avail_out),l=s+(e.avail_out-257),u=n.dmax,d=n.wsize,f=n.whave,p=n.wnext,m=n.window,h=n.hold,g=n.bits,_=n.lencode,v=n.distcode,y=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;top:do{g<15&&(h+=D[a++]<<g,g+=8,h+=D[a++]<<g,g+=8),x=_[h&y];dolen:for(;;){if(S=x>>>24,h>>>=S,g-=S,S=x>>>16&255,S===0)O[s++]=x&65535;else if(S&16){C=x&65535,S&=15,S&&(g<S&&(h+=D[a++]<<g,g+=8),C+=h&(1<<S)-1,h>>>=S,g-=S),g<15&&(h+=D[a++]<<g,g+=8,h+=D[a++]<<g,g+=8),x=v[h&b];dodist:for(;;){if(S=x>>>24,h>>>=S,g-=S,S=x>>>16&255,S&16){if(w=x&65535,S&=15,g<S&&(h+=D[a++]<<g,g+=8,g<S&&(h+=D[a++]<<g,g+=8)),w+=h&(1<<S)-1,w>u){e.msg=`invalid distance too far back`,n.mode=r;break top}if(h>>>=S,g-=S,S=s-c,w>S){if(S=w-S,S>f&&n.sane){e.msg=`invalid distance too far back`,n.mode=r;break top}if(T=0,E=m,p===0){if(T+=d-S,S<C){C-=S;do O[s++]=m[T++];while(--S);T=s-w,E=O}}else if(p<S){if(T+=d+p-S,S-=p,S<C){C-=S;do O[s++]=m[T++];while(--S);if(T=0,p<C){S=p,C-=S;do O[s++]=m[T++];while(--S);T=s-w,E=O}}}else if(T+=p-S,S<C){C-=S;do O[s++]=m[T++];while(--S);T=s-w,E=O}for(;C>2;)O[s++]=E[T++],O[s++]=E[T++],O[s++]=E[T++],C-=3;C&&(O[s++]=E[T++],C>1&&(O[s++]=E[T++]))}else{T=s-w;do O[s++]=O[T++],O[s++]=O[T++],O[s++]=O[T++],C-=3;while(C>2);C&&(O[s++]=O[T++],C>1&&(O[s++]=O[T++]))}}else if(S&64){e.msg=`invalid distance code`,n.mode=r;break top}else{x=v[(x&65535)+(h&(1<<S)-1)];continue dodist}break}}else if(S&64)if(S&32){n.mode=i;break top}else{e.msg=`invalid literal/length code`,n.mode=r;break top}else{x=_[(x&65535)+(h&(1<<S)-1)];continue dolen}break}}while(a<o&&s<l);C=g>>3,a-=C,g-=C<<3,h&=(1<<g)-1,e.next_in=a,e.next_out=s,e.avail_in=a<o?5+(o-a):5-(a-o),e.avail_out=s<l?257+(l-s):257-(s-l),n.hold=h,n.bits=g}},{}],49:[function(e,t,n){var r=e(`../utils/common`),i=e(`./adler32`),a=e(`./crc32`),o=e(`./inffast`),s=e(`./inftrees`),c=0,l=1,u=2,d=4,f=5,p=6,m=0,h=1,g=2,_=-2,v=-3,y=-4,b=-5,x=8,S=1,C=2,w=3,T=4,E=5,D=6,O=7,k=8,A=9,j=10,M=11,N=12,P=13,F=14,I=15,ee=16,L=17,te=18,R=19,ne=20,z=21,re=22,ie=23,B=24,ae=25,oe=26,se=27,ce=28,le=29,ue=30,de=31,fe=32,V=852,H=592,U=15;function pe(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function me(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function W(e){var t;return!e||!e.state?_:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=``,t.wrap&&(e.adler=t.wrap&1),t.mode=S,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(V),t.distcode=t.distdyn=new r.Buf32(H),t.sane=1,t.back=-1,m)}function he(e){var t;return!e||!e.state?_:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,W(e))}function G(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?_:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,he(e))}function K(e,t){var n,r;return e?(r=new me,e.state=r,r.window=null,n=G(e,t),n!==m&&(e.state=null),n):_}function ge(e){return K(e,U)}var q=!0,J,_e;function ve(e){if(q){var t;for(J=new r.Buf32(512),_e=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,J,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,_e,0,e.work,{bits:5}),q=!1}e.lencode=J,e.lenbits=9,e.distcode=_e,e.distbits=5}function ye(e,t,n,i){var a,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),i-=a,i?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}function be(e,t){var n,V,H,U,me,W,he,G,K,ge,q,J,_e,be,Y=0,X,xe,Se,Ce,we,Te,Ee,De,Oe=new r.Buf8(4),ke,Ae,je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return _;n=e.state,n.mode===N&&(n.mode=P),me=e.next_out,H=e.output,he=e.avail_out,U=e.next_in,V=e.input,W=e.avail_in,G=n.hold,K=n.bits,ge=W,q=he,De=m;inf_leave:for(;;)switch(n.mode){case S:if(n.wrap===0){n.mode=P;break}for(;K<16;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if(n.wrap&2&&G===35615){n.check=0,Oe[0]=G&255,Oe[1]=G>>>8&255,n.check=a(n.check,Oe,2,0),G=0,K=0,n.mode=C;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((G&255)<<8)+(G>>8))%31){e.msg=`incorrect header check`,n.mode=ue;break}if((G&15)!==x){e.msg=`unknown compression method`,n.mode=ue;break}if(G>>>=4,K-=4,Ee=(G&15)+8,n.wbits===0)n.wbits=Ee;else if(Ee>n.wbits){e.msg=`invalid window size`,n.mode=ue;break}n.dmax=1<<Ee,e.adler=n.check=1,n.mode=G&512?j:N,G=0,K=0;break;case C:for(;K<16;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if(n.flags=G,(n.flags&255)!==x){e.msg=`unknown compression method`,n.mode=ue;break}if(n.flags&57344){e.msg=`unknown header flags set`,n.mode=ue;break}n.head&&(n.head.text=G>>8&1),n.flags&512&&(Oe[0]=G&255,Oe[1]=G>>>8&255,n.check=a(n.check,Oe,2,0)),G=0,K=0,n.mode=w;case w:for(;K<32;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}n.head&&(n.head.time=G),n.flags&512&&(Oe[0]=G&255,Oe[1]=G>>>8&255,Oe[2]=G>>>16&255,Oe[3]=G>>>24&255,n.check=a(n.check,Oe,4,0)),G=0,K=0,n.mode=T;case T:for(;K<16;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}n.head&&(n.head.xflags=G&255,n.head.os=G>>8),n.flags&512&&(Oe[0]=G&255,Oe[1]=G>>>8&255,n.check=a(n.check,Oe,2,0)),G=0,K=0,n.mode=E;case E:if(n.flags&1024){for(;K<16;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}n.length=G,n.head&&(n.head.extra_len=G),n.flags&512&&(Oe[0]=G&255,Oe[1]=G>>>8&255,n.check=a(n.check,Oe,2,0)),G=0,K=0}else n.head&&(n.head.extra=null);n.mode=D;case D:if(n.flags&1024&&(J=n.length,J>W&&(J=W),J&&(n.head&&(Ee=n.head.extra_len-n.length,n.head.extra||(n.head.extra=Array(n.head.extra_len)),r.arraySet(n.head.extra,V,U,J,Ee)),n.flags&512&&(n.check=a(n.check,V,J,U)),W-=J,U+=J,n.length-=J),n.length))break inf_leave;n.length=0,n.mode=O;case O:if(n.flags&2048){if(W===0)break inf_leave;J=0;do Ee=V[U+ J++],n.head&&Ee&&n.length<65536&&(n.head.name+=String.fromCharCode(Ee));while(Ee&&J<W);if(n.flags&512&&(n.check=a(n.check,V,J,U)),W-=J,U+=J,Ee)break inf_leave}else n.head&&(n.head.name=null);n.length=0,n.mode=k;case k:if(n.flags&4096){if(W===0)break inf_leave;J=0;do Ee=V[U+ J++],n.head&&Ee&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ee));while(Ee&&J<W);if(n.flags&512&&(n.check=a(n.check,V,J,U)),W-=J,U+=J,Ee)break inf_leave}else n.head&&(n.head.comment=null);n.mode=A;case A:if(n.flags&512){for(;K<16;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if(G!==(n.check&65535)){e.msg=`header crc mismatch`,n.mode=ue;break}G=0,K=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=N;break;case j:for(;K<32;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}e.adler=n.check=pe(G),G=0,K=0,n.mode=M;case M:if(n.havedict===0)return e.next_out=me,e.avail_out=he,e.next_in=U,e.avail_in=W,n.hold=G,n.bits=K,g;e.adler=n.check=1,n.mode=N;case N:if(t===f||t===p)break inf_leave;case P:if(n.last){G>>>=K&7,K-=K&7,n.mode=se;break}for(;K<3;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}switch(n.last=G&1,G>>>=1,--K,G&3){case 0:n.mode=F;break;case 1:if(ve(n),n.mode=ne,t===p){G>>>=2,K-=2;break inf_leave}break;case 2:n.mode=L;break;case 3:e.msg=`invalid block type`,n.mode=ue}G>>>=2,K-=2;break;case F:for(G>>>=K&7,K-=K&7;K<32;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if((G&65535)!=(G>>>16^65535)){e.msg=`invalid stored block lengths`,n.mode=ue;break}if(n.length=G&65535,G=0,K=0,n.mode=I,t===p)break inf_leave;case I:n.mode=ee;case ee:if(J=n.length,J){if(J>W&&(J=W),J>he&&(J=he),J===0)break inf_leave;r.arraySet(H,V,U,J,me),W-=J,U+=J,he-=J,me+=J,n.length-=J;break}n.mode=N;break;case L:for(;K<14;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if(n.nlen=(G&31)+257,G>>>=5,K-=5,n.ndist=(G&31)+1,G>>>=5,K-=5,n.ncode=(G&15)+4,G>>>=4,K-=4,n.nlen>286||n.ndist>30){e.msg=`too many length or distance symbols`,n.mode=ue;break}n.have=0,n.mode=te;case te:for(;n.have<n.ncode;){for(;K<3;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}n.lens[je[n.have++]]=G&7,G>>>=3,K-=3}for(;n.have<19;)n.lens[je[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ke={bits:n.lenbits},De=s(c,n.lens,0,19,n.lencode,0,n.work,ke),n.lenbits=ke.bits,De){e.msg=`invalid code lengths set`,n.mode=ue;break}n.have=0,n.mode=R;case R:for(;n.have<n.nlen+n.ndist;){for(;Y=n.lencode[G&(1<<n.lenbits)-1],X=Y>>>24,xe=Y>>>16&255,Se=Y&65535,!(X<=K);){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if(Se<16)G>>>=X,K-=X,n.lens[n.have++]=Se;else{if(Se===16){for(Ae=X+2;K<Ae;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if(G>>>=X,K-=X,n.have===0){e.msg=`invalid bit length repeat`,n.mode=ue;break}Ee=n.lens[n.have-1],J=3+(G&3),G>>>=2,K-=2}else if(Se===17){for(Ae=X+3;K<Ae;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}G>>>=X,K-=X,Ee=0,J=3+(G&7),G>>>=3,K-=3}else{for(Ae=X+7;K<Ae;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}G>>>=X,K-=X,Ee=0,J=11+(G&127),G>>>=7,K-=7}if(n.have+J>n.nlen+n.ndist){e.msg=`invalid bit length repeat`,n.mode=ue;break}for(;J--;)n.lens[n.have++]=Ee}}if(n.mode===ue)break;if(n.lens[256]===0){e.msg=`invalid code -- missing end-of-block`,n.mode=ue;break}if(n.lenbits=9,ke={bits:n.lenbits},De=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,ke),n.lenbits=ke.bits,De){e.msg=`invalid literal/lengths set`,n.mode=ue;break}if(n.distbits=6,n.distcode=n.distdyn,ke={bits:n.distbits},De=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ke),n.distbits=ke.bits,De){e.msg=`invalid distances set`,n.mode=ue;break}if(n.mode=ne,t===p)break inf_leave;case ne:n.mode=z;case z:if(W>=6&&he>=258){e.next_out=me,e.avail_out=he,e.next_in=U,e.avail_in=W,n.hold=G,n.bits=K,o(e,q),me=e.next_out,H=e.output,he=e.avail_out,U=e.next_in,V=e.input,W=e.avail_in,G=n.hold,K=n.bits,n.mode===N&&(n.back=-1);break}for(n.back=0;Y=n.lencode[G&(1<<n.lenbits)-1],X=Y>>>24,xe=Y>>>16&255,Se=Y&65535,!(X<=K);){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if(xe&&!(xe&240)){for(Ce=X,we=xe,Te=Se;Y=n.lencode[Te+((G&(1<<Ce+we)-1)>>Ce)],X=Y>>>24,xe=Y>>>16&255,Se=Y&65535,!(Ce+X<=K);){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}G>>>=Ce,K-=Ce,n.back+=Ce}if(G>>>=X,K-=X,n.back+=X,n.length=Se,xe===0){n.mode=oe;break}if(xe&32){n.back=-1,n.mode=N;break}if(xe&64){e.msg=`invalid literal/length code`,n.mode=ue;break}n.extra=xe&15,n.mode=re;case re:if(n.extra){for(Ae=n.extra;K<Ae;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}n.length+=G&(1<<n.extra)-1,G>>>=n.extra,K-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ie;case ie:for(;Y=n.distcode[G&(1<<n.distbits)-1],X=Y>>>24,xe=Y>>>16&255,Se=Y&65535,!(X<=K);){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if(!(xe&240)){for(Ce=X,we=xe,Te=Se;Y=n.distcode[Te+((G&(1<<Ce+we)-1)>>Ce)],X=Y>>>24,xe=Y>>>16&255,Se=Y&65535,!(Ce+X<=K);){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}G>>>=Ce,K-=Ce,n.back+=Ce}if(G>>>=X,K-=X,n.back+=X,xe&64){e.msg=`invalid distance code`,n.mode=ue;break}n.offset=Se,n.extra=xe&15,n.mode=B;case B:if(n.extra){for(Ae=n.extra;K<Ae;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}n.offset+=G&(1<<n.extra)-1,G>>>=n.extra,K-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg=`invalid distance too far back`,n.mode=ue;break}n.mode=ae;case ae:if(he===0)break inf_leave;if(J=q-he,n.offset>J){if(J=n.offset-J,J>n.whave&&n.sane){e.msg=`invalid distance too far back`,n.mode=ue;break}J>n.wnext?(J-=n.wnext,_e=n.wsize-J):_e=n.wnext-J,J>n.length&&(J=n.length),be=n.window}else be=H,_e=me-n.offset,J=n.length;J>he&&(J=he),he-=J,n.length-=J;do H[me++]=be[_e++];while(--J);n.length===0&&(n.mode=z);break;case oe:if(he===0)break inf_leave;H[me++]=n.length,he--,n.mode=z;break;case se:if(n.wrap){for(;K<32;){if(W===0)break inf_leave;W--,G|=V[U++]<<K,K+=8}if(q-=he,e.total_out+=q,n.total+=q,q&&(e.adler=n.check=n.flags?a(n.check,H,q,me-q):i(n.check,H,q,me-q)),q=he,(n.flags?G:pe(G))!==n.check){e.msg=`incorrect data check`,n.mode=ue;break}G=0,K=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;K<32;){if(W===0)break inf_leave;W--,G+=V[U++]<<K,K+=8}if(G!==(n.total&4294967295)){e.msg=`incorrect length check`,n.mode=ue;break}G=0,K=0}n.mode=le;case le:De=h;break inf_leave;case ue:De=v;break inf_leave;case de:return y;case fe:default:return _}return e.next_out=me,e.avail_out=he,e.next_in=U,e.avail_in=W,n.hold=G,n.bits=K,(n.wsize||q!==e.avail_out&&n.mode<ue&&(n.mode<se||t!==d))&&ye(e,e.output,e.next_out,q-e.avail_out)?(n.mode=de,y):(ge-=e.avail_in,q-=e.avail_out,e.total_in+=ge,e.total_out+=q,n.total+=q,n.wrap&&q&&(e.adler=n.check=n.flags?a(n.check,H,q,e.next_out-q):i(n.check,H,q,e.next_out-q)),e.data_type=n.bits+(n.last?64:0)+(n.mode===N?128:0)+(n.mode===ne||n.mode===I?256:0),(ge===0&&q===0||t===d)&&De===m&&(De=b),De)}function Y(e){if(!e||!e.state)return _;var t=e.state;return t.window&&=null,e.state=null,m}function X(e,t){var n;return!e||!e.state||(n=e.state,!(n.wrap&2))?_:(n.head=t,t.done=!1,m)}function xe(e,t){var n=t.length,r,a,o;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==M)?_:r.mode===M&&(a=1,a=i(a,t,n,0),a!==r.check)?v:(o=ye(e,t,n,n),o?(r.mode=de,y):(r.havedict=1,m))}n.inflateReset=he,n.inflateReset2=G,n.inflateResetKeep=W,n.inflateInit=ge,n.inflateInit2=K,n.inflate=be,n.inflateEnd=Y,n.inflateGetHeader=X,n.inflateSetDictionary=xe,n.inflateInfo=`pako inflate (from Nodeca project)`},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var r=e(`../utils/common`),i=15,a=852,o=592,s=0,c=1,l=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,m,h,g,_,v){var y=v.bits,b=0,x=0,S=0,C=0,w=0,T=0,E=0,D=0,O=0,k=0,A,j,M,N,P,F=null,I=0,ee,L=new r.Buf16(i+1),te=new r.Buf16(i+1),R=null,ne=0,z,re,ie;for(b=0;b<=i;b++)L[b]=0;for(x=0;x<m;x++)L[t[n+x]]++;for(w=y,C=i;C>=1&&L[C]===0;C--);if(w>C&&(w=C),C===0)return h[g++]=20971520,h[g++]=20971520,v.bits=1,0;for(S=1;S<C&&L[S]===0;S++);for(w<S&&(w=S),D=1,b=1;b<=i;b++)if(D<<=1,D-=L[b],D<0)return-1;if(D>0&&(e===s||C!==1))return-1;for(te[1]=0,b=1;b<i;b++)te[b+1]=te[b]+L[b];for(x=0;x<m;x++)t[n+x]!==0&&(_[te[t[n+x]]++]=x);if(e===s?(F=R=_,ee=19):e===c?(F=u,I-=257,R=d,ne-=257,ee=256):(F=f,R=p,ee=-1),k=0,x=0,b=S,P=g,T=w,E=0,M=-1,O=1<<w,N=O-1,e===c&&O>a||e===l&&O>o)return 1;for(;;){z=b-E,_[x]<ee?(re=0,ie=_[x]):_[x]>ee?(re=R[ne+_[x]],ie=F[I+_[x]]):(re=96,ie=0),A=1<<b-E,j=1<<T,S=j;do j-=A,h[P+(k>>E)+j]=z<<24|re<<16|ie|0;while(j!==0);for(A=1<<b-1;k&A;)A>>=1;if(A===0?k=0:(k&=A-1,k+=A),x++,--L[b]===0){if(b===C)break;b=t[n+_[x]]}if(b>w&&(k&N)!==M){for(E===0&&(E=w),P+=S,T=b-E,D=1<<T;T+E<C&&(D-=L[T+E],!(D<=0));)T++,D<<=1;if(O+=1<<T,e===c&&O>a||e===l&&O>o)return 1;M=k&N,h[M]=w<<24|T<<16|P-g|0}}return k!==0&&(h[P+k]=b-E<<24|4194304),v.bits=w,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:`need dictionary`,1:`stream end`,0:``,"-1":`file error`,"-2":`stream error`,"-3":`data error`,"-4":`insufficient memory`,"-5":`buffer error`,"-6":`incompatible version`}},{}],52:[function(e,t,n){var r=e(`../utils/common`),i=4,a=0,o=1,s=2;function c(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,u=1,d=2,f=3,p=258,m=29,h=256,g=h+1+m,_=30,v=19,y=2*g+1,b=15,x=16,S=7,C=256,w=16,T=17,E=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=512,M=Array((g+2)*2);c(M);var N=Array(_*2);c(N);var P=Array(j);c(P);var F=Array(p-f+1);c(F);var I=Array(m);c(I);var ee=Array(_);c(ee);function L(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var te,R,ne;function z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function re(e){return e<256?P[e]:P[256+(e>>>7)]}function ie(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function B(e,t,n){e.bi_valid>x-n?(e.bi_buf|=t<<e.bi_valid&65535,ie(e,e.bi_buf),e.bi_buf=t>>x-e.bi_valid,e.bi_valid+=n-x):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function ae(e,t,n){B(e,n[t*2],n[t*2+1])}function oe(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function se(e){e.bi_valid===16?(ie(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function ce(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length,l,u,d,f,p,m,h=0;for(f=0;f<=b;f++)e.bl_count[f]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<y;l++)u=e.heap[l],f=n[n[u*2+1]*2+1]+1,f>c&&(f=c,h++),n[u*2+1]=f,!(u>r)&&(e.bl_count[f]++,p=0,u>=s&&(p=o[u-s]),m=n[u*2],e.opt_len+=m*(f+p),a&&(e.static_len+=m*(i[u*2+1]+p)));if(h!==0){do{for(f=c-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,h-=2}while(h>0);for(f=c;f!==0;f--)for(u=e.bl_count[f];u!==0;)d=e.heap[--l],!(d>r)&&(n[d*2+1]!==f&&(e.opt_len+=(f-n[d*2+1])*n[d*2],n[d*2+1]=f),u--)}}function le(e,t,n){var r=Array(b+1),i=0,a,o;for(a=1;a<=b;a++)r[a]=i=i+n[a-1]<<1;for(o=0;o<=t;o++){var s=e[o*2+1];s!==0&&(e[o*2]=oe(r[s]++,s))}}function ue(){var e,t,n,r,i,a=Array(b+1);for(n=0,r=0;r<m-1;r++)for(I[r]=n,e=0;e<1<<D[r];e++)F[n++]=r;for(F[n-1]=r,i=0,r=0;r<16;r++)for(ee[r]=i,e=0;e<1<<O[r];e++)P[i++]=r;for(i>>=7;r<_;r++)for(ee[r]=i<<7,e=0;e<1<<O[r]-7;e++)P[256+ i++]=r;for(t=0;t<=b;t++)a[t]=0;for(e=0;e<=143;)M[e*2+1]=8,e++,a[8]++;for(;e<=255;)M[e*2+1]=9,e++,a[9]++;for(;e<=279;)M[e*2+1]=7,e++,a[7]++;for(;e<=287;)M[e*2+1]=8,e++,a[8]++;for(le(M,g+1,a),e=0;e<_;e++)N[e*2+1]=5,N[e*2]=oe(e,5);te=new L(M,D,h+1,g,b),R=new L(N,O,0,_,b),ne=new L([],k,0,v,S)}function de(e){var t;for(t=0;t<g;t++)e.dyn_ltree[t*2]=0;for(t=0;t<_;t++)e.dyn_dtree[t*2]=0;for(t=0;t<v;t++)e.bl_tree[t*2]=0;e.dyn_ltree[C*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function fe(e){e.bi_valid>8?ie(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,n,i){fe(e),i&&(ie(e,n),ie(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function H(e,t,n,r){var i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function U(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function pe(e,t,n){var r,i,a=0,o,s;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],i=e.pending_buf[e.l_buf+a],a++,r===0?ae(e,i,t):(o=F[i],ae(e,o+h+1,t),s=D[o],s!==0&&(i-=I[o],B(e,i,s)),r--,o=re(r),ae(e,o,n),s=O[o],s!==0&&(r-=ee[o],B(e,r,s)));while(a<e.last_lit);ae(e,C,t)}function me(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems,o,s,c=-1,l;for(e.heap_len=0,e.heap_max=y,o=0;o<a;o++)n[o*2]===0?n[o*2+1]=0:(e.heap[++e.heap_len]=c=o,e.depth[o]=0);for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)U(e,n,o);l=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],U(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[l*2]=n[o*2]+n[s*2],e.depth[l]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[o*2+1]=n[s*2+1]=l,e.heap[1]=l++,U(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],ce(e,t),le(n,c,e.bl_count)}function W(e,t,n){var r,i=-1,a,o=t[1],s=0,c=7,l=4;for(o===0&&(c=138,l=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=o,o=t[(r+1)*2+1],!(++s<c&&a===o)&&(s<l?e.bl_tree[a*2]+=s:a===0?s<=10?e.bl_tree[T*2]++:e.bl_tree[E*2]++:(a!==i&&e.bl_tree[a*2]++,e.bl_tree[w*2]++),s=0,i=a,o===0?(c=138,l=3):a===o?(c=6,l=3):(c=7,l=4))}function he(e,t,n){var r,i=-1,a,o=t[1],s=0,c=7,l=4;for(o===0&&(c=138,l=3),r=0;r<=n;r++)if(a=o,o=t[(r+1)*2+1],!(++s<c&&a===o)){if(s<l)do ae(e,a,e.bl_tree);while(--s!==0);else a===0?s<=10?(ae(e,T,e.bl_tree),B(e,s-3,3)):(ae(e,E,e.bl_tree),B(e,s-11,7)):(a!==i&&(ae(e,a,e.bl_tree),s--),ae(e,w,e.bl_tree),B(e,s-3,2));s=0,i=a,o===0?(c=138,l=3):a===o?(c=6,l=3):(c=7,l=4)}}function G(e){var t;for(W(e,e.dyn_ltree,e.l_desc.max_code),W(e,e.dyn_dtree,e.d_desc.max_code),me(e,e.bl_desc),t=v-1;t>=3&&e.bl_tree[A[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function K(e,t,n,r){var i;for(B(e,t-257,5),B(e,n-1,5),B(e,r-4,4),i=0;i<r;i++)B(e,e.bl_tree[A[i]*2+1],3);he(e,e.dyn_ltree,t-1),he(e,e.dyn_dtree,n-1)}function ge(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return a;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return o;for(n=32;n<h;n++)if(e.dyn_ltree[n*2]!==0)return o;return a}var q=!1;function J(e){q||=(ue(),!0),e.l_desc=new z(e.dyn_ltree,te),e.d_desc=new z(e.dyn_dtree,R),e.bl_desc=new z(e.bl_tree,ne),e.bi_buf=0,e.bi_valid=0,de(e)}function _e(e,t,n,r){B(e,(l<<1)+(r?1:0),3),V(e,t,n,!0)}function ve(e){B(e,u<<1,3),ae(e,C,M),se(e)}function ye(e,t,n,r){var a,o,c=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=ge(e)),me(e,e.l_desc),me(e,e.d_desc),c=G(e),a=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=a&&(a=o)):a=o=n+5,n+4<=a&&t!==-1?_e(e,t,n,r):e.strategy===i||o===a?(B(e,(u<<1)+(r?1:0),3),pe(e,M,N)):(B(e,(d<<1)+(r?1:0),3),K(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),pe(e,e.dyn_ltree,e.dyn_dtree)),de(e),r&&fe(e)}function be(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(F[n]+h+1)*2]++,e.dyn_dtree[re(t)*2]++),e.last_lit===e.lit_bufsize-1}n._tr_init=J,n._tr_stored_block=_e,n._tr_flush_block=ye,n._tr_tally=be,n._tr_align=ve},{"../utils/common":41}],53:[function(e,t,n){function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=``,this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],54:[function(e,t,n){(function(e){(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,a=e.document,o;function s(e){typeof e!=`function`&&(e=Function(``+e));for(var t=Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];return r[n]={callback:e,args:t},o(n),n++}function c(e){delete r[e]}function l(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r);break}}function u(e){if(i)setTimeout(u,0,e);else{var t=r[e];if(t){i=!0;try{l(t)}finally{c(e),i=!1}}}}function d(){o=function(e){process.nextTick(function(){u(e)})}}function f(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(``,`*`),e.onmessage=n,t}}function p(){var t=`setImmediate$`+Math.random()+`$`,n=function(n){n.source===e&&typeof n.data==`string`&&n.data.indexOf(t)===0&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener(`message`,n,!1):e.attachEvent(`onmessage`,n),o=function(n){e.postMessage(t+n,`*`)}}function m(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;u(t)},o=function(t){e.port2.postMessage(t)}}function h(){var e=a.documentElement;o=function(t){var n=a.createElement(`script`);n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function g(){o=function(e){setTimeout(u,0,e)}}var _=Object.getPrototypeOf&&Object.getPrototypeOf(e);_=_&&_.setTimeout?_:e,{}.toString.call(e.process)===`[object process]`?d():f()?p():e.MessageChannel?m():a&&`onreadystatechange`in a.createElement(`script`)?h():g(),_.setImmediate=s,_.clearImmediate=c})(typeof self>`u`?e===void 0?this:e:self)}).call(this,typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{}]},{},[10])(10)})}))()),qd=class{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new Kd.default}catch{throw Error(`JSZip lib not loaded`)}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return Tu(e,`binary`).then(function(e){return this.zip.loadAsync(e,{base64:t})}.bind(this))}request(e,t){var n=new nu,r,i=new du(e);return t||=i.extension,r=t==`blob`?this.getBlob(e):this.getText(e),r?r.then(function(e){let r=this.handleResponse(e,t);n.resolve(r)}.bind(this)):n.reject({message:`File not found in the epub: `+e,stack:Error().stack}),n.promise}handleResponse(e,t){return t==`json`?JSON.parse(e):Hl(t)?Jl(e,`text/xml`):t==`xhtml`?Jl(e,`application/xhtml+xml`):t==`html`||t==`htm`?Jl(e,`text/html`):e}getBlob(e,t){var n=window.decodeURIComponent(e.substr(1)),r=this.zip.file(n);if(r)return t||=Vu.lookup(r.name),r.async(`uint8array`).then(function(e){return new Blob([e],{type:t})})}getText(e,t){var n=window.decodeURIComponent(e.substr(1)),r=this.zip.file(n);if(r)return r.async(`string`).then(function(e){return e})}getBase64(e,t){var n=window.decodeURIComponent(e.substr(1)),r=this.zip.file(n);if(r)return t||=Vu.lookup(r.name),r.async(`base64`).then(function(e){return`data:`+t+`;base64,`+e})}createUrl(e,t){var n=new nu,r=window.URL||window.webkitURL||window.mozURL,i,a,o=t&&t.base64;return e in this.urlCache?(n.resolve(this.urlCache[e]),n.promise):(o?(a=this.getBase64(e),a&&a.then(function(t){this.urlCache[e]=t,n.resolve(t)}.bind(this))):(a=this.getBlob(e),a&&a.then(function(t){i=r.createObjectURL(t),this.urlCache[e]=i,n.resolve(i)}.bind(this))),a||n.reject({message:`File not found in the epub: `+e,stack:Error().stack}),n.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&t.revokeObjectURL(n)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}},Jd=o(((e,t)=>{(function(n){if(typeof e==`object`&&t!==void 0)t.exports=n();else if(typeof define==`function`&&define.amd)define([],n);else{var r=typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:this;r.localforage=n()}})(function(){return(function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var c=typeof d==`function`&&d;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var l=Error(`Cannot find module '`+o+`'`);throw l.code=`MODULE_NOT_FOUND`,l}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var a=typeof d==`function`&&d,o=0;o<r.length;o++)i(r[o]);return i})({1:[function(e,t,n){(function(e){var n=e.MutationObserver||e.WebKitMutationObserver,r;if(n){var i=0,a=new n(u),o=e.document.createTextNode(``);a.observe(o,{characterData:!0}),r=function(){o.data=i=++i%2}}else if(!e.setImmediate&&e.MessageChannel!==void 0){var s=new e.MessageChannel;s.port1.onmessage=u,r=function(){s.port2.postMessage(0)}}else r=`document`in e&&`onreadystatechange`in e.document.createElement(`script`)?function(){var t=e.document.createElement(`script`);t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};var c,l=[];function u(){c=!0;for(var e,t,n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}c=!1}t.exports=d;function d(e){l.push(e)===1&&!c&&r()}}).call(this,typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{}],2:[function(e,t,n){var r=e(1);function i(){}var a={},o=[`REJECTED`],s=[`FULFILLED`],c=[`PENDING`];t.exports=l;function l(e){if(typeof e!=`function`)throw TypeError(`resolver must be a function`);this.state=c,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if(typeof e!=`function`&&this.state===s||typeof t!=`function`&&this.state===o)return this;var n=new this.constructor(i);return this.state===c?this.queue.push(new u(n,e,t)):d(n,this.state===s?e:t,this.outcome),n};function u(e,t,n){this.promise=e,typeof t==`function`&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof n==`function`&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}u.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){a.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)};function d(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return a.reject(e,t)}r===e?a.reject(e,TypeError(`Cannot resolve promise with itself`)):a.resolve(e,r)})}a.resolve=function(e,t){var n=m(f,t);if(n.status===`error`)return a.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e};function f(e){var t=e&&e.then;if(e&&(typeof e==`object`||typeof e==`function`)&&typeof t==`function`)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}function o(){t(i,r)}var s=m(o);s.status===`error`&&r(s.value)}function m(e,t){var n={};try{n.value=e(t),n.status=`success`}catch(e){n.status=`error`,n.value=e}return n}l.resolve=h;function h(e){return e instanceof this?e:a.resolve(new this(i),e)}l.reject=g;function g(e){var t=new this(i);return a.reject(t,e)}l.all=_;function _(e){var t=this;if(Object.prototype.toString.call(e)!==`[object Array]`)return this.reject(TypeError(`must be an array`));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=Array(n),s=0,c=-1,l=new this(i);++c<n;)u(e[c],c);return l;function u(e,i){t.resolve(e).then(c,function(e){r||(r=!0,a.reject(l,e))});function c(e){o[i]=e,++s===n&&!r&&(r=!0,a.resolve(l,o))}}}l.race=v;function v(e){var t=this;if(Object.prototype.toString.call(e)!==`[object Array]`)return this.reject(TypeError(`must be an array`));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(i);++o<n;)c(e[o]);return s;function c(e){t.resolve(e).then(function(e){r||(r=!0,a.resolve(s,e))},function(e){r||(r=!0,a.reject(s,e))})}}},{1:1}],3:[function(e,t,n){(function(t){typeof t.Promise!=`function`&&(t.Promise=e(2))}).call(this,typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{2:2}],4:[function(e,t,n){var r=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e};function i(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function a(){try{if(typeof indexedDB<`u`)return indexedDB;if(typeof webkitIndexedDB<`u`)return webkitIndexedDB;if(typeof mozIndexedDB<`u`)return mozIndexedDB;if(typeof OIndexedDB<`u`)return OIndexedDB;if(typeof msIndexedDB<`u`)return msIndexedDB}catch{return}}var o=a();function s(){try{if(!o||!o.open)return!1;var e=typeof openDatabase<`u`&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t=typeof fetch==`function`&&fetch.toString().indexOf(`[native code`)!==-1;return(!e||t)&&typeof indexedDB<`u`&&typeof IDBKeyRange<`u`}catch{return!1}}function c(e,t){e||=[],t||={};try{return new Blob(e,t)}catch(i){if(i.name!==`TypeError`)throw i;for(var n=new(typeof BlobBuilder<`u`?BlobBuilder:typeof MSBlobBuilder<`u`?MSBlobBuilder:typeof MozBlobBuilder<`u`?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}typeof Promise>`u`&&e(3);var l=Promise;function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function d(e,t,n){typeof t==`function`&&e.then(t),typeof n==`function`&&e.catch(n)}function f(e){return typeof e!=`string`&&(console.warn(e+` used as a key, but it is not a string.`),e=String(e)),e}function p(){if(arguments.length&&typeof arguments[arguments.length-1]==`function`)return arguments[arguments.length-1]}var m=`local-forage-detect-blob-support`,h=void 0,g={},_=Object.prototype.toString,v=`readonly`,y=`readwrite`;function b(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function x(e){return new l(function(t){var n=e.transaction(m,y),r=c([``]);n.objectStore(m).put(r,`key`),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);t(navigator.userAgent.match(/Edge\//)||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function S(e){return typeof h==`boolean`?l.resolve(h):x(e).then(function(e){return h=e,h})}function C(e){var t=g[e.name],n={};n.promise=new l(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function w(e){var t=g[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function T(e,t){var n=g[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function E(e,t){return new l(function(n,r){if(g[e.name]=g[e.name]||I(),e.db)if(t)C(e),e.db.close();else return n(e.db);var i=[e.name];t&&i.push(e.version);var a=o.open.apply(o,i);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(m)}catch(n){if(n.name===`ConstraintError`)console.warn(`The database "`+e.name+`" has been upgraded from version `+t.oldVersion+` to version `+t.newVersion+`, but the storage "`+e.storeName+`" already exists.`);else throw n}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},n(t),w(e)}})}function D(e){return E(e,!1)}function O(e){return E(e,!0)}function k(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn(`The database "`+e.name+`" can't be downgraded from version `+e.db.version+` to version `+e.version+`.`),e.version=e.db.version),i||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function A(e){return new l(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){t({__local_forage_encoded_blob:!0,data:btoa(n.target.result||``),type:e.type})},r.readAsBinaryString(e)})}function j(e){return c([b(atob(e.data))],{type:e.type})}function M(e){return e&&e.__local_forage_encoded_blob}function N(e){var t=this,n=t._initReady().then(function(){var e=g[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return d(n,e,e),n}function P(e){C(e);for(var t=g[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,D(e).then(function(t){return e.db=t,k(e)?O(e):t}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(t){throw T(e,t),t})}function F(e,t,n,r){r===void 0&&(r=1);try{n(null,e.db.transaction(e.storeName,t))}catch(i){if(r>0&&(!e.db||i.name===`InvalidStateError`||i.name===`NotFoundError`))return l.resolve().then(function(){if(!e.db||i.name===`NotFoundError`&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),O(e)}).then(function(){return P(e).then(function(){F(e,t,n,r-1)})}).catch(n);n(i)}}function I(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ee(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=g[n.name];i||(i=I(),g[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=N);var a=[];function o(){return l.resolve()}for(var s=0;s<i.forages.length;s++){var c=i.forages[s];c!==t&&a.push(c._initReady().catch(o))}var u=i.forages.slice(0);return l.all(a).then(function(){return n.db=i.db,D(n)}).then(function(e){return n.db=e,k(n,t._defaultConfig.version)?O(n):e}).then(function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var a=u[r];a!==t&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}})}function L(e,t){var n=this;e=f(e);var r=new l(function(t,r){n.ready().then(function(){F(n._dbInfo,v,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;e===void 0&&(e=null),M(e)&&(e=j(e)),t(e)},o.onerror=function(){r(o.error)}}catch(e){r(e)}})}).catch(r)});return u(r,t),r}function te(e,t){var n=this,r=new l(function(t,r){n.ready().then(function(){F(n._dbInfo,v,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).openCursor(),s=1;o.onsuccess=function(){var n=o.result;if(n){var r=n.value;M(r)&&(r=j(r));var i=e(r,n.key,s++);i===void 0?n.continue():t(i)}else t()},o.onerror=function(){r(o.error)}}catch(e){r(e)}})}).catch(r)});return u(r,t),r}function R(e,t,n){var r=this;e=f(e);var i=new l(function(n,i){var a;r.ready().then(function(){return a=r._dbInfo,_.call(t)===`[object Blob]`?S(a.db).then(function(e){return e?t:A(t)}):t}).then(function(t){F(r._dbInfo,y,function(a,o){if(a)return i(a);try{var s=o.objectStore(r._dbInfo.storeName);t===null&&(t=void 0);var c=s.put(t,e);o.oncomplete=function(){t===void 0&&(t=null),n(t)},o.onabort=o.onerror=function(){i(c.error?c.error:c.transaction.error)}}catch(e){i(e)}})}).catch(i)});return u(i,n),i}function ne(e,t){var n=this;e=f(e);var r=new l(function(t,r){n.ready().then(function(){F(n._dbInfo,y,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){r(o.error)},a.onabort=function(){r(o.error?o.error:o.transaction.error)}}catch(e){r(e)}})}).catch(r)});return u(r,t),r}function z(e){var t=this,n=new l(function(e,n){t.ready().then(function(){F(t._dbInfo,y,function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){n(a.error?a.error:a.transaction.error)}}catch(e){n(e)}})}).catch(n)});return u(n,e),n}function re(e){var t=this,n=new l(function(e,n){t.ready().then(function(){F(t._dbInfo,v,function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return u(n,e),n}function ie(e,t){var n=this,r=new l(function(t,r){if(e<0){t(null);return}n.ready().then(function(){F(n._dbInfo,v,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName),s=!1,c=o.openKeyCursor();c.onsuccess=function(){var n=c.result;if(!n){t(null);return}e===0||s?t(n.key):(s=!0,n.advance(e))},c.onerror=function(){r(c.error)}}catch(e){r(e)}})}).catch(r)});return u(r,t),r}function B(e){var t=this,n=new l(function(e,n){t.ready().then(function(){F(t._dbInfo,v,function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];a.onsuccess=function(){var t=a.result;if(!t){e(o);return}o.push(t.key),t.continue()},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return u(n,e),n}function ae(e,t){t=p.apply(this,arguments);var n=this.config();e=typeof e!=`function`&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r=this,i;if(!e.name)i=l.reject(`Invalid arguments`);else{var a=e.name===n.name&&r._dbInfo.db?l.resolve(r._dbInfo.db):D(e).then(function(t){var n=g[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t});i=e.storeName?a.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;C(e);var r=g[e.name],i=r.forages;t.close();for(var a=0;a<i.length;a++){var s=i[a];s._dbInfo.db=null,s._dbInfo.version=n}return new l(function(t,r){var i=o.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,w(n._dbInfo)}}).catch(function(t){throw(T(e,t)||l.resolve()).catch(function(){}),t})}}):a.then(function(t){C(e);var n=g[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++){var a=r[i];a._dbInfo.db=null}return new l(function(t,n){var r=o.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn(`dropInstance blocked for database "`+e.name+`" until all open connections are closed`)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++){var i=r[t];w(i._dbInfo)}}).catch(function(t){throw(T(e,t)||l.resolve()).catch(function(){}),t})})}return u(i,t),i}var oe={_driver:`asyncStorage`,_initStorage:ee,_support:s(),iterate:te,getItem:L,setItem:R,removeItem:ne,clear:z,length:re,key:ie,keys:B,dropInstance:ae};function se(){return typeof openDatabase==`function`}var ce=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,le=`~~local_forage_type~`,ue=/^~~local_forage_type~([^~]+)~/,de=`__lfsc__:`,fe=de.length,V=`arbf`,H=`blob`,U=`si08`,pe=`ui08`,me=`uic8`,W=`si16`,he=`si32`,G=`ur16`,K=`ui32`,ge=`fl32`,q=`fl64`,J=fe+V.length,_e=Object.prototype.toString;function ve(e){var t=e.length*.75,n=e.length,r,i=0,a,o,s,c;e[e.length-1]===`=`&&(t--,e[e.length-2]===`=`&&t--);var l=new ArrayBuffer(t),u=new Uint8Array(l);for(r=0;r<n;r+=4)a=ce.indexOf(e[r]),o=ce.indexOf(e[r+1]),s=ce.indexOf(e[r+2]),c=ce.indexOf(e[r+3]),u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|s>>2,u[i++]=(s&3)<<6|c&63;return l}function ye(e){var t=new Uint8Array(e),n=``,r;for(r=0;r<t.length;r+=3)n+=ce[t[r]>>2],n+=ce[(t[r]&3)<<4|t[r+1]>>4],n+=ce[(t[r+1]&15)<<2|t[r+2]>>6],n+=ce[t[r+2]&63];return t.length%3==2?n=n.substring(0,n.length-1)+`=`:t.length%3==1&&(n=n.substring(0,n.length-2)+`==`),n}function be(e,t){var n=``;if(e&&(n=_e.call(e)),e&&(n===`[object ArrayBuffer]`||e.buffer&&_e.call(e.buffer)===`[object ArrayBuffer]`)){var r,i=de;e instanceof ArrayBuffer?(r=e,i+=V):(r=e.buffer,n===`[object Int8Array]`?i+=U:n===`[object Uint8Array]`?i+=pe:n===`[object Uint8ClampedArray]`?i+=me:n===`[object Int16Array]`?i+=W:n===`[object Uint16Array]`?i+=G:n===`[object Int32Array]`?i+=he:n===`[object Uint32Array]`?i+=K:n===`[object Float32Array]`?i+=ge:n===`[object Float64Array]`?i+=q:t(Error(`Failed to get type for BinaryArray`))),t(i+ye(r))}else if(n===`[object Blob]`){var a=new FileReader;a.onload=function(){var n=le+e.type+`~`+ye(this.result);t(de+H+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error(`Couldn't convert value into a JSON string: `,e),t(null,n)}}function Y(e){if(e.substring(0,fe)!==de)return JSON.parse(e);var t=e.substring(J),n=e.substring(fe,J),r;if(n===H&&ue.test(t)){var i=t.match(ue);r=i[1],t=t.substring(i[0].length)}var a=ve(t);switch(n){case V:return a;case H:return c([a],{type:r});case U:return new Int8Array(a);case pe:return new Uint8Array(a);case me:return new Uint8ClampedArray(a);case W:return new Int16Array(a);case G:return new Uint16Array(a);case he:return new Int32Array(a);case K:return new Uint32Array(a);case ge:return new Float32Array(a);case q:return new Float64Array(a);default:throw Error(`Unkown type: `+n)}}var X={serialize:be,deserialize:Y,stringToBuffer:ve,bufferToString:ye};function xe(e,t,n,r){e.executeSql(`CREATE TABLE IF NOT EXISTS `+t.storeName+` (id INTEGER PRIMARY KEY, key unique, value)`,[],n,r)}function Se(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=typeof e[r]==`string`?e[r]:e[r].toString();var i=new l(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(i){xe(i,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=X,i}function Ce(e,t,n,r,i,a){e.executeSql(n,r,i,function(e,o){o.code===o.SYNTAX_ERR?e.executeSql(`SELECT name FROM sqlite_master WHERE type='table' AND name = ?`,[t.storeName],function(e,s){s.rows.length?a(e,o):xe(e,t,function(){e.executeSql(n,r,i,a)},a)},a):a(e,o)},a)}function we(e,t){var n=this;e=f(e);var r=new l(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Ce(n,i,`SELECT * FROM `+i.storeName+` WHERE key = ? LIMIT 1`,[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&=i.serializer.deserialize(r),t(r)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function Te(e,t){var n=this,r=new l(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Ce(n,i,`SELECT * FROM `+i.storeName,[],function(n,r){for(var a=r.rows,o=a.length,s=0;s<o;s++){var c=a.item(s),l=c.value;if(l&&=i.serializer.deserialize(l),l=e(l,c.key,s+1),l!==void 0){t(l);return}}t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function Ee(e,t,n,r){var i=this;e=f(e);var a=new l(function(a,o){i.ready().then(function(){t===void 0&&(t=null);var s=t,c=i._dbInfo;c.serializer.serialize(t,function(t,l){l?o(l):c.db.transaction(function(n){Ce(n,c,`INSERT OR REPLACE INTO `+c.storeName+` (key, value) VALUES (?, ?)`,[e,t],function(){a(s)},function(e,t){o(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0){a(Ee.apply(i,[e,s,n,r-1]));return}o(t)}})})}).catch(o)});return u(a,n),a}function De(e,t,n){return Ee.apply(this,[e,t,n,1])}function Oe(e,t){var n=this;e=f(e);var r=new l(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Ce(n,i,`DELETE FROM `+i.storeName+` WHERE key = ?`,[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function ke(e){var t=this,n=new l(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){Ce(t,r,`DELETE FROM `+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function Ae(e){var t=this,n=new l(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){Ce(t,r,`SELECT COUNT(key) as c FROM `+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function je(e,t){var n=this,r=new l(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Ce(n,i,`SELECT key FROM `+i.storeName+` WHERE id = ? LIMIT 1`,[e+1],function(e,n){t(n.rows.length?n.rows.item(0).key:null)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function Me(e){var t=this,n=new l(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){Ce(t,r,`SELECT key FROM `+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function Ne(e){return new l(function(t,n){e.transaction(function(r){r.executeSql(`SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'`,[],function(n,r){for(var i=[],a=0;a<r.rows.length;a++)i.push(r.rows.item(a).name);t({db:e,storeNames:i})},function(e,t){n(t)})},function(e){n(e)})})}function Pe(e,t){t=p.apply(this,arguments);var n=this.config();e=typeof e!=`function`&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r=this,i=e.name?new l(function(t){var i=e.name===n.name?r._dbInfo.db:openDatabase(e.name,``,``,0);e.storeName?t({db:i,storeNames:[e.storeName]}):t(Ne(i))}).then(function(e){return new l(function(t,n){e.db.transaction(function(r){function i(e){return new l(function(t,n){r.executeSql(`DROP TABLE IF EXISTS `+e,[],function(){t()},function(e,t){n(t)})})}for(var a=[],o=0,s=e.storeNames.length;o<s;o++)a.push(i(e.storeNames[o]));l.all(a).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):l.reject(`Invalid arguments`);return u(i,t),i}var Fe={_driver:`webSQLStorage`,_initStorage:Se,_support:se(),iterate:Te,getItem:we,setItem:De,removeItem:Oe,clear:ke,length:Ae,key:je,keys:Me,dropInstance:Pe};function Ie(){try{return typeof localStorage<`u`&&`setItem`in localStorage&&!!localStorage.setItem}catch{return!1}}function Le(e,t){var n=e.name+`/`;return e.storeName!==t.storeName&&(n+=e.storeName+`/`),n}function Re(){var e=`_localforage_support_test`;try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function ze(){return!Re()||localStorage.length>0}function Be(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=Le(e,t._defaultConfig),ze()?(t._dbInfo=n,n.serializer=X,l.resolve()):l.reject()}function Ve(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);r.indexOf(e)===0&&localStorage.removeItem(r)}});return u(n,e),n}function He(e,t){var n=this;e=f(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&=t.serializer.deserialize(r),r});return u(r,t),r}function Ue(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,a=localStorage.length,o=1,s=0;s<a;s++){var c=localStorage.key(s);if(c.indexOf(r)===0){var l=localStorage.getItem(c);if(l&&=t.serializer.deserialize(l),l=e(l,c.substring(i),o++),l!==void 0)return l}}});return u(r,t),r}function We(e,t){var n=this,r=n.ready().then(function(){var t=n._dbInfo,r;try{r=localStorage.key(e)}catch{r=null}return r&&=r.substring(t.keyPrefix.length),r});return u(r,t),r}function Ge(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var a=localStorage.key(i);a.indexOf(e.keyPrefix)===0&&r.push(a.substring(e.keyPrefix.length))}return r});return u(n,e),n}function Ke(e){var t=this.keys().then(function(e){return e.length});return u(t,e),t}function qe(e,t){var n=this;e=f(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return u(r,t),r}function Je(e,t,n){var r=this;e=f(e);var i=r.ready().then(function(){t===void 0&&(t=null);var n=t;return new l(function(i,a){var o=r._dbInfo;o.serializer.serialize(t,function(t,r){if(r)a(r);else try{localStorage.setItem(o.keyPrefix+e,t),i(n)}catch(e){(e.name===`QuotaExceededError`||e.name===`NS_ERROR_DOM_QUOTA_REACHED`)&&a(e),a(e)}})})});return u(i,n),i}function Ye(e,t){if(t=p.apply(this,arguments),e=typeof e!=`function`&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r=this,i=e.name?new l(function(t){e.storeName?t(Le(e,r._defaultConfig)):t(e.name+`/`)}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);n.indexOf(e)===0&&localStorage.removeItem(n)}}):l.reject(`Invalid arguments`);return u(i,t),i}var Xe={_driver:`localStorageWrapper`,_initStorage:Be,_support:Ie(),iterate:Ue,getItem:He,setItem:Je,removeItem:qe,clear:Ve,length:Ke,key:We,keys:Ge,dropInstance:Ye},Ze=function(e,t){return e===t||typeof e==`number`&&typeof t==`number`&&isNaN(e)&&isNaN(t)},Qe=function(e,t){for(var n=e.length,r=0;r<n;){if(Ze(e[r],t))return!0;r++}return!1},$e=Array.isArray||function(e){return Object.prototype.toString.call(e)===`[object Array]`},et={},tt={},nt={INDEXEDDB:oe,WEBSQL:Fe,LOCALSTORAGE:Xe},rt=[nt.INDEXEDDB._driver,nt.WEBSQL._driver,nt.LOCALSTORAGE._driver],it=[`dropInstance`],at=[`clear`,`getItem`,`iterate`,`key`,`keys`,`length`,`removeItem`,`setItem`].concat(it),ot={description:``,driver:rt.slice(),name:`localforage`,size:4980736,storeName:`keyvaluepairs`,version:1};function st(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function ct(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&($e(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}t.exports=new(function(){function e(t){for(var n in i(this,e),nt)if(nt.hasOwnProperty(n)){var r=nt[n],a=r._driver;this[n]=a,et[a]||this.defineDriver(r)}this._defaultConfig=ct({},ot),this._config=ct({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if((e===void 0?`undefined`:r(e))===`object`){if(this._ready)return Error(`Can't call config() after localforage has been used.`);for(var t in e){if(t===`storeName`&&(e[t]=e[t].replace(/\W/g,`_`)),t===`version`&&typeof e[t]!=`number`)return Error(`Database version must be a number.`);this._config[t]=e[t]}return`driver`in e&&e.driver?this.setDriver(this._config.driver):!0}else if(typeof e==`string`)return this._config[e];else return this._config},e.prototype.defineDriver=function(e,t,n){var r=new l(function(t,n){try{var r=e._driver,i=Error(`Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver`);if(!e._driver){n(i);return}for(var a=at.concat(`_initStorage`),o=0,s=a.length;o<s;o++){var c=a[o];if((!Qe(it,c)||e[c])&&typeof e[c]!=`function`){n(i);return}}(function(){for(var t=function(e){return function(){var t=Error(`Method `+e+` is not implemented by the current driver`),n=l.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,r=it.length;n<r;n++){var i=it[n];e[i]||(e[i]=t(i))}})();var d=function(n){et[r]&&console.info(`Redefining LocalForage driver: `+r),et[r]=e,tt[r]=n,t()};`_support`in e?e._support&&typeof e._support==`function`?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}});return d(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=et[e]?l.resolve(et[e]):l.reject(Error(`Driver not found.`));return d(r,t,n),r},e.prototype.getSerializer=function(e){var t=l.resolve(X);return d(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return t._ready===null&&(t._ready=t._initDriver()),t._ready});return d(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;$e(e)||(e=[e]);var i=this._getSupportedDrivers(e);function a(){r._config.driver=r.driver()}function o(e){return r._extend(e),a(),r._ready=r._initStorage(r._config),r._ready}function s(e){return function(){var t=0;function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(o).catch(n)}a();var s=Error(`No available storage method found.`);return r._driverSet=l.reject(s),r._driverSet}return n()}}return this._driverSet=(this._driverSet===null?l.resolve():this._driverSet.catch(function(){return l.resolve()})).then(function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,a(),r._wrapLibraryMethodsWithReady(),r._initDriver=s(i)})}).catch(function(){a();var e=Error(`No available storage method found.`);return r._driverSet=l.reject(e),r._driverSet}),d(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!tt[e]},e.prototype._extend=function(e){ct(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=at.length;e<t;e++)st(this,at[e])},e.prototype.createInstance=function(t){return new e(t)},e}())},{3:3}]},{},[4])(4)})})),Yd=l(ul()),Xd=l(Jd()),Zd=class{constructor(e,t,n){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||Tu,this.resolver=n,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;Xd.default===void 0&&(e=Xd.default),this.storage=e.createInstance({name:this.name})}catch{throw Error(`localForage lib not loaded`)}}addListeners(){this._status=this.status.bind(this),window.addEventListener(`online`,this._status),window.addEventListener(`offline`,this._status)}removeListeners(){window.removeEventListener(`online`,this._status),window.removeEventListener(`offline`,this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit(`online`,this):this.emit(`offline`,this)}add(e,t){let n=e.resources.map(e=>{let{href:n}=e,r=this.resolver(n),i=window.encodeURIComponent(r);return this.storage.getItem(i).then(e=>!e||t?this.requester(r,`binary`).then(e=>this.storage.setItem(i,e)):e)});return Promise.all(n)}put(e,t,n){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(i=>i||this.requester(e,`binary`,t,n).then(e=>this.storage.setItem(r,e)))}request(e,t,n,r){return this.online?this.requester(e,t,n,r).then(t=>(this.put(e),t)):this.retrieve(e,t)}retrieve(e,t){new nu;var n,r=new du(e);return t||=r.extension,n=t==`blob`?this.getBlob(e):this.getText(e),n.then(n=>{var r=new nu,i;return n?(i=this.handleResponse(n,t),r.resolve(i)):r.reject({message:`File not found in storage: `+e,stack:Error().stack}),r.promise})}handleResponse(e,t){return t==`json`?JSON.parse(e):Hl(t)?Jl(e,`text/xml`):t==`xhtml`?Jl(e,`application/xhtml+xml`):t==`html`||t==`htm`?Jl(e,`text/html`):e}getBlob(e,t){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then(function(n){if(n)return t||=Vu.lookup(e),new Blob([n],{type:t})})}getText(e,t){let n=window.encodeURIComponent(e);return t||=Vu.lookup(e),this.storage.getItem(n).then(function(e){var n=new nu,r=new FileReader,i;if(e)return i=new Blob([e],{type:t}),r.addEventListener(`loadend`,()=>{n.resolve(r.result)}),r.readAsText(i,t),n.promise})}getBase64(e,t){let n=window.encodeURIComponent(e);return t||=Vu.lookup(e),this.storage.getItem(n).then(e=>{var n=new nu,r=new FileReader,i;if(e)return i=new Blob([e],{type:t}),r.addEventListener(`loadend`,()=>{n.resolve(r.result)}),r.readAsDataURL(i,t),n.promise})}createUrl(e,t){var n=new nu,r=window.URL||window.webkitURL||window.mozURL,i,a,o=t&&t.base64;return e in this.urlCache?(n.resolve(this.urlCache[e]),n.promise):(o?(a=this.getBase64(e),a&&a.then(function(t){this.urlCache[e]=t,n.resolve(t)}.bind(this))):(a=this.getBlob(e),a&&a.then(function(t){i=r.createObjectURL(t),this.urlCache[e]=i,n.resolve(i)}.bind(this))),a||n.reject({message:`File not found in storage: `+e,stack:Error().stack}),n.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&t.revokeObjectURL(n)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}};(0,Yd.default)(Zd.prototype);var Qd=Zd,$d=class{constructor(e){this.interactive=``,this.fixedLayout=``,this.openToSpread=``,this.orientationLock=``,e&&this.parse(e)}parse(e){if(!e)return this;let t=Yl(e,`display_options`);return t&&Xl(t,`option`).forEach(e=>{let t=``;switch(e.childNodes.length&&(t=e.childNodes[0].nodeValue),e.attributes.name.value){case`interactive`:this.interactive=t;break;case`fixed-layout`:this.fixedLayout=t;break;case`open-to-spread`:this.openToSpread=t;break;case`orientation-lock`:this.orientationLock=t;break}}),this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}},ef=l(ul()),tf=`META-INF/container.xml`,nf=`META-INF/com.apple.ibooks.display-options.xml`,rf={BINARY:`binary`,BASE64:`base64`,EPUB:`epub`,OPF:`opf`,MANIFEST:`json`,DIRECTORY:`directory`},af=class{constructor(e,t){t===void 0&&typeof e!=`string`&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(t=e,e=void 0),this.settings=jl(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),jl(this.settings,t),this.opening=new nu,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new nu,spine:new nu,metadata:new nu,cover:new nu,navigation:new nu,pageList:new nu,resources:new nu,displayOptions:new nu},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Tu,this.spine=new Ou,this.locations=new Mu(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(t=>{var n=Error(`Cannot load book at `+e);this.emit(Q.BOOK.OPEN_FAILED,n)})}open(e,t){var n,r=t||this.determineType(e);return r===rf.BINARY?(this.archived=!0,this.url=new pu(`/`,``),n=this.openEpub(e)):r===rf.BASE64?(this.archived=!0,this.url=new pu(`/`,``),n=this.openEpub(e,r)):r===rf.EPUB?(this.archived=!0,this.url=new pu(`/`,``),n=this.request(e,`binary`,this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):r==rf.OPF?(this.url=new pu(e),n=this.openPackaging(this.url.Path.toString())):r==rf.MANIFEST?(this.url=new pu(e),n=this.openManifest(this.url.Path.toString())):(this.url=new pu(e),n=this.openContainer(tf).then(this.openPackaging.bind(this))),n}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then(()=>this.openContainer(tf)).then(e=>this.openPackaging(e))}openContainer(e){return this.load(e).then(e=>(this.container=new Pu(e),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new du(e),this.load(e).then(e=>(this.packaging=new Fu(e),this.unpack(this.packaging)))}openManifest(e){return this.path=new du(e),this.load(e).then(e=>(this.packaging=new Fu,this.packaging.load(e),this.unpack(this.packaging)))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(e){var n=e;return e.indexOf(`://`)>-1?e:(this.path&&(n=this.path.resolve(e)),t!=0&&this.url&&(n=this.url.resolve(n)),n)}}canonical(e){var t=e;return e?(t=this.settings.canonical?this.settings.canonical(e):this.resolve(e,!0),t):``}determineType(e){var t,n,r;if(this.settings.encoding===`base64`)return rf.BASE64;if(typeof e!=`string`)return rf.BINARY;if(t=new pu(e),n=t.path(),r=n.extension,r&&=r.replace(/\?.*$/,``),!r)return rf.DIRECTORY;if(r===`epub`)return rf.EPUB;if(r===`opf`)return rf.OPF;if(r===`json`)return rf.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===``?this.load(this.url.resolve(nf)).then(e=>{this.displayOptions=new $d(e),this.loading.displayOptions.resolve(this.displayOptions)}).catch(e=>{this.displayOptions=new $d,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new $d,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new Uu(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?`blobUrl`:`base64`)}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!=`none`?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(e=>{console.error(e)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let t=e.navPath||e.ncxPath,n=e.toc;return n?new Promise((t,r)=>{this.navigation=new Iu(n),e.pageList&&(this.pageList=new Wu(e.pageList)),t(this.navigation)}):t?this.load(t,`xml`).then(e=>(this.navigation=new Iu(e),this.pageList=new Wu(e),this.navigation)):new Promise((e,t)=>{this.navigation=new Iu,this.pageList=new Wu,e(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new Gd(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new qd,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&this.settings.replacements!==`none`,n=this.url;return this.storage=new Qd(e,this.settings.requestMethod||Tu.bind(this),this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let e=(e,t)=>{t.output=this.resources.substitute(e,t.url)};this.resources.settings.replacements=t||`blobUrl`,this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on(`offline`,()=>{this.url=new pu(`/`,``),this.spine.hooks.serialize.register(e)}),this.storage.on(`online`,()=>{this.url=n,this.spine.hooks.serialize.deregister(e)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,t)=>{t.output=this.resources.substitute(e,t.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var t=new _u(e),n=this.spine.get(t.spinePos),r=this.load.bind(this);return n?n.load(r).then(function(e){return t.toRange(n.document)}):new Promise((e,t)=>{t(`CFI could not be found`)})}key(e){return`epubjs:0.3:${e||this.packaging.metadata.identifier||this.url.filename}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}};(0,ef.default)(af.prototype);var of=af;function sf(e,t){return new of(e,t)}sf.VERSION=`0.3`,typeof global<`u`&&(global.EPUBJS_VERSION=`0.3`),sf.Book=of,sf.Rendition=Gd,sf.Contents=nd,sf.CFI=_u,sf.utils=vl;var cf=sf,lf={class:`card bg-base-100 shadow-xl w-full sm:max-w-xl max-h-[80vh] overflow-auto`},uf={class:`card-body`},df={class:`flex items-center justify-between gap-3`},ff={class:`font-semibold truncate`},pf=Pn({__name:`Modal`,props:{open:{type:Boolean},title:{}},emits:[`close`],setup(e){return(t,n)=>e.open?(Ii(),Vi(`div`,{key:0,class:`fixed inset-0 z-50 bg-black/40 flex items-end sm:items-center justify-center p-3`,onClick:n[1]||=Do(e=>t.$emit(`close`),[`self`])},[Z(`div`,lf,[Z(`div`,uf,[Z(`div`,df,[Z(`div`,ff,q(e.title),1),Z(`button`,{class:`btn btn-ghost btn-sm`,onClick:n[0]||=e=>t.$emit(`close`)},`Close`)]),n[2]||=Z(`div`,{class:`divider my-2`},null,-1),lr(t.$slots,`default`)])])])):Qi(``,!0)}});function mf(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function hf(e,t){let n,r=()=>{if(n)return n;let r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=mf(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n};return(e,n)=>r().then(r=>n(r.transaction(t,e).objectStore(t)))}var gf;function _f(){return gf||=hf(`keyval-store`,`keyval`),gf}function vf(e,t=_f()){return t(`readonly`,t=>mf(t.get(e)))}function yf(e,t,n=_f()){return n(`readwrite`,n=>(n.put(t,e),mf(n.transaction)))}function bf(e,t=_f()){return t(`readwrite`,t=>(t.delete(e),mf(t.transaction)))}var xf={meta:`meta:v1`,books:`books:v1`,bookFile:e=>`bf:${e}`,prefs:e=>`prefs:${e}`,sessions:e=>`sess:${e}`,search:e=>`search:${e}`};const Sf={bg:`#ffffff`,fg:`#111827`,font:`ui-serif, Georgia, "Times New Roman", Times, serif`,fontSizePct:110,lineHeight:1.55,marginEm:1.2,studyMode:!1,textAlign:`justify`,noterefColor:`#2563eb`,noterefUnderline:!0};async function Cf(){return!!(await vf(xf.meta)??{}).onboarded}async function wf(){let e=await vf(xf.meta)??{};e.onboarded=!0,await yf(xf.meta,e)}async function Tf(){return await vf(xf.books)??[]}async function Ef(e){let t=e.map(e=>({...e}));await yf(xf.books,t)}async function Df(e,t){await yf(xf.bookFile(e),t)}async function Of(e){return await vf(xf.bookFile(e))??null}async function kf(e){await Ef((await Tf()).filter(t=>t.id!==e)),await bf(xf.bookFile(e)),await bf(xf.prefs(e)),await bf(xf.sessions(e)),await bf(xf.search(e))}async function Af(e){let t=await vf(xf.prefs(e));return{...Sf,...t??{}}}async function jf(e,t){let n={...t};await yf(xf.prefs(e),n)}async function Mf(e){return await vf(xf.search(e))??null}async function Nf(e,t){await yf(xf.search(e),t)}function Pf(e){let t=e.classList.contains(`noteref`)||e.classList.contains(`footnote-ref`)||e.classList.contains(`footnoteRef`)||e.classList.contains(`endnote`)||e.classList.contains(`endnote-ref`),n=e.getAttribute(`role`)===`doc-noteref`,r=(e.getAttribute(`epub:type`)||``).split(/\s+/).includes(`noteref`),i=(e.getAttribute(`rel`)||``).split(/\s+/).includes(`footnote`),a=e.getAttribute(`href`)||``,o=a.includes(`#`)&&/#(fn[-_]?|footnote|note|endnote)/i.test(a);return t||n||r||i||o}async function Ff(e){let t=e.trim();if(!t)return null;try{let e=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${encodeURIComponent(t)}`);if(!e.ok)return null;let n=await e.json(),r=[];for(let e of n||[])for(let t of e.meanings||[])for(let e of t.definitions||[])e.definition&&r.push(e.definition);return r.length?r.slice(0,6).join(`
`):null}catch{return null}}function If(e,t,n){return(e||``).trim().replace(/\s+/g,` `).toLowerCase()===`the quran`?`quran`:`default`}function Lf(e,t){if(e===`quran`){let e=t.author?`Translated by ${t.author}`:`Translation`,n=t.verseHint?`(${t.verseHint})`:t.chapter?`(${t.chapter})`:``;return`${e}. ${t.title} ${n}`.trim()}let n=t.author?`${t.author}. `:``,r=t.chapter?` ${t.chapter}.`:``;return`${n}${t.title}.${r}`.replace(/\s+/g,` `).trim()}function Rf(e){let t=e.match(/^\s*(\d{1,3}\s*[:.]\s*\d{1,3})\b/)?.[1];if(t)return t.replace(/\s+/g,``);let n=e.match(/^\s*(\d{1,4})\b/)?.[1];if(n)return n}function zf(e){let t=Rf(e.selectedText),n=Lf(e.profile,{title:e.title,author:e.author,chapter:e.chapter,verseHint:t});return`"${e.selectedText.trim()}"\n\n ${n}`}var Bf=`modulepreload`,Vf=function(e){return`/erap/`+e},Hf={};const Uf=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=Vf(t,n),t in Hf)return;Hf[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:Bf,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var Wf=o(((e,t)=>{t.exports={}})),$;function Gf(e,t,n){let r=typeof n,i=typeof e;if(r!==`undefined`){if(i!==`undefined`){if(n){if(i===`function`&&r===i)return function(t){return e(n(t))};if(t=e.constructor,t===n.constructor){if(t===Array)return n.concat(e);if(t===Map){var a=new Map(n);for(var o of e)a.set(o[0],o[1]);return a}if(t===Set){o=new Set(n);for(a of e.values())o.add(a);return o}}}return e}return n}return i===`undefined`?t:e}function Kf(e,t){return e===void 0?t:e}function qf(){return Object.create(null)}function Jf(e){return typeof e==`string`}function Yf(e){return typeof e==`object`}function Xf(e,t){if(Jf(t))e=e[t];else for(let n=0;e&&n<t.length;n++)e=e[t[n]];return e}var Zf=/[^\p{L}\p{N}]+/u,Qf=/(\d{3})/g,$f=/(\D)(\d{3})/g,ep=/(\d{3})(\D)/g,tp=/[\u0300-\u036f]/g;function np(e={}){if(!this||this.constructor!==np)return new np(...arguments);if(arguments.length)for(e=0;e<arguments.length;e++)this.assign(arguments[e]);else this.assign(e)}$=np.prototype,$.assign=function(e){this.normalize=Gf(e.normalize,!0,this.normalize);let t=e.include,n=t||e.exclude||e.split,r;if(n||n===``){if(typeof n==`object`&&n.constructor!==RegExp){let e=``;r=!t,t||(e+=`\\p{Z}`),n.letter&&(e+=`\\p{L}`),n.number&&(e+=`\\p{N}`,r=!!t),n.symbol&&(e+=`\\p{S}`),n.punctuation&&(e+=`\\p{P}`),n.control&&(e+=`\\p{C}`),(n=n.char)&&(e+=typeof n==`object`?n.join(``):n);try{this.split=RegExp(`[`+(t?`^`:``)+e+`]+`,`u`)}catch{this.split=/\s+/}}else this.split=n,r=n===!1||`a1a`.split(n).length<2;this.numeric=Gf(e.numeric,r)}else{try{this.split=Gf(this.split,Zf)}catch{this.split=/\s+/}this.numeric=Gf(e.numeric,Gf(this.numeric,!0))}if(this.prepare=Gf(e.prepare,null,this.prepare),this.finalize=Gf(e.finalize,null,this.finalize),n=e.filter,this.filter=typeof n==`function`?n:Gf(n&&new Set(n),null,this.filter),this.dedupe=Gf(e.dedupe,!0,this.dedupe),this.matcher=Gf((n=e.matcher)&&new Map(n),null,this.matcher),this.mapper=Gf((n=e.mapper)&&new Map(n),null,this.mapper),this.stemmer=Gf((n=e.stemmer)&&new Map(n),null,this.stemmer),this.replacer=Gf(e.replacer,null,this.replacer),this.minlength=Gf(e.minlength,1,this.minlength),this.maxlength=Gf(e.maxlength,1024,this.maxlength),this.rtl=Gf(e.rtl,!1,this.rtl),(this.cache=n=Gf(e.cache,!0,this.cache))&&(this.F=null,this.L=typeof n==`number`?n:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h=``,this.J=null,this.A=``,this.K=null,this.matcher)for(let e of this.matcher.keys())this.h+=(this.h?`|`:``)+e;if(this.stemmer)for(let e of this.stemmer.keys())this.A+=(this.A?`|`:``)+e;return this},$.addStemmer=function(e,t){return this.stemmer||=new Map,this.stemmer.set(e,t),this.A+=(this.A?`|`:``)+e,this.K=null,this.cache&&rp(this),this},$.addFilter=function(e){return typeof e==`function`?this.filter=e:(this.filter||=new Set,this.filter.add(e)),this.cache&&rp(this),this},$.addMapper=function(e,t){return typeof e==`object`?this.addReplacer(e,t):e.length>1?this.addMatcher(e,t):(this.mapper||=new Map,this.mapper.set(e,t),this.cache&&rp(this),this)},$.addMatcher=function(e,t){return typeof e==`object`?this.addReplacer(e,t):e.length<2&&(this.dedupe||this.mapper)?this.addMapper(e,t):(this.matcher||=new Map,this.matcher.set(e,t),this.h+=(this.h?`|`:``)+e,this.J=null,this.cache&&rp(this),this)},$.addReplacer=function(e,t){return typeof e==`string`?this.addMatcher(e,t):(this.replacer||=[],this.replacer.push(e,t),this.cache&&rp(this),this)},$.encode=function(e,t){if(this.cache&&e.length<=this.H)if(this.F){if(this.B.has(e))return this.B.get(e)}else this.F=setTimeout(rp,50,this);this.normalize&&(e=typeof this.normalize==`function`?this.normalize(e):tp?e.normalize(`NFKD`).replace(tp,``).toLowerCase():e.toLowerCase()),this.prepare&&(e=this.prepare(e)),this.numeric&&e.length>3&&(e=e.replace($f,`$1 $2`).replace(ep,`$1 $2`).replace(Qf,`$1 `));let n=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer),r=[],i=qf(),a,o,s=this.split||this.split===``?e.split(this.split):[e];for(let e=0,l,u;e<s.length;e++)if((l=u=s[e])&&!(l.length<this.minlength||l.length>this.maxlength)){if(t){if(i[l])continue;i[l]=1}else{if(a===l)continue;a=l}if(n)r.push(l);else if(!this.filter||(typeof this.filter==`function`?this.filter(l):!this.filter.has(l))){if(this.cache&&l.length<=this.I)if(this.F){var c=this.D.get(l);if(c||c===``){c&&r.push(c);continue}}else this.F=setTimeout(rp,50,this);if(this.stemmer){this.K||=RegExp(`(?!^)(`+this.A+`)$`);let e;for(;e!==l&&l.length>2;)e=l,l=l.replace(this.K,e=>this.stemmer.get(e))}if(l&&(this.mapper||this.dedupe&&l.length>1)){c=``;for(let e=0,t=``,n,r;e<l.length;e++)n=l.charAt(e),n===t&&this.dedupe||((r=this.mapper&&this.mapper.get(n))||r===``?r===t&&this.dedupe||!(t=r)||(c+=r):c+=t=n);l=c}if(this.matcher&&l.length>1&&(this.J||=RegExp(`(`+this.h+`)`,`g`),l=l.replace(this.J,e=>this.matcher.get(e))),l&&this.replacer)for(c=0;l&&c<this.replacer.length;c+=2)l=l.replace(this.replacer[c],this.replacer[c+1]);if(this.cache&&u.length<=this.I&&(this.D.set(u,l),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),l){if(l!==u)if(t){if(i[l])continue;i[l]=1}else{if(o===l)continue;o=l}r.push(l)}}}return this.finalize&&(r=this.finalize(r)||r),this.cache&&e.length<=this.H&&(this.B.set(e,r),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),r};function rp(e){e.F=null,e.B.clear(),e.D.clear()}function ip(e,t,n){n||(t||typeof e!=`object`?typeof t==`object`&&(n=t,t=0):n=e),n&&(e=n.query||e,t=n.limit||t);let r=``+(t||0);n&&(r+=(n.offset||0)+!!n.context+!!n.suggest+(n.resolve!==!1)+(n.resolution||this.resolution)+(n.boost||0)),e=(``+e).toLowerCase(),this.cache||=new ap;let i=this.cache.get(e+r);if(!i){let a=n&&n.cache;a&&(n.cache=!1),i=this.search(e,t,n),a&&(n.cache=a),this.cache.set(e+r,i)}return i}function ap(e){this.limit=e&&e!==!0?e:1e3,this.cache=new Map,this.h=``}ap.prototype.set=function(e,t){this.cache.set(this.h=e,t),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)},ap.prototype.get=function(e){let t=this.cache.get(e);return t&&this.h!==e&&(this.cache.delete(e),this.cache.set(this.h=e,t)),t},ap.prototype.remove=function(e){for(let t of this.cache){let n=t[0];t[1].includes(e)&&this.cache.delete(n)}},ap.prototype.clear=function(){this.cache.clear(),this.h=``};var op={normalize:!1,numeric:!1,dedupe:!1},sp={},cp=new Map([[`b`,`p`],[`v`,`f`],[`w`,`f`],[`z`,`s`],[`x`,`s`],[`d`,`t`],[`n`,`m`],[`c`,`k`],[`g`,`k`],[`j`,`k`],[`q`,`k`],[`i`,`e`],[`y`,`e`],[`u`,`o`]]),lp=new Map([[`ae`,`a`],[`oe`,`o`],[`sh`,`s`],[`kh`,`k`],[`th`,`t`],[`ph`,`f`],[`pf`,`f`]]),up=[/([^aeo])h(.)/g,`$1$2`,/([aeo])h([^aeo]|$)/g,`$1$2`,/(.)\1+/g,`$1`],dp={a:``,e:``,i:``,o:``,u:``,y:``,b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,:2,d:3,t:3,l:4,m:5,n:5,r:6},fp={Exact:op,Default:sp,Normalize:sp,LatinBalance:{mapper:cp},LatinAdvanced:{mapper:cp,matcher:lp,replacer:up},LatinExtra:{mapper:cp,replacer:up.concat([/(?!^)[aeo]/g,``]),matcher:lp},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(e){for(let n=0;n<e.length;n++){var t=e[n];let r=t.charAt(0),i=dp[r];for(let e=1,n;e<t.length&&(n=t.charAt(e),n===`h`||n===`w`||!(n=dp[n])||n===i||(r+=n,i=n,r.length!==4));e++);e[n]=r}}},CJK:{split:``},LatinExact:op,LatinDefault:sp,LatinSimple:sp};function pp(e,t,n,r){let i=[];for(let a=0,o;a<e.index.length;a++)if(o=e.index[a],t>=o.length)t-=o.length;else{t=o[r?`splice`:`slice`](t,n);let a=t.length;if(a&&(i=i.length?i.concat(t):t,n-=a,r&&(e.length-=a),!n))break;t=0}return i}function mp(e){if(!this||this.constructor!==mp)return new mp(e);this.index=e?[e]:[],this.length=e?e.length:0;let t=this;return new Proxy([],{get(e,n){if(n===`length`)return t.length;if(n===`push`)return function(e){t.index[t.index.length-1].push(e),t.length++};if(n===`pop`)return function(){if(t.length)return t.length--,t.index[t.index.length-1].pop()};if(n===`indexOf`)return function(e){let n=0;for(let r=0,i,a;r<t.index.length;r++){if(i=t.index[r],a=i.indexOf(e),a>=0)return n+a;n+=i.length}return-1};if(n===`includes`)return function(e){for(let n=0;n<t.index.length;n++)if(t.index[n].includes(e))return!0;return!1};if(n===`slice`)return function(e,n){return pp(t,e||0,n||t.length,!1)};if(n===`splice`)return function(e,n){return pp(t,e||0,n||t.length,!0)};if(n===`constructor`)return Array;if(typeof n!=`symbol`)return(e=t.index[n/2**31|0])&&e[n]},set(e,n,r){return e=n/2**31|0,(t.index[e]||(t.index[e]=[]))[n]=r,t.length++,!0}})}mp.prototype.clear=function(){this.index.length=0},mp.prototype.push=function(){};function hp(e=8){if(!this||this.constructor!==hp)return new hp(e);this.index=qf(),this.h=[],this.size=0,e>32?(this.B=vp,this.A=BigInt(e)):(this.B=_p,this.A=e)}hp.prototype.get=function(e){let t=this.index[this.B(e)];return t&&t.get(e)},hp.prototype.set=function(e,t){var n=this.B(e);let r=this.index[n];r?(n=r.size,r.set(e,t),(n-=r.size)&&this.size++):(this.index[n]=r=new Map([[e,t]]),this.h.push(r),this.size++)};function gp(e=8){if(!this||this.constructor!==gp)return new gp(e);this.index=qf(),this.h=[],this.size=0,e>32?(this.B=vp,this.A=BigInt(e)):(this.B=_p,this.A=e)}gp.prototype.add=function(e){var t=this.B(e);let n=this.index[t];n?(t=n.size,n.add(e),(t-=n.size)&&this.size++):(this.index[t]=n=new Set([e]),this.h.push(n),this.size++)},$=hp.prototype,$.has=gp.prototype.has=function(e){let t=this.index[this.B(e)];return t&&t.has(e)},$.delete=gp.prototype.delete=function(e){let t=this.index[this.B(e)];t&&t.delete(e)&&this.size--},$.clear=gp.prototype.clear=function(){this.index=qf(),this.h=[],this.size=0},$.values=gp.prototype.values=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].values())yield t},$.keys=gp.prototype.keys=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].keys())yield t},$.entries=gp.prototype.entries=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].entries())yield t};function _p(e){let t=2**this.A-1;if(typeof e==`number`)return e&t;let n=0,r=this.A+1;for(let i=0;i<e.length;i++)n=(n*r^e.charCodeAt(i))&t;return this.A===32?n+2**31:n}function vp(e){let t=BigInt(2)**this.A-BigInt(1);var n=typeof e;if(n===`bigint`)return e&t;if(n===`number`)return BigInt(e)&t;n=BigInt(0);let r=this.A+BigInt(1);for(let i=0;i<e.length;i++)n=(n*r^BigInt(e.charCodeAt(i)))&t;return n}var yp,bp;async function xp(e){e=e.data;var t=e.task;let n=e.id,r=e.args;switch(t){case`init`:bp=e.options||{},(t=e.factory)?(Function(`return `+t)()(self),yp=new self.FlexSearch.Index(bp),delete self.FlexSearch):yp=new _m(bp),postMessage({id:n});break;default:let i;t===`export`&&(r[1]?(r[0]=bp.export,r[2]=0,r[3]=1):r=null),t===`import`?r[0]&&(e=await bp.import.call(yp,r[0]),yp.import(r[0],e)):((i=r&&yp[t].apply(yp,r))&&i.then&&(i=await i),i&&i.await&&(i=await i.await),t===`search`&&i.result&&(i=i.result)),postMessage(t===`search`?{id:n,msg:i}:{id:n})}}function Sp(e){Dp.call(e,`add`),Dp.call(e,`append`),Dp.call(e,`search`),Dp.call(e,`update`),Dp.call(e,`remove`),Dp.call(e,`searchCache`)}var Cp,wp,Tp;function Ep(){Cp=Tp=0}function Dp(e){this[e+`Async`]=function(){let t=arguments;var n=t[t.length-1];let r;if(typeof n==`function`&&(r=n,delete t[t.length-1]),Cp?Tp||=Date.now()-wp>=this.priority*this.priority*3:(Cp=setTimeout(Ep,0),wp=Date.now()),Tp){let n=this;return new Promise(r=>{setTimeout(function(){r(n[e+`Async`].apply(n,t))},0)})}let i=this[e].apply(this,t);return n=i.then?i:new Promise(e=>e(i)),r&&n.then(r),n}}var Op=0;function kp(e={},t){function n(n){function o(e){e=e.data||e;let t=e.id,n=t&&a.h[t];n&&(n(e.msg),delete a.h[t])}if(this.worker=n,this.h=qf(),this.worker)return i?this.worker.on(`message`,o):this.worker.onmessage=o,e.config?new Promise(function(t){Op>1e9&&(Op=0),a.h[++Op]=function(){t(a)},a.worker.postMessage({id:Op,task:`init`,factory:r,options:e})}):(this.priority=e.priority||4,this.encoder=t||null,this.worker.postMessage({task:`init`,factory:r,options:e}),this)}if(!this||this.constructor!==kp)return new kp(e);let r=typeof self<`u`?self._factory:typeof window<`u`?window._factory:null;r&&=r.toString();let i=typeof window>`u`,a=this,o=jp(r,i,e.worker);return o.then?o.then(function(e){return n.call(a,e)}):n.call(this,o)}Ap(`add`),Ap(`append`),Ap(`search`),Ap(`update`),Ap(`remove`),Ap(`clear`),Ap(`export`),Ap(`import`),kp.prototype.searchCache=ip,Sp(kp.prototype);function Ap(e){kp.prototype[e]=function(){let t=this,n=[].slice.call(arguments);var r=n[n.length-1];let i;return typeof r==`function`&&(i=r,n.pop()),r=new Promise(function(r){e===`export`&&typeof n[0]==`function`&&(n[0]=null),Op>1e9&&(Op=0),t.h[++Op]=r,t.worker.postMessage({task:e,id:Op,args:n})}),i?(r.then(i),this):r}}function jp(e,t,n){return t?typeof module<`u`?new(Wf()).Worker(__dirname+`/worker/node.js`):Uf(()=>import(`./__vite-browser-external-DPgI7NCN.js`).then(u(1)),[]).then(function(e){return new e.Worker(import.meta.dirname+`/node/node.mjs`)}):e?new window.Worker(URL.createObjectURL(new Blob([`onmessage=`+xp.toString()],{type:`text/javascript`}))):new window.Worker(typeof n==`string`?n:import.meta.url.replace(`/worker.js`,`/worker/worker.js`).replace(`flexsearch.bundle.module.min.js`,`module/worker/worker.js`).replace(`flexsearch.bundle.module.min.mjs`,`module/worker/worker.js`),{type:`module`})}Xp.prototype.add=function(e,t,n){if(Yf(e)&&(t=e,e=Xf(t,this.key)),t&&(e||e===0)){if(!n&&this.reg.has(e))return this.update(e,t);for(let a=0,o;a<this.field.length;a++){o=this.B[a];var r=this.index.get(this.field[a]);if(typeof o==`function`){var i=o(t);i&&r.add(e,i,n,!0)}else i=o.G,(!i||i(t))&&(o.constructor===String?o=[``+o]:Jf(o)&&(o=[o]),Np(t,o,this.D,0,r,e,o[0],n))}if(this.tag)for(r=0;r<this.A.length;r++){var a=this.A[r];i=this.tag.get(this.F[r]);let s=qf();if(typeof a==`function`){if(a=a(t),!a)continue}else{var o=a.G;if(o&&!o(t))continue;a.constructor===String&&(a=``+a),a=Xf(t,a)}if(i&&a){Jf(a)&&(a=[a]);for(let t=0,r,c;t<a.length;t++)if(r=a[t],!s[r]&&(s[r]=1,(o=i.get(r))?c=o:i.set(r,c=[]),!n||!c.includes(e))){if(c.length===2**31-1){if(o=new mp(c),this.fastupdate)for(let e of this.reg.values())e.includes(c)&&(e[e.indexOf(c)]=o);i.set(r,c=o)}c.push(e),this.fastupdate&&((o=this.reg.get(e))?o.push(c):this.reg.set(e,[c]))}}}if(this.store&&(!n||!this.store.has(e))){let r;if(this.h){r=qf();for(let e=0,i;e<this.h.length;e++){if(i=this.h[e],(n=i.G)&&!n(t))continue;let a;if(typeof i==`function`){if(a=i(t),!a)continue;i=[i.O]}else if(Jf(i)||i.constructor===String){r[i]=t[i];continue}Mp(t,r,i,0,i[0],a)}}this.store.set(e,r||t)}this.worker&&(this.fastupdate||this.reg.add(e))}return this};function Mp(e,t,n,r,i,a){if(e=e[i],r===n.length-1)t[i]=a||e;else if(e)if(e.constructor===Array)for(t=t[i]=Array(e.length),i=0;i<e.length;i++)Mp(e,t,n,r,i);else t=t[i]||(t[i]=qf()),i=n[++r],Mp(e,t,n,r,i)}function Np(e,t,n,r,i,a,o,s){if(e=e[o])if(r===t.length-1){if(e.constructor===Array){if(n[r]){for(t=0;t<e.length;t++)i.add(a,e[t],!0,!0);return}e=e.join(` `)}i.add(a,e,s,!0)}else if(e.constructor===Array)for(o=0;o<e.length;o++)Np(e,t,n,r,i,a,o,s);else o=t[++r],Np(e,t,n,r,i,a,o,s)}function Pp(e,t,n,r){if(!e.length)return e;if(e.length===1)return e=e[0],e=n||e.length>t?e.slice(n,n+t):e,r?Yp.call(this,e):e;let i=[];for(let a=0,o,s;a<e.length;a++)if((o=e[a])&&(s=o.length)){if(n){if(n>=s){n-=s;continue}o=o.slice(n,n+t),s=o.length,n=0}if(s>t&&(o=o.slice(0,t),s=t),!i.length&&s>=t)return r?Yp.call(this,o):o;if(i.push(o),t-=s,!t)break}return i=i.length>1?[].concat.apply([],i):i[0],r?Yp.call(this,i):i}function Fp(e,t,n,r){var i=r[0];if(i[0]&&i[0].query)return e[t].apply(e,i);if(!(t!==`and`&&t!==`not`||e.result.length||e.await||i.suggest))return r.length>1&&(i=r[r.length-1]),(r=i.resolve)?e.await||e.result:e;let a=[],o=0,s=0,c,l,u,d,f;for(t=0;t<r.length;t++)if(i=r[t]){var p=void 0;if(i.constructor===Hp)p=i.await||i.result;else if(i.then||i.constructor===Array)p=i;else{o=i.limit||0,s=i.offset||0,u=i.suggest,l=i.resolve,c=((d=i.highlight||e.highlight)||i.enrich)&&l,p=i.queue;let n=i.async||p,r=i.index,m=i.query;if(r?e.index||=r:r=e.index,m||i.tag){let o=i.field||i.pluck;if(o&&(!m||e.query&&!d||(e.query=m,e.field=o,e.highlight=d),r=r.index.get(o)),p&&(f||e.await)){f=1;let o,s=e.C.length,c=new Promise(function(e){o=e});(function(t,r){c.h=function(){r.index=null,r.resolve=!1;let i=n?t.searchAsync(r):t.search(r);return i.then?i.then(function(t){return e.C[s]=t=t.result||t,o(t),t}):(i=i.result||i,o(i),i)}})(r,Object.assign({},i)),e.C.push(c),a[t]=c;continue}else i.resolve=!1,i.index=null,p=n?r.searchAsync(i):r.search(i),i.resolve=l,i.index=r}else if(i.and)p=Ip(i,`and`,r);else if(i.or)p=Ip(i,`or`,r);else if(i.not)p=Ip(i,`not`,r);else if(i.xor)p=Ip(i,`xor`,r);else continue}p.await?(f=1,p=p.await):p.then?(f=1,p=p.then(function(e){return e.result||e})):p=p.result||p,a[t]=p}if(f&&!e.await&&(e.await=new Promise(function(t){e.return=t})),f){let t=Promise.all(a).then(function(r){for(let i=0;i<e.C.length;i++)if(e.C[i]===t){e.C[i]=function(){return n.call(e,r,o,s,c,l,u,d)};break}Up(e)});e.C.push(t)}else if(e.await)e.C.push(function(){return n.call(e,a,o,s,c,l,u,d)});else return n.call(e,a,o,s,c,l,u,d);return l?e.await||e.result:e}function Ip(e,t,n){e=e[t];let r=e[0]||e;return r.index||=n,n=new Hp(r),e.length>1&&(n=n[t].apply(n,e.slice(1))),n}Hp.prototype.or=function(){return Fp(this,`or`,Lp,arguments)};function Lp(e,t,n,r,i,a,o){return e.length&&(this.result.length&&e.push(this.result),e.length<2?this.result=e[0]:(this.result=Gp(e,t,n,!1,this.h),n=0)),i&&(this.await=null),i?this.resolve(t,n,r,o):this}Hp.prototype.and=function(){return Fp(this,`and`,Rp,arguments)};function Rp(e,t,n,r,i,a,o){if(!a&&!this.result.length)return i?this.result:this;let s;if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{let r=0;for(let t=0,n,i;t<e.length;t++)if((n=e[t])&&(i=n.length))r<i&&(r=i);else if(!a){r=0;break}r?(this.result=Wp(e,r,t,n,a,this.h,i),s=!0):this.result=[]}else a||(this.result=e);return i&&(this.await=null),i?this.resolve(t,n,r,o,s):this}Hp.prototype.xor=function(){return Fp(this,`xor`,zp,arguments)};function zp(e,t,n,r,i,a,o){if(e.length)if(this.result.length&&e.unshift(this.result),e.length<2)this.result=e[0];else{a:{a=n;var s=this.h;let r=[],o=qf(),c=0;for(let t=0,n;t<e.length;t++)if(n=e[t]){c<n.length&&(c=n.length);for(let e=0,t;e<n.length;e++)if(t=n[e])for(let e=0,n;e<t.length;e++)n=t[e],o[n]=o[n]?2:1}for(let n=0,l,u=0;n<c;n++)for(let c=0,d;c<e.length;c++)if((d=e[c])&&(l=d[n])){for(let d=0,f;d<l.length;d++)if(f=l[d],o[f]===1)if(a)a--;else if(i){if(r.push(f),r.length===t){e=r;break a}}else{let i=n+(c?s:0);if(r[i]||(r[i]=[]),r[i].push(f),++u===t){e=r;break a}}}e=r}this.result=e,s=!0}else a||(this.result=e);return i&&(this.await=null),i?this.resolve(t,n,r,o,s):this}Hp.prototype.not=function(){return Fp(this,`not`,Bp,arguments)};function Bp(e,t,n,r,i,a,o){if(!a&&!this.result.length)return i?this.result:this;if(e.length&&this.result.length){a:{a=n;var s=[];e=new Set(e.flat().flat());for(let n=0,r,o=0;n<this.result.length;n++)if(r=this.result[n]){for(let c=0,l;c<r.length;c++)if(l=r[c],!e.has(l)){if(a)a--;else if(i){if(s.push(l),s.length===t){e=s;break a}}else if(s[n]||(s[n]=[]),s[n].push(l),++o===t){e=s;break a}}}e=s}this.result=e,s=!0}return i&&(this.await=null),i?this.resolve(t,n,r,o,s):this}function Vp(e,t,n,r,i){let a,o,s;typeof i==`string`?(a=i,i=``):a=i.template,o=a.indexOf(`$1`),s=a.substring(o+2),o=a.substring(0,o);let c=i&&i.boundary,l=!i||i.clip!==!1,u=i&&i.merge&&s&&o&&RegExp(s+` `+o,`g`);i&&=i.ellipsis;var d=0;if(typeof i==`object`){var f=i.template;d=f.length-2,i=i.pattern}typeof i!=`string`&&(i=i===!1?``:`...`),d&&(i=f.replace(`$1`,i)),f=i.length-d;let p,m;typeof c==`object`&&(p=c.before,p===0&&(p=-1),m=c.after,m===0&&(m=-1),c=c.total||9e5),d=new Map;for(let N=0,P,F,I;N<t.length;N++){let ee;if(r)ee=t,I=r;else{var h=t[N];if(I=h.field,!I)continue;ee=h.result}F=n.get(I),P=F.encoder,h=d.get(P),typeof h!=`string`&&(h=P.encode(e),d.set(P,h));for(let e=0;e<ee.length;e++){var g=ee[e].doc;if(!g||(g=Xf(g,I),!g))continue;var _=g.trim().split(/\s+/);if(!_.length)continue;g=``;var v=[];let t=[];for(var y=-1,b=-1,x=0,S=0;S<_.length;S++){var C=_[S],w=P.encode(C);w=w.length>1?w.join(` `):w[0];let e;if(w&&C){for(var T=C.length,E=(P.split?C.replace(P.split,``):C).length-w.length,D=``,O=0,k=0;k<h.length;k++){var A=h[k];if(A){var j=A.length;j+=E<0?0:E,O&&j<=O||(A=w.indexOf(A),A>-1&&(D=(A?C.substring(0,A):``)+o+C.substring(A,A+j)+s+(A+j<T?C.substring(A+j):``),O=j,e=!0))}}D&&(c&&(y<0&&(y=g.length+(g?1:0)),b=g.length+(g?1:0)+D.length,x+=T,t.push(v.length),v.push({match:D})),g+=(g?` `:``)+D)}if(!e)C=_[S],g+=(g?` `:``)+C,c&&v.push({text:C});else if(c&&x>=c)break}if(x=t.length*(a.length-2),p||m||c&&g.length-x>c)if(x=c+x-f*2,S=b-y,p>0&&(S+=p),m>0&&(S+=m),S<=x)_=p?y-(p>0?p:0):y-((x-S)/2|0),v=m?b+(m>0?m:0):_+x,l||(_>0&&g.charAt(_)!==` `&&g.charAt(_-1)!==` `&&(_=g.indexOf(` `,_),_<0&&(_=0)),v<g.length&&g.charAt(v-1)!==` `&&g.charAt(v)!==` `&&(v=g.lastIndexOf(` `,v),v<b?v=b:++v)),g=(_?i:``)+g.substring(_,v)+(v<g.length?i:``);else{for(b=[],y={},x={},S={},C={},w={},D=E=T=0,k=O=1;;){var M=void 0;for(let e=0,n;e<t.length;e++){if(n=t[e],D)if(E!==D){if(S[e+1])continue;if(n+=D,y[n]){T-=f,x[e+1]=1,S[e+1]=1;continue}if(n>=v.length-1){if(n>=v.length){S[e+1]=1,n>=_.length&&(x[e+1]=1);continue}T-=f}if(g=v[n].text,j=m&&w[e])if(j>0){if(g.length>j)if(S[e+1]=1,l)g=g.substring(0,j);else continue;(j-=g.length)||(j=-1),w[e]=j}else{S[e+1]=1;continue}if(T+g.length+1<=c)g=` `+g,b[e]+=g;else if(l)M=c-T-1,M>0&&(g=` `+g.substring(0,M),b[e]+=g),S[e+1]=1;else{S[e+1]=1;continue}}else{if(S[e])continue;if(n-=E,y[n]){T-=f,S[e]=1,x[e]=1;continue}if(n<=0){if(n<0){S[e]=1,x[e]=1;continue}T-=f}if(g=v[n].text,j=p&&C[e])if(j>0){if(g.length>j)if(S[e]=1,l)g=g.substring(g.length-j);else continue;(j-=g.length)||(j=-1),C[e]=j}else{S[e]=1;continue}if(T+g.length+1<=c)g+=` `,b[e]=g+b[e];else if(l)M=g.length+1-(c-T),M>=0&&M<g.length&&(g=g.substring(M)+` `,b[e]=g+b[e]),S[e]=1;else{S[e]=1;continue}}else{g=v[n].match,p&&(C[e]=p),m&&(w[e]=m),e&&T++;let t;if(n?!e&&f&&(T+=f):(x[e]=1,S[e]=1),n>=_.length-1||n<v.length-1&&v[n+1].match?t=1:f&&(T+=f),T-=a.length-2,!e||T+g.length<=c)b[e]=g;else{M=O=k=x[e]=0;break}t&&(x[e+1]=1,S[e+1]=1)}T+=g.length,M=y[n]=1}if(M)E===D?D++:E++;else{if(E===D?O=0:k=0,!O&&!k)break;O?(E++,D=E):D++}}g=``;for(let e=0,t;e<b.length;e++)t=(x[e]?e?` `:``:(e&&!i?` `:``)+i)+b[e],g+=t;i&&!x[b.length]&&(g+=i)}u&&(g=g.replace(u,` `)),ee[e].highlight=g}if(r)break}return t}function Hp(e,t){if(!this||this.constructor!==Hp)return new Hp(e,t);let n=0,r,i,a,o,s,c;if(e&&e.index){let r=e;if(t=r.index,n=r.boost||0,i=r.query){a=r.field||r.pluck,o=r.highlight;let n=r.resolve;e=r.async||r.queue,r.resolve=!1,r.index=null,e=e?t.searchAsync(r):t.search(r),r.resolve=n,r.index=t,e=e.result||e}else e=[]}if(e&&e.then){let t=this;e=e.then(function(e){t.C[0]=t.result=e.result||e,Up(t)}),r=[e],e=[],s=new Promise(function(e){c=e})}this.index=t||null,this.result=e||[],this.h=n,this.C=r||[],this.await=s||null,this.return=c||null,this.highlight=o||null,this.query=i||``,this.field=a||``}$=Hp.prototype,$.limit=function(e){if(this.await){let t=this;this.C.push(function(){return t.limit(e).result})}else if(this.result.length){let t=[];for(let n=0,r;n<this.result.length;n++)if(r=this.result[n])if(r.length<=e){if(t[n]=r,e-=r.length,!e)break}else{t[n]=r.slice(0,e);break}this.result=t}return this},$.offset=function(e){if(this.await){let t=this;this.C.push(function(){return t.offset(e).result})}else if(this.result.length){let t=[];for(let n=0,r;n<this.result.length;n++)(r=this.result[n])&&(r.length<=e?e-=r.length:(t[n]=r.slice(e),e=0));this.result=t}return this},$.boost=function(e){if(this.await){let t=this;this.C.push(function(){return t.boost(e).result})}else this.h+=e;return this};function Up(e,t){let n=e.result;var r=e.await;e.await=null;for(let t=0,i;t<e.C.length;t++)if(i=e.C[t]){if(typeof i==`function`)n=i(),e.C[t]=n=n.result||n,t--;else if(i.h)n=i.h(),e.C[t]=n=n.result||n,t--;else if(i.then)return e.await=r}return r=e.return,e.C=[],e.return=null,t||r(n),n}$.resolve=function(e,t,n,r,i){let a=this.await?Up(this,!0):this.result;if(a.then){let o=this;return a.then(function(){return o.resolve(e,t,n,r,i)})}return a.length&&(typeof e==`object`?(r=e.highlight||this.highlight,n=!!r||e.enrich,t=e.offset,e=e.limit):(r||=this.highlight,n=!!r||n),a=i?n?Yp.call(this.index,a):a:Pp.call(this.index,a,e||100,t,n)),this.finalize(a,r)},$.finalize=function(e,t){if(e.then){let n=this;return e.then(function(e){return n.finalize(e,t)})}t&&e.length&&this.query&&(e=Vp(this.query,e,this.index.index,this.field,t));let n=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field=``,n&&n(e),e};function Wp(e,t,n,r,i,a,o){let s=e.length,c=[],l,u;l=qf();for(let d=0,f,p,m,h;d<t;d++)for(let t=0;t<s;t++)if(m=e[t],d<m.length&&(f=m[d]))for(let e=0;e<f.length;e++){if(p=f[e],(u=l[p])?l[p]++:(u=0,l[p]=1),h=c[u]||(c[u]=[]),!o){let e=d+(t||!i?0:a||0);h=h[e]||(h[e]=[])}if(h.push(p),o&&n&&u===s-1&&h.length-r===n)return r?h.slice(r):h}if(e=c.length)if(i)c=c.length>1?Gp(c,n,r,o,a):(c=c[0])&&n&&c.length>n||r?c.slice(r,n+r):c;else{if(e<s)return[];if(c=c[e-1],n||r)if(o)(c.length>n||r)&&(c=c.slice(r,n+r));else{i=[];for(let e=0,t;e<c.length;e++)if(t=c[e]){if(r&&t.length>r)r-=t.length;else if((n&&t.length>n||r)&&(t=t.slice(r,n+r),n-=t.length,r&&(r-=t.length)),i.push(t),!n)break}c=i}}return c}function Gp(e,t,n,r,i){let a=[],o=qf(),s;var c=e.length;let l;if(r){for(i=c-1;i>=0;i--)if(l=(r=e[i])&&r.length){for(c=0;c<l;c++)if(s=r[c],!o[s]){if(o[s]=1,n)n--;else if(a.push(s),a.length===t)return a}}}else for(let u=c-1,d,f=0;u>=0;u--){d=e[u];for(let e=0;e<d.length;e++)if(l=(r=d[e])&&r.length){for(let d=0;d<l;d++)if(s=r[d],!o[s])if(o[s]=1,n)n--;else{let n=(e+(u<c-1&&i||0))/(u+1)|0;if((a[n]||(a[n]=[])).push(s),++f===t)return a}}}return a}function Kp(e,t,n,r,i){let a=qf(),o=[];for(let e=0,n;e<t.length;e++){n=t[e];for(let e=0;e<n.length;e++)a[n[e]]=1}if(i){for(let t=0,i;t<e.length;t++)if(i=e[t],a[i]){if(r)r--;else if(o.push(i),a[i]=0,n&&--n===0)break}}else for(let n=0,r,i;n<e.result.length;n++)for(r=e.result[n],t=0;t<r.length;t++)i=r[t],a[i]&&((o[n]||(o[n]=[])).push(i),a[i]=0);return o}Xp.prototype.search=function(e,t,n,r){n||(!t&&Yf(e)?(n=e,e=``):Yf(t)&&(n=t,t=0));let i=[];var a=[];let o,s,c,l,u,d,f=0,p=!0,m;if(n){n.constructor===Array&&(n={index:n}),e=n.query||e,o=n.pluck,s=n.merge,l=n.boost,d=o||n.field||(d=n.index)&&(d.index?null:d);var h=this.tag&&n.tag;c=n.suggest,p=n.resolve!==!1,u=n.cache,m=p&&this.store&&n.highlight;var g=!!m||p&&this.store&&n.enrich;t=n.limit||t;var _=n.offset||0;if(t||=p?100:0,h&&(!this.db||!r)){h.constructor!==Array&&(h=[h]);var v=[];for(let e=0,t;e<h.length;e++)if(t=h[e],t.field&&t.tag){var y=t.tag;if(y.constructor===Array)for(var b=0;b<y.length;b++)v.push(t.field,y[b]);else v.push(t.field,y)}else{y=Object.keys(t);for(let e=0,n,r;e<y.length;e++)if(n=y[e],r=t[n],r.constructor===Array)for(b=0;b<r.length;b++)v.push(n,r[b]);else v.push(n,r)}if(h=v,!e){if(a=[],v.length)for(h=0;h<v.length;h+=2){if(this.db){if(r=this.index.get(v[h]),!r)continue;a.push(r=r.db.tag(v[h+1],t,_,g))}else r=Jp.call(this,v[h],v[h+1],t,_,g);i.push(p?{field:v[h],tag:v[h+1],result:r}:[r])}if(a.length){let e=this;return Promise.all(a).then(function(t){for(let e=0;e<t.length;e++)p?i[e].result=t[e]:i[e]=t[e];return p?i:new Hp(i.length>1?Wp(i,1,0,0,c,l):i[0],e)})}return p?i:new Hp(i.length>1?Wp(i,1,0,0,c,l):i[0],this)}}p||o||!(d||=this.field)||(Jf(d)?o=d:(d.constructor===Array&&d.length===1&&(d=d[0]),o=d.field||d.index)),d&&d.constructor!==Array&&(d=[d])}d||=this.field;let x;v=(this.worker||this.db)&&!r&&[];for(let o=0,s,l,C;o<d.length;o++){if(l=d[o],this.db&&this.tag&&!this.B[o])continue;let w;if(Jf(l)||(w=l,l=w.field,e=w.query||e,t=Kf(w.limit,t),_=Kf(w.offset,_),c=Kf(w.suggest,c),m=p&&this.store&&Kf(w.highlight,m),g=!!m||p&&this.store&&Kf(w.enrich,g),u=Kf(w.cache,u)),r)s=r[o];else{y=w||n||{},b=y.enrich;var S=this.index.get(l);if(h&&(this.db&&(y.tag=h,y.field=d,x=S.db.support_tag_search),!x&&b&&(y.enrich=!1),x||(y.limit=0,y.offset=0)),s=u?S.searchCache(e,h&&!x?0:t,y):S.search(e,h&&!x?0:t,y),h&&!x&&(y.limit=t,y.offset=_),b&&(y.enrich=b),v){v[o]=s;continue}}if(C=(s=s.result||s)&&s.length,h&&C){if(y=[],b=0,this.db&&r){if(!x)for(S=d.length;S<r.length;S++){let e=r[S];if(e&&e.length)b++,y.push(e);else if(!c)return p?i:new Hp(i,this)}}else for(let e=0,t,n;e<h.length;e+=2){if(t=this.tag.get(h[e]),!t){if(c)continue;return p?i:new Hp(i,this)}if((t&&=t.get(h[e+1]))&&t.length)b++,y.push(t);else if(!c)return p?i:new Hp(i,this)}if(b){if(s=Kp(s,y,t,_,p),C=s.length,!C&&!c)return p?s:new Hp(s,this);b--}}if(C)a[f]=l,i.push(s),f++;else if(d.length===1)return p?i:new Hp(i,this)}if(v){if(this.db&&h&&h.length&&!x)for(g=0;g<h.length;g+=2){if(a=this.index.get(h[g]),!a){if(c)continue;return p?i:new Hp(i,this)}v.push(a.db.tag(h[g+1],t,_,!1))}let r=this;return Promise.all(v).then(function(i){return n&&(n.resolve=p),i.length&&(i=r.search(e,t,n,i)),i})}if(!f)return p?i:new Hp(i,this);if(o&&(!g||!this.store))return i=i[0],p?i:new Hp(i,this);for(v=[],_=0;_<a.length;_++){if(h=i[_],g&&h.length&&h[0].doc===void 0&&(this.db?v.push(h=this.index.get(this.field[0]).db.enrich(h)):h=Yp.call(this,h)),o)return p?m?Vp(e,h,this.index,o,m):h:new Hp(h,this);i[_]={field:a[_],result:h}}if(g&&this.db&&v.length){let t=this;return Promise.all(v).then(function(n){for(let e=0;e<n.length;e++)i[e].result=n[e];return m&&(i=Vp(e,i,t.index,o,m)),s?qp(i):i})}return m&&(i=Vp(e,i,this.index,o,m)),s?qp(i):i};function qp(e){let t=[],n=qf(),r=qf();for(let i=0,a,o,s,c,l,u,d;i<e.length;i++){a=e[i],o=a.field,s=a.result;for(let e=0;e<s.length;e++)l=s[e],typeof l==`object`?c=l.id:l={id:c=l},(u=n[c])?u.push(o):(l.field=n[c]=[o],t.push(l)),(d=l.highlight)&&(u=r[c],u||(r[c]=u={},l.highlight=u),u[o]=d)}return t}function Jp(e,t,n,r,i){return e=this.tag.get(e),!e||(e=e.get(t),!e)?[]:(t=e.length-r,t>0&&((n&&t>n||r)&&(e=e.slice(r,r+n)),i&&(e=Yp.call(this,e))),e)}function Yp(e){if(!this||!this.store)return e;if(this.db)return this.index.get(this.field[0]).db.enrich(e);let t=Array(e.length);for(let n=0,r;n<e.length;n++)r=e[n],t[n]={id:r,doc:this.store.get(r)};return t}function Xp(e){if(!this||this.constructor!==Xp)return new Xp(e);let t=e.document||e.doc||e,n,r;if(this.B=[],this.field=[],this.D=[],this.key=(n=t.key||t.id)&&Qp(n,this.D)||`id`,(r=e.keystore||0)&&(this.keystore=r),this.fastupdate=!!e.fastupdate,this.reg=!this.fastupdate||e.worker||e.db?r?new gp(r):new Set:r?new hp(r):new Map,this.h=(n=t.store||null)&&n&&n!==!0&&[],this.store=n?r?new hp(r):new Map:null,this.cache=(n=e.cache||null)&&new ap(n),e.cache=!1,this.worker=e.worker||!1,this.priority=e.priority||4,this.index=Zp.call(this,e,t),this.tag=null,(n=t.tag)&&(typeof n==`string`&&(n=[n]),n.length)){this.tag=new Map,this.A=[],this.F=[];for(let e=0,t,r;e<n.length;e++){if(t=n[e],r=t.field||t,!r)throw Error(`The tag field from the document descriptor is undefined.`);t.custom?this.A[e]=t.custom:(this.A[e]=Qp(r,this.D),t.filter&&(typeof this.A[e]==`string`&&(this.A[e]=new String(this.A[e])),this.A[e].G=t.filter)),this.F[e]=r,this.tag.set(r,new Map)}}if(this.worker){this.fastupdate=!1,e=[];for(let t of this.index.values())t.then&&e.push(t);if(e.length){let t=this;return Promise.all(e).then(function(e){let n=0;for(let r of t.index.entries()){let i=r[0],a=r[1];a.then&&(a=e[n],t.index.set(i,a),n++)}return t})}}else e.db&&(this.fastupdate=!1,this.mount(e.db))}$=Xp.prototype,$.mount=function(e){let t=this.field;if(this.tag)for(let e=0,r;e<this.F.length;e++){r=this.F[e];var n=void 0;this.index.set(r,n=new _m({},this.reg)),t===this.field&&(t=t.slice(0)),t.push(r),n.tag=this.tag.get(r)}n=[];let r={db:e.db,type:e.type,fastupdate:e.fastupdate};for(let i=0,a,o;i<t.length;i++){r.field=o=t[i],a=this.index.get(o);let s=new e.constructor(e.id,r);s.id=e.id,n[i]=s.mount(a),a.document=!0,i?a.bypass=!0:a.store=this.store}let i=this;return this.db=Promise.all(n).then(function(){i.db=!0})},$.commit=async function(){let e=[];for(let t of this.index.values())e.push(t.commit());await Promise.all(e),this.reg.clear()},$.destroy=function(){let e=[];for(let t of this.index.values())e.push(t.destroy());return Promise.all(e)};function Zp(e,t){let n=new Map,r=t.index||t.field||t;Jf(r)&&(r=[r]);for(let t=0,a,o;t<r.length;t++){if(a=r[t],Jf(a)||(o=a,a=a.field),o=Yf(o)?Object.assign({},e,o):e,this.worker){var i=void 0;i=(i=o.encoder)&&i.encode?i:new np(typeof i==`string`?fp[i]:i||{}),i=new kp(o,i),n.set(a,i)}this.worker||n.set(a,new _m(o,this.reg)),o.custom?this.B[t]=o.custom:(this.B[t]=Qp(a,this.D),o.filter&&(typeof this.B[t]==`string`&&(this.B[t]=new String(this.B[t])),this.B[t].G=o.filter)),this.field[t]=a}if(this.h){e=t.store,Jf(e)&&(e=[e]);for(let t=0,n,r;t<e.length;t++)n=e[t],r=n.field||n,n.custom?(this.h[t]=n.custom,n.custom.O=r):(this.h[t]=Qp(r,this.D),n.filter&&(typeof this.h[t]==`string`&&(this.h[t]=new String(this.h[t])),this.h[t].G=n.filter))}return n}function Qp(e,t){let n=e.split(`:`),r=0;for(let i=0;i<n.length;i++)e=n[i],e[e.length-1]===`]`&&(e=e.substring(0,e.length-2))&&(t[r]=!0),e&&(n[r++]=e);return r<n.length&&(n.length=r),r>1?n:n[0]}$.append=function(e,t){return this.add(e,t,!0)},$.update=function(e,t){return this.remove(e).add(e,t)},$.remove=function(e){Yf(e)&&(e=Xf(e,this.key));for(var t of this.index.values())t.remove(e,!0);if(this.reg.has(e)){if(this.tag&&!this.fastupdate)for(let n of this.tag.values())for(let r of n){t=r[0];let i=r[1],a=i.indexOf(e);a>-1&&(i.length>1?i.splice(a,1):n.delete(t))}this.store&&this.store.delete(e),this.reg.delete(e)}return this.cache&&this.cache.remove(e),this},$.clear=function(){let e=[];for(let t of this.index.values()){let n=t.clear();n.then&&e.push(n)}if(this.tag)for(let e of this.tag.values())e.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),e.length?Promise.all(e):this},$.contain=function(e){return this.db?this.index.get(this.field[0]).db.has(e):this.reg.has(e)},$.cleanup=function(){for(let e of this.index.values())e.cleanup();return this},$.get=function(e){return this.db?this.index.get(this.field[0]).db.enrich(e).then(function(e){return e[0]&&e[0].doc||null}):this.store.get(e)||null},$.set=function(e,t){return typeof e==`object`&&(t=e,e=Xf(t,this.key)),this.store.set(e,t),this},$.searchCache=ip,$.export=om,$.import=sm,Sp(Xp.prototype);function $p(e,t=0){let n=[],r=[];t&&=25e4/t*5e3|0;for(let i of e.entries())r.push(i),r.length===t&&(n.push(r),r=[]);return r.length&&n.push(r),n}function em(e,t){t||=new Map;for(let n=0,r;n<e.length;n++)r=e[n],t.set(r[0],r[1]);return t}function tm(e,t=0){let n=[],r=[];t&&=25e4/t*1e3|0;for(let i of e.entries())r.push([i[0],$p(i[1])[0]||[]]),r.length===t&&(n.push(r),r=[]);return r.length&&n.push(r),n}function nm(e,t){t||=new Map;for(let n=0,r,i;n<e.length;n++)r=e[n],i=t.get(r[0]),t.set(r[0],em(r[1],i));return t}function rm(e){let t=[],n=[];for(let r of e.keys())n.push(r),n.length===25e4&&(t.push(n),n=[]);return n.length&&t.push(n),t}function im(e,t){t||=new Set;for(let n=0;n<e.length;n++)t.add(e[n]);return t}function am(e,t,n,r,i,a,o=0){let s=r&&r.constructor===Array;var c=s?r.shift():r;if(!c)return this.export(e,t,i,a+1);if((c=e((t?t+`.`:``)+(o+1)+`.`+n,JSON.stringify(c)))&&c.then){let l=this;return c.then(function(){return am.call(l,e,t,n,s?r:null,i,a,o+1)})}return am.call(this,e,t,n,s?r:null,i,a,o+1)}function om(e,t,n=0,r=0){if(n<this.field.length){let i=this.field[n];if((t=this.index.get(i).export(e,i,n,r=1))&&t.then){let r=this;return t.then(function(){return r.export(e,i,n+1)})}return this.export(e,i,n+1)}let i,a;switch(r){case 0:i=`reg`,a=rm(this.reg),t=null;break;case 1:i=`tag`,a=this.tag&&tm(this.tag,this.reg.size),t=null;break;case 2:i=`doc`,a=this.store&&$p(this.store),t=null;break;default:return}return am.call(this,e,t,i,a||null,n,r)}function sm(e,t){var n=e.split(`.`);n[n.length-1]===`json`&&n.pop();let r=n.length>2?n[0]:``;if(n=n.length>2?n[2]:n[1],this.worker&&r)return this.index.get(r).import(e);if(t){if(typeof t==`string`&&(t=JSON.parse(t)),r)return this.index.get(r).import(n,t);switch(n){case`reg`:this.fastupdate=!1,this.reg=im(t,this.reg);for(let e=0,t;e<this.field.length;e++)t=this.index.get(this.field[e]),t.fastupdate=!1,t.reg=this.reg;if(this.worker){t=[];for(let n of this.index.values())t.push(n.import(e));return Promise.all(t)}break;case`tag`:this.tag=nm(t,this.tag);break;case`doc`:this.store=em(t,this.store)}}}function cm(e,t){let n=``;for(let r of e.entries()){e=r[0];let i=r[1],a=``;for(let e=0,n;e<i.length;e++){n=i[e]||[``];let r=``;for(let e=0;e<n.length;e++)r+=(r?`,`:``)+(t===`string`?`"`+n[e]+`"`:n[e]);r=`[`+r+`]`,a+=(a?`,`:``)+r}a=`["`+e+`",[`+a+`]]`,n+=(n?`,`:``)+a}return n}_m.prototype.remove=function(e,t){let n=this.reg.size&&(this.fastupdate?this.reg.get(e):this.reg.has(e));if(n){if(this.fastupdate){for(let t=0,r,i;t<n.length;t++)if((r=n[t])&&(i=r.length))if(r[i-1]===e)r.pop();else{let t=r.indexOf(e);t>=0&&r.splice(t,1)}}else lm(this.map,e),this.depth&&lm(this.ctx,e);t||this.reg.delete(e)}return this.db&&(this.commit_task.push({del:e}),this.M&&vm(this)),this.cache&&this.cache.remove(e),this};function lm(e,t){let n=0;var r=t===void 0;if(e.constructor===Array){for(let i=0,a,o,s;i<e.length;i++)if((a=e[i])&&a.length){if(r)return 1;if(o=a.indexOf(t),o>=0){if(a.length>1)return a.splice(o,1),1;if(delete e[i],n)return 1;s=1}else{if(s)return 1;n++}}}else for(let i of e.entries())r=i[0],lm(i[1],t)?n++:e.delete(r);return n}var um={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:`forward`},score:{resolution:9,context:{depth:2,resolution:3}}};_m.prototype.add=function(e,t,n,r){if(t&&(e||e===0)){if(!r&&!n&&this.reg.has(e))return this.update(e,t);r=this.depth,t=this.encoder.encode(t,!r);let l=t.length;if(l){let u=qf(),d=qf(),f=this.resolution;for(let p=0;p<l;p++){let m=t[this.rtl?l-1-p:p];var i=m.length;if(i&&(r||!d[m])){var a=this.score?this.score(t,m,p,null,0):fm(f,l,p),o=``;switch(this.tokenize){case`tolerant`:if(dm(this,d,m,a,e,n),i>2){for(let t=1,r,s,c,l;t<i-1;t++)r=m.charAt(t),s=m.charAt(t+1),c=m.substring(0,t)+s,l=m.substring(t+2),o=c+r+l,dm(this,d,o,a,e,n),o=c+l,dm(this,d,o,a,e,n);dm(this,d,m.substring(0,m.length-1),a,e,n)}break;case`full`:if(i>2){for(let r=0,c;r<i;r++)for(a=i;a>r;a--){o=m.substring(r,a),c=this.rtl?i-1-r:r;var s=this.score?this.score(t,m,p,o,c):fm(f,l,p,i,c);dm(this,d,o,s,e,n)}break}case`bidirectional`:case`reverse`:if(i>1){for(s=i-1;s>0;s--){o=m[this.rtl?i-1-s:s]+o;var c=this.score?this.score(t,m,p,o,s):fm(f,l,p,i,s);dm(this,d,o,c,e,n)}o=``}case`forward`:if(i>1){for(s=0;s<i;s++)o+=m[this.rtl?i-1-s:s],dm(this,d,o,a,e,n);break}default:if(dm(this,d,m,a,e,n),r&&l>1&&p<l-1)for(i=this.N,o=m,a=Math.min(r+1,this.rtl?p+1:l-p),s=1;s<a;s++){m=t[this.rtl?l-1-p-s:p+s],c=this.bidirectional&&m>o;let r=this.score?this.score(t,o,p,m,s-1):fm(i+(l/2>i?0:1),l,p,a-1,s-1);dm(this,u,c?o:m,r,e,n,c?m:o)}}}}this.fastupdate||this.reg.add(e)}}return this.db&&(this.commit_task.push(n?{ins:e}:{del:e}),this.M&&vm(this)),this};function dm(e,t,n,r,i,a,o){let s,c;if(!(s=t[n])||o&&!s[o]){if(o?(t=s||(t[n]=qf()),t[o]=1,c=e.ctx,(s=c.get(o))?c=s:c.set(o,c=e.keystore?new hp(e.keystore):new Map)):(c=e.map,t[n]=1),(s=c.get(n))?c=s:c.set(n,c=s=[]),a){for(let n=0,a;n<s.length;n++)if((a=s[n])&&a.includes(i)){if(n<=r)return;a.splice(a.indexOf(i),1),e.fastupdate&&(t=e.reg.get(i))&&t.splice(t.indexOf(a),1);break}}if(c=c[r]||(c[r]=[]),c.push(i),c.length===2**31-1){if(t=new mp(c),e.fastupdate)for(let n of e.reg.values())n.includes(c)&&(n[n.indexOf(c)]=t);s[r]=c=t}e.fastupdate&&((r=e.reg.get(i))?r.push(c):e.reg.set(i,[c]))}}function fm(e,t,n,r,i){return n&&e>1?t+(r||0)<=e?n+(i||0):(e-1)/(t+(r||0))*(n+(i||0))+1|0:0}_m.prototype.search=function(e,t,n){if(n||(t||typeof e!=`object`?typeof t==`object`&&(n=t,t=0):(n=e,e=``)),n&&n.cache)return n.cache=!1,e=this.searchCache(e,t,n),n.cache=!0,e;let r=[],i,a,o,s=0,c,l,u,d,f;n&&(e=n.query||e,t=n.limit||t,s=n.offset||0,a=n.context,o=n.suggest,f=(c=n.resolve)&&n.enrich,u=n.boost,d=n.resolution,l=this.db&&n.tag),c===void 0&&(c=this.resolve),a=this.depth&&a!==!1;let p=this.encoder.encode(e,!a);if(i=p.length,t||=c?100:0,i===1)return mm.call(this,p[0],``,t,s,c,f,l);if(i===2&&a&&!o)return mm.call(this,p[1],p[0],t,s,c,f,l);let m=qf(),h=0,g;if(a&&(g=p[0],h=1),d||d===0||(d=g?this.N:this.resolution),this.db){if(this.db.search&&(n=this.db.search(this,p,t,s,o,c,f,l),n!==!1))return n;let e=this;return async function(){for(let t,n;h<i;h++){if((n=p[h])&&!m[n]){if(m[n]=1,t=await gm(e,n,g,0,0,!1,!1),t=hm(t,r,o,d)){r=t;break}g&&(o&&t&&r.length||(g=n))}o&&g&&h===i-1&&!r.length&&(d=e.resolution,g=``,h=-1,m=qf())}return pm(r,d,t,s,o,u,c)}()}for(let e,t;h<i;h++){if((t=p[h])&&!m[t]){if(m[t]=1,e=gm(this,t,g,0,0,!1,!1),e=hm(e,r,o,d)){r=e;break}g&&(o&&e&&r.length||(g=t))}o&&g&&h===i-1&&!r.length&&(d=this.resolution,g=``,h=-1,m=qf())}return pm(r,d,t,s,o,u,c)};function pm(e,t,n,r,i,a,o){let s=e.length,c=e;if(s>1)c=Wp(e,t,n,r,i,a,o);else if(s===1)return o?Pp.call(null,e[0],n,r):new Hp(e[0],this);return o?c:new Hp(c,this)}function mm(e,t,n,r,i,a,o){return e=gm(this,e,t,n,r,i,a,o),this.db?e.then(function(e){return i?e||[]:new Hp(e,this)}):e&&e.length?i?Pp.call(this,e,n,r):new Hp(e,this):i?[]:new Hp([],this)}function hm(e,t,n,r){let i=[];if(e&&e.length){if(e.length<=r){t.push(e);return}for(let t=0,n;t<r;t++)(n=e[t])&&(i[t]=n);if(i.length){t.push(i);return}}if(!n)return i}function gm(e,t,n,r,i,a,o,s){let c;return n&&(c=e.bidirectional&&t>n)&&(c=n,n=t,t=c),e.db?e.db.get(t,n,r,i,a,o,s):(e=n?(e=e.ctx.get(n))&&e.get(t):e.map.get(t),e)}function _m(e,t){if(!this||this.constructor!==_m)return new _m(e);if(e){var n=Jf(e)?e:e.preset;n&&(e=Object.assign({},um[n],e))}else e={};n=e.context;let r=n===!0?{depth:1}:n||{},i=Jf(e.encoder)?fp[e.encoder]:e.encode||e.encoder||{};this.encoder=i.encode?i:typeof i==`object`?new np(i):{encode:i},this.resolution=e.resolution||9,this.tokenize=n=(n=e.tokenize)&&n!==`default`&&n!==`exact`&&n||`strict`,this.depth=n===`strict`&&r.depth||0,this.bidirectional=r.bidirectional!==!1,this.fastupdate=!!e.fastupdate,this.score=e.score||null,(n=e.keystore||0)&&(this.keystore=n),this.map=n?new hp(n):new Map,this.ctx=n?new hp(n):new Map,this.reg=t||(this.fastupdate?n?new hp(n):new Map:n?new gp(n):new Set),this.N=r.resolution||3,this.rtl=i.rtl||e.rtl||!1,this.cache=(n=e.cache||null)&&new ap(n),this.resolve=e.resolve!==!1,(n=e.db)&&(this.db=this.mount(n)),this.M=e.commit!==!1,this.commit_task=[],this.commit_timer=null,this.priority=e.priority||4}$=_m.prototype,$.mount=function(e){return this.commit_timer&&=(clearTimeout(this.commit_timer),null),e.mount(this)},$.commit=function(){return this.commit_timer&&=(clearTimeout(this.commit_timer),null),this.db.commit(this)},$.destroy=function(){return this.commit_timer&&=(clearTimeout(this.commit_timer),null),this.db.destroy()};function vm(e){e.commit_timer||=setTimeout(function(){e.commit_timer=null,e.db.commit(e)},1)}$.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this},$.append=function(e,t){return this.add(e,t,!0)},$.contain=function(e){return this.db?this.db.has(e):this.reg.has(e)},$.update=function(e,t){let n=this,r=this.remove(e);return r&&r.then?r.then(()=>n.add(e,t)):this.add(e,t)},$.cleanup=function(){return this.fastupdate?(lm(this.map),this.depth&&lm(this.ctx),this):this},$.searchCache=ip,$.export=function(e,t,n=0,r=0){let i,a;switch(r){case 0:i=`reg`,a=rm(this.reg);break;case 1:i=`cfg`,a=null;break;case 2:i=`map`,a=$p(this.map,this.reg.size);break;case 3:i=`ctx`,a=tm(this.ctx,this.reg.size);break;default:return}return am.call(this,e,t,i,a,n,r)},$.import=function(e,t){if(t)switch(typeof t==`string`&&(t=JSON.parse(t)),e=e.split(`.`),e[e.length-1]===`json`&&e.pop(),e.length===3&&e.shift(),e=e.length>1?e[1]:e[0],e){case`reg`:this.fastupdate=!1,this.reg=im(t,this.reg);break;case`map`:this.map=em(t,this.map);break;case`ctx`:this.ctx=nm(t,this.ctx)}},$.serialize=function(e=!0){let t=``,n=``,r=``;if(this.reg.size){let e;for(var i of this.reg.keys())e||=typeof i,t+=(t?`,`:``)+(e===`string`?`"`+i+`"`:i);t=`index.reg=new Set([`+t+`]);`,n=cm(this.map,e),n=`index.map=new Map([`+n+`]);`;for(let t of this.ctx.entries()){i=t[0];let n=cm(t[1],e);n=`new Map([`+n+`])`,n=`["`+i+`",`+n+`]`,r+=(r?`,`:``)+n}r=`index.ctx=new Map([`+r+`]);`}return e?`function inject(index){`+t+n+r+`}`:t+n+r},Sp(_m.prototype);var ym=typeof window<`u`&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),bm=[`map`,`ctx`,`tag`,`reg`,`cfg`],xm=qf();function Sm(e,t={}){if(!this||this.constructor!==Sm)return new Sm(e,t);typeof e==`object`&&(t=e,e=e.name),e||console.info(`Default storage space was used, because a name was not passed.`),this.id=`flexsearch`+(e?`:`+e.toLowerCase().replace(/[^a-z0-9_\-]/g,``):``),this.field=t.field?t.field.toLowerCase().replace(/[^a-z0-9_\-]/g,``):``,this.type=t.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}$=Sm.prototype,$.mount=function(e){return e.index?e.mount(this):(e.db=this,this.open())},$.open=function(){if(this.db)return this.db;let e=this;navigator.storage&&navigator.storage.persist&&navigator.storage.persist(),xm[e.id]||(xm[e.id]=[]),xm[e.id].push(e.field);let t=ym.open(e.id,1);return t.onupgradeneeded=function(){let t=e.db=this.result;for(let n=0,r;n<bm.length;n++){r=bm[n];for(let n=0,i;n<xm[e.id].length;n++)i=xm[e.id][n],t.objectStoreNames.contains(r+(r===`reg`?``:i?`:`+i:``))||t.createObjectStore(r+(r===`reg`?``:i?`:`+i:``))}},e.db=wm(t,function(t){e.db=t,e.db.onversionchange=function(){e.close()}})},$.close=function(){this.db&&this.db.close(),this.db=null},$.destroy=function(){return wm(ym.deleteDatabase(this.id))},$.clear=function(){let e=[];for(let t=0,n;t<bm.length;t++){n=bm[t];for(let t=0,r;t<xm[this.id].length;t++)r=xm[this.id][t],e.push(n+(n===`reg`?``:r?`:`+r:``))}let t=this.db.transaction(e,`readwrite`);for(let n=0;n<e.length;n++)t.objectStore(e[n]).clear();return wm(t)},$.get=function(e,t,n=0,r=0,i=!0,a=!1){e=this.db.transaction((t?`ctx`:`map`)+(this.field?`:`+this.field:``),`readonly`).objectStore((t?`ctx`:`map`)+(this.field?`:`+this.field:``)).get(t?t+`:`+e:e);let o=this;return wm(e).then(function(e){let t=[];if(!e||!e.length)return t;if(i){if(!n&&!r&&e.length===1)return e[0];for(let i=0,a;i<e.length;i++)if((a=e[i])&&a.length){if(r>=a.length){r-=a.length;continue}let e=n?r+Math.min(a.length-r,n):a.length;for(let n=r;n<e;n++)t.push(a[n]);if(r=0,t.length===n)break}return a?o.enrich(t):t}return e})},$.tag=function(e,t=0,n=0,r=!1){e=this.db.transaction(`tag`+(this.field?`:`+this.field:``),`readonly`).objectStore(`tag`+(this.field?`:`+this.field:``)).get(e);let i=this;return wm(e).then(function(e){return!e||!e.length||n>=e.length?[]:!t&&!n?e:(e=e.slice(n,n+t),r?i.enrich(e):e)})},$.enrich=function(e){typeof e!=`object`&&(e=[e]);let t=this.db.transaction(`reg`,`readonly`).objectStore(`reg`),n=[];for(let r=0;r<e.length;r++)n[r]=wm(t.get(e[r]));return Promise.all(n).then(function(t){for(let n=0;n<t.length;n++)t[n]={id:e[n],doc:t[n]?JSON.parse(t[n]):null};return t})},$.has=function(e){return e=this.db.transaction(`reg`,`readonly`).objectStore(`reg`).getKey(e),wm(e).then(function(e){return!!e})},$.search=null,$.info=function(){},$.transaction=function(e,t,n){e+=e===`reg`?``:this.field?`:`+this.field:``;let r=this.h[e+`:`+t];if(r)return n.call(this,r);let i=this.db.transaction(e,t);this.h[e+`:`+t]=r=i.objectStore(e);let a=n.call(this,r);return this.h[e+`:`+t]=null,wm(i).finally(function(){return a})},$.commit=async function(e){let t=e.commit_task,n=[];e.commit_task=[];for(let e=0,r;e<t.length;e++)r=t[e],r.del&&n.push(r.del);n.length&&await this.remove(n),e.reg.size&&(await this.transaction(`map`,`readwrite`,function(t){for(let n of e.map){let e=n[0],r=n[1];r.length&&(t.get(e).onsuccess=function(){let n=this.result;var i;if(n&&n.length){let e=Math.max(n.length,r.length);for(let t=0,a,o;t<e;t++)if((o=r[t])&&o.length){if((a=n[t])&&a.length)for(i=0;i<o.length;i++)a.push(o[i]);else n[t]=o;i=1}}else n=r,i=1;i&&t.put(n,e)})}}),await this.transaction(`ctx`,`readwrite`,function(t){for(let n of e.ctx){let e=n[0],r=n[1];for(let n of r){let r=n[0],i=n[1];i.length&&(t.get(e+`:`+r).onsuccess=function(){let n=this.result;var a;if(n&&n.length){let e=Math.max(n.length,i.length);for(let t=0,r,o;t<e;t++)if((o=i[t])&&o.length){if((r=n[t])&&r.length)for(a=0;a<o.length;a++)r.push(o[a]);else n[t]=o;a=1}}else n=i,a=1;a&&t.put(n,e+`:`+r)})}}}),e.store?await this.transaction(`reg`,`readwrite`,function(t){for(let n of e.store){let e=n[0],r=n[1];t.put(typeof r==`object`?JSON.stringify(r):1,e)}}):e.bypass||await this.transaction(`reg`,`readwrite`,function(t){for(let n of e.reg.keys())t.put(1,n)}),e.tag&&await this.transaction(`tag`,`readwrite`,function(t){for(let n of e.tag){let e=n[0],r=n[1];r.length&&(t.get(e).onsuccess=function(){let n=this.result;n=n&&n.length?n.concat(r):r,t.put(n,e)})}}),e.map.clear(),e.ctx.clear(),e.tag&&e.tag.clear(),e.store&&e.store.clear(),e.document||e.reg.clear())};function Cm(e,t,n){let r=e.value,i,a=0;for(let e=0,o;e<r.length;e++){if(o=n?r:r[e]){for(let n=0,a,s;n<t.length;n++)if(s=t[n],a=o.indexOf(s),a>=0)if(i=1,o.length>1)o.splice(a,1);else{r[e]=[];break}a+=o.length}if(n)break}a?i&&e.update(r):e.delete(),e.continue()}$.remove=function(e){return typeof e!=`object`&&(e=[e]),Promise.all([this.transaction(`map`,`readwrite`,function(t){t.openCursor().onsuccess=function(){let t=this.result;t&&Cm(t,e)}}),this.transaction(`ctx`,`readwrite`,function(t){t.openCursor().onsuccess=function(){let t=this.result;t&&Cm(t,e)}}),this.transaction(`tag`,`readwrite`,function(t){t.openCursor().onsuccess=function(){let t=this.result;t&&Cm(t,e,!0)}}),this.transaction(`reg`,`readwrite`,function(t){for(let n=0;n<e.length;n++)t.delete(e[n])})])};function wm(e,t){return new Promise((n,r)=>{e.onsuccess=e.oncomplete=function(){t&&t(this.result),t=null,n(this.result)},e.onerror=e.onblocked=r,e=null})}var Tm={Index:_m,Charset:fp,Encoder:np,Document:Xp,Worker:kp,Resolver:Hp,IndexedDB:Sm,Language:{}};function Em(){return new Tm.Index({tokenize:`forward`,resolution:9,cache:100})}function Dm(e){return(e||``).replace(/\s+/g,` `).trim()}function Om(e,t){let n=Dm(e),r=n.toLowerCase().indexOf(t.toLowerCase());if(r<0)return n.slice(0,180)+(n.length>180?``:``);let i=Math.max(0,r-60),a=Math.min(n.length,r+t.length+100);return(i>0?``:``)+n.slice(i,a)+(a<n.length?``:``)}async function km(e,t){let n=(await Mf(e))?.hrefText??{},r=Em(),i=Object.keys(n);if(i.length>0){for(let e of i)r.add(e,n[e]);return{idx:r,hrefText:n,fromCache:!0}}let a=new DOMParser,o=t?.spine?.items??[];for(let e=0;e<o.length;e++){let i=o[e]?.href;if(i){try{let e=await t.load(i),o=Dm(a.parseFromString(e,`text/html`).body?.textContent||``);o&&(n[i]=o,r.add(i,o))}catch{}e%3==0&&await new Promise(e=>setTimeout(e,0))}}return await Nf(e,{hrefText:n,updatedAt:Date.now()}),{idx:r,hrefText:n,fromCache:!1}}function Am(e,t,n){let r=n.trim();return r?e.search(r,30).map(e=>typeof e==`string`?e:e.href).filter(Boolean).map(e=>({href:e,snippet:Om(t[e]||``,r)})):[]}var jm=(e,t)=>t.some(t=>e instanceof t),Mm,Nm;function Pm(){return Mm||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function Fm(){return Nm||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Im=new WeakMap,Lm=new WeakMap,Rm=new WeakMap;function zm(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(Gm(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return Rm.set(t,e),t}function Bm(e){if(Im.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});Im.set(e,t)}var Vm={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return Im.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gm(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function Hm(e){Vm=e(Vm)}function Um(e){return Fm().includes(e)?function(...t){return e.apply(Km(this),t),Gm(this.request)}:function(...t){return Gm(e.apply(Km(this),t))}}function Wm(e){return typeof e==`function`?Um(e):(e instanceof IDBTransaction&&Bm(e),jm(e,Pm())?new Proxy(e,Vm):e)}function Gm(e){if(e instanceof IDBRequest)return zm(e);if(Lm.has(e))return Lm.get(e);let t=Wm(e);return t!==e&&(Lm.set(e,t),Rm.set(t,e)),t}var Km=e=>Rm.get(e);function qm(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=Gm(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(Gm(o.result),e.oldVersion,e.newVersion,Gm(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var Jm=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],Ym=[`put`,`add`,`delete`,`clear`],Xm=new Map;function Zm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(Xm.get(t))return Xm.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=Ym.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jm.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Xm.set(t,a),a}Hm(e=>({...e,get:(t,n,r)=>Zm(t,n)||e.get(t,n,r),has:(t,n)=>!!Zm(t,n)||e.has(t,n)}));var Qm=[`continue`,`continuePrimaryKey`,`advance`],$m={},eh=new WeakMap,th=new WeakMap,nh={get(e,t){if(!Qm.includes(t))return e[t];let n=$m[t];return n||=$m[t]=function(...e){eh.set(this,th.get(this)[t](...e))},n}};async function*rh(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;let n=new Proxy(t,nh);for(th.set(n,t),Rm.set(n,Km(t));t;)yield n,t=await(eh.get(n)||t.continue()),eh.delete(n)}function ih(e,t){return t===Symbol.asyncIterator&&jm(e,[IDBIndex,IDBObjectStore,IDBCursor])||t===`iterate`&&jm(e,[IDBIndex,IDBObjectStore])}Hm(e=>({...e,get(t,n,r){return ih(t,n)?rh:e.get(t,n,r)},has(t,n){return ih(t,n)||e.has(t,n)}}));var ah=`universal_reader_db`,oh=1;async function sh(){return qm(ah,oh,{upgrade(e){e.createObjectStore(`books`,{keyPath:`id`}),e.createObjectStore(`prefs`,{keyPath:`bookId`}),e.createObjectStore(`sessions`,{keyPath:`id`}),e.createObjectStore(`search`,{keyPath:`bookId`}),e.createObjectStore(`meta`,{keyPath:`key`})}})}async function ch(e){await(await sh()).put(`sessions`,e)}async function lh(e){return(await(await sh()).getAll(`sessions`)).filter(t=>t.bookId===e)}function uh(){return crypto.randomUUID?.()??`${Date.now()}-${Math.random()}`}async function dh(e){let t={id:uh(),bookId:e,startAt:Date.now()};return await ch(t),t}async function fh(e,t,n){let r=await(await sh()).get(`sessions`,t);if(!r||r.bookId!==e)return;let i=Date.now(),a=Math.max(0,Math.round((i-r.startAt)/1e3));await ch({...r,endAt:i,seconds:a,lastHref:n??r.lastHref})}async function ph(e){let t=await lh(e);return{totalSeconds:t.reduce((e,t)=>e+(t.seconds??0),0),totalSessions:t.filter(e=>e.endAt).length}}function mh(e){return String(e??``).replace(/\s+/g,` `).trim()}var hh={class:`h-full bg-base-100`},gh={key:0,class:`fixed top-0 left-0 right-0 z-30 bg-base-200/95 backdrop-blur border-b border-base-300`},_h={class:`navbar`},vh={class:`flex-1 min-w-0`},yh={class:`ml-2 truncate font-semibold`},bh={class:`px-3 pb-3`},xh={key:0,class:`text-xs opacity-60 mt-1`},Sh={key:1,class:`mt-2 max-h-56 overflow-auto bg-base-100 rounded-xl border border-base-300`},Ch=[`onClick`],wh={class:`text-xs opacity-60`},Th={class:`text-sm`},Eh={class:`p-3 grid grid-cols-2 sm:grid-cols-4 gap-3`},Dh={class:`form-control`},Oh={class:`form-control`},kh={class:`form-control`},Ah={class:`form-control`},jh={class:`form-control col-span-2`},Mh={class:`form-control col-span-2`},Nh={class:`form-control col-span-2`},Ph={class:`form-control`},Fh={class:`form-control`},Ih={class:`flex items-center gap-2 cursor-pointer`},Lh={class:`flex items-center gap-2 cursor-pointer`},Rh={key:3,class:`modal modal-open`},zh={class:`modal-box max-w-2xl`},Bh={class:`mt-4 max-h-[70vh] overflow-auto space-y-1`},Vh=[`onClick`],Hh={key:0,class:`opacity-70`},Uh=[`innerHTML`],Wh=Pn({__name:`ReaderView`,props:{id:{}},setup(e){let t=Ht(Sf),n=e,r=Uc(),i=Ht(null),a=Ht(!0),o=Ht(null),s=Ht(`default`),c=0,l=Ht(!1),u=Ht(``),d=Ht([]),f=Ht(null),p=Ht(!1),m=Ht([]),h=Ea(()=>{let e=[],t=(n,r)=>{for(let i of n??[])i?.href&&e.push({href:i.href,label:i.label||i.href,depth:r}),i?.subitems?.length&&t(i.subitems,r+1)};return t(m.value,0),e});function g(){p.value=!0}function _(){p.value=!1}async function v(e){_(),a.value=!0,await pe(e.href)}function y(e){e.key===`Escape`&&(a.value=!0,p.value=!1),(e.key===`t`||e.key===`T`)&&a.value&&(p.value=!p.value)}function b(e,t){let n=t.trim();if(!n)return null;let r=[],i=e.createTreeWalker(e.body,NodeFilter.SHOW_TEXT);for(;i.nextNode();){let e=i.currentNode;e.data&&e.data.trim()&&r.push(e)}let a=r.map(e=>e.data).join(``).toLowerCase().indexOf(n.toLowerCase());if(a<0)return null;let o=a+n.length,s=null,c=null,l=0,u=0,d=0;for(let e of r){let t=e.data.length;if(!s&&a<d+t&&(s=e,l=a-d),!c&&o<=d+t){c=e,u=o-d;break}d+=t}if(!s)return null;c||(c=s,u=Math.min(s.data.length,l+n.length));let f=e.createRange();return f.setStart(s,Math.max(0,l)),f.setEnd(c,Math.max(0,u)),f}async function x(e,t){let n=e?.document;if(!n?.body)return;let r=b(n,t);if(r){try{let t=e.cfiFromRange(r);t&&await j.display(t)}catch{}try{(r.startContainer?.parentElement)?.scrollIntoView?.({block:`center`})}catch{}}}async function S(e){let t=u.value.trim();if(re(),a.value=!0,!t){await j.display(e.href);return}f.value={href:e.href,query:t},await j.display(e.href)}let C=null,w={},T=Ht(!1),E=Ht(``),D=Ht(``),O=Ht(null),k=Ht(!1),A=null,j=null,M=null,N=Ea(()=>a.value?`pt-24`:`pt-0`),P=Ea(()=>a.value?`pb-32`:`pb-0`),F={},I=!1;function ee(e){let t=decodeURIComponent(e||``).replace(/^#/,``).trim(),n=t.replace(/^fn-/,``),r=new Set([t,n,`fn-${n}`,t.replace(/_/g,`-`),t.replace(/-/g,`_`),n.replace(/_/g,`-`),n.replace(/-/g,`_`),`fn-${n.replace(/_/g,`-`)}`,`fn-${n.replace(/-/g,`_`)}`]);for(let e of Array.from(r))r.add(e.toLowerCase());return[...r].filter(Boolean)}function L(e){if(e&&typeof e==`object`&&e.nodeType===9)return e;let t=typeof e==`string`?e:String(e??``),n=new DOMParser().parseFromString(t,`application/xhtml+xml`);return n.getElementsByTagName(`parsererror`).length&&(n=new DOMParser().parseFromString(t,`text/html`)),n}function te(e){let t=window.CSS;return t?.escape?t.escape(e):e.replace(/([ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~])/g,`\\$1`)}function R(e,t){return e.getElementById(t)??e.querySelector(`#${te(t)}`)??null}async function ne(){if(I||!A)return;I=!0;let e=new Set;for(let t of A.spine?.items??[])t?.href&&e.add(le(t.href));let t=A?.packaging?.manifest??A?.manifest;if(t&&typeof t==`object`)for(let n of Object.keys(t)){let r=t[n],i=r?.href,a=r?.type||r?.media_type||r?.mediaType;i&&(!a||/x?html/i.test(a))&&e.add(le(i))}for(let t of e){let e;try{e=await Promise.race([A.load(t),new Promise((e,t)=>setTimeout(()=>t(Error(`book.load timeout`)),2500))])}catch{continue}let n=L(e),r=new Set;n.querySelectorAll(`#inline-footnotes [id]`).forEach(e=>r.add(e)),n.querySelectorAll(`.footnote[id]`).forEach(e=>r.add(e)),n.querySelectorAll(`[role="doc-footnote"][id]`).forEach(e=>r.add(e)),n.querySelectorAll(`[epub\\:type~="footnote"][id]`).forEach(e=>r.add(e));for(let e of r){let n=e.getAttribute(`id`)||``;if(!n)continue;let r=e.cloneNode(!0),i=r.querySelector(`.sr-only strong`)?.textContent?.trim()||r.querySelector(`.sr-only`)?.textContent?.trim()||void 0;r.querySelectorAll(`.sr-only`).forEach(e=>e.remove()),r.querySelectorAll(`script, iframe, object, embed`).forEach(e=>e.remove());let a=`<div class="space-y-2 leading-relaxed">${r.innerHTML}</div>`;for(let e of ee(n))F[e]={title:i,html:a,href:t}}}}function z(e,t){E.value=e,D.value=t,T.value=!0}function re(){T.value=!1}function ie(e){let t=e.target?.closest?.(`a`)??null;if(!t)return;let n=t.getAttribute(`href`)||``;if(n){if(fe(n)||Pf(t)){e.preventDefault();let r=O.value||j?.location?.start?.href||o.value?.lastHref||``;B(n,(t.textContent||``).trim(),r);return}/^(https?:|mailto:|tel:)/i.test(n)||(e.preventDefault(),pe(n))}}async function B(e,t,n){let[r,i]=e.split(`#`),a=(r||``).trim(),o=(i||``).trim();if(!o)return;let s=ce(o).replace(/^#/,``);k.value=!0,E.value=`Loading`,D.value=``;try{let{doc:e,hrefUsed:r}=await he(a,null,n);for(let i of ee(s)){let a=R(e,i);if(a){let e=a.cloneNode(!0),i=e.querySelector(`.sr-only strong`)?.textContent?.trim()||e.querySelector(`.sr-only`)?.textContent?.trim()||t||s;e.querySelectorAll(`.sr-only`).forEach(e=>e.remove()),e.querySelectorAll(`script, iframe, object, embed`).forEach(e=>e.remove()),E.value=i,D.value=`<div class="space-y-2 leading-relaxed">${e.innerHTML}</div>`,O.value=r||n;return}}await ne();for(let e of ee(s)){let r=F[e];if(r){E.value=r.title||t||s,D.value=r.html,O.value=r.href||n;return}}let i=s.replace(/^fn-/,``),o=await Ff(i);E.value=t||i,D.value=o?`<pre class="whitespace-pre-wrap">${K(o)}</pre>`:`<p>No definition found.</p>`}finally{k.value=!1}}async function ae(){M&&await fh(n.id,M),r.push(`/`)}function oe(){if(!j)return;let e=t.value.noterefUnderline?`underline`:`none`;j.themes.register(`user`,{body:{background:t.value.bg,color:t.value.fg,"font-family":t.value.font,"line-height":String(t.value.lineHeight),margin:`${t.value.marginEm}em`,"text-align":`${t.value.textAlign} !important`},p:{"text-align":`${t.value.textAlign} !important`},'a.noteref, a[role="doc-noteref"], a[rel~="footnote"], a[epub\\:type~="noteref"]':{color:t.value.noterefColor,"text-decoration":`${e} !important`}}),j.themes.select(`user`),j.themes.fontSize(`${t.value.fontSizePct}%`)}function se(){a.value=!a.value}function ce(e){try{return decodeURIComponent(e)}catch{return e}}function le(e){let t=(e||``).replace(/\\/g,`/`).replace(/\/+/g,`/`).replace(/^\/+/g,``),n=[];for(let e of t.split(`/`))!e||e===`.`||(e===`..`?n.pop():n.push(e));return n.join(`/`)}function de(e,t){let n=(e||``).replace(/\/+/g,`/`).replace(/\/+$/g,``),r=(t||``).replace(/\/+/g,`/`).replace(/^\/+/g,``);return le(n?`${n}/${r}`:r)}function fe(e){return!!e&&e.includes(`#`)&&/#(fn[-_]?|footnote|note|endnote)/i.test(e)}async function V(e){let t=await Tf(),r=t.findIndex(e=>e.id===n.id);if(r<0)return;let i=t[r];i&&(t[r]={...i,...e},await Ef(t),o.value=t[r]??null)}async function H(){if(A){l.value=!0;try{let e=await km(n.id,A);C=e.idx,w=e.hrefText}finally{l.value=!1}}}zr(u,()=>{C&&(d.value=u.value.trim()?Am(C,w,u.value.trim()):[])});async function pe(e){re(),a.value=!0,await j.display(e)}async function me(){let e=await ph(n.id);z(`Reading analytics`,`<p>Total: <b>${Math.round(e.totalSeconds/60)}</b> minutes across <b>${e.totalSessions}</b> sessions.</p>`)}function W(e,t,n){let r=ce(t||``).trim(),i=ce(e||``).trim(),a=le(r),o=le(i),s=o.includes(`/`)?o.slice(0,o.lastIndexOf(`/`)+1):``,c=new Set;a&&c.add(de(s,a)),a&&c.add(a);let l=[];for(let e of n?.spine?.items??[]){let t=e?.href;t&&l.push(le(t))}let u=n?.packaging?.manifest??n?.manifest;if(u&&typeof u==`object`)for(let e of Object.keys(u)){let t=u[e],n=t?.href,r=t?.type||t?.media_type||t?.mediaType;n&&(!r||/x?html/i.test(r))&&l.push(le(n))}let d=a.split(`/`).pop()||a;for(let e of l)e&&(e===a||e.endsWith(`/`+a)||e.endsWith(`/`+d)||e===d)&&c.add(e);return[...c]}async function he(e,t,n){let r=n||j?.location?.start?.href||o.value?.lastHref||``;if(!e)return t?{doc:t,hrefUsed:r}:r?{doc:L(await Promise.race([A.load(r),new Promise((e,t)=>setTimeout(()=>t(Error(`book.load timeout`)),2500))])),hrefUsed:r}:{doc:document.implementation.createHTMLDocument(``),hrefUsed:``};let i=W(r,e,A),a=null;for(let e of i)try{return{doc:L(await Promise.race([A.load(e),new Promise((e,t)=>setTimeout(()=>t(Error(`book.load timeout`)),2500))])),hrefUsed:e}}catch(e){a=e}throw a??Error(`Could not load referenced file`)}async function G(e,t,n){let r=e.getAttribute(`href`)||``,i=(e.textContent||``).trim();if(!r||/^(https?:|mailto:|tel:)/i.test(r))return;let[a,s]=r.split(`#`),c=(a||``).trim(),l=(s||``).trim();if(!l)return;let u=ce(l).replace(/^#/,``);k.value=!0,T.value=!0,E.value=`Loading`,D.value=``,O.value=null;let d=(e,t,n)=>{let r=e.cloneNode(!0),a=t||r.querySelector(`.sr-only strong`)?.textContent?.trim()||r.querySelector(`.sr-only`)?.textContent?.trim()||i||u;r.querySelectorAll(`.sr-only`).forEach(e=>e.remove()),r.querySelectorAll(`script, iframe, object, embed`).forEach(e=>e.remove()),E.value=a,D.value=`<div class="space-y-2 leading-relaxed">${r.innerHTML}</div>`,O.value=n};try{for(let e of ee(u)){let r=R(t,e);if(r){d(r,void 0,n||j?.location?.start?.href||o.value?.lastHref||``);return}}try{let{doc:e,hrefUsed:r}=await he(c,c?null:t,n);for(let t of ee(u)){let i=R(e,t);if(i){d(i,void 0,r||n);return}}}catch{}await ne();for(let e of ee(u)){let t=F[e];if(t){E.value=t.title||i||u,D.value=t.html,O.value=t.href||n;return}}let e=u.replace(/^fn-/,``),r=await Ff(e);E.value=i||e,D.value=r?`<pre class="whitespace-pre-wrap">${K(r)}</pre>`:`<p>No definition found.</p>`}finally{k.value=!1}}function K(e){return e.replace(/[&<>"']/g,e=>({"&":`&amp;`,"<":`&lt;`,">":`&gt;`,'"':`&quot;`,"'":`&#39;`})[e])}async function ge(e){try{let t=mh((await A.getRange(e))?.toString());if(!t)return;let n=await J(),r=zf({profile:s.value,selectedText:t,title:o.value?.title||`Untitled`,author:o.value?.author,chapter:n});z(`Selection`,`
          <p class="opacity-70">${K(t)}</p>
          <div class="mt-3 flex flex-wrap gap-2">
            <button id="btn-quote" class="btn btn-primary btn-sm">Copy quote</button>
            <button id="btn-define" class="btn btn-outline btn-sm">Define first word</button>
          </div>
        `),setTimeout(()=>{let e=document.getElementById(`btn-quote`),n=document.getElementById(`btn-define`);e?.addEventListener(`click`,async()=>{await navigator.clipboard.writeText(r),z(`Copied`,`<p>Quote copied with citation.</p>`)}),n?.addEventListener(`click`,async()=>{let e=t.split(/\s+/)[0]||``,n=await Ff(e);z(`Define: ${K(e)}`,n?`<pre class="whitespace-pre-wrap">${K(n)}</pre>`:`<p>No definition found.</p>`)})},0)}catch{}}async function J(){try{let e=j?.location?.start?.href;return(A?.navigation?.toc??[]).find(t=>t.href&&e&&t.href.split(`#`)[0]===e.split(`#`)[0])?.label??void 0}catch{return}}async function _e(){let e=(await Tf()).find(e=>e.id===n.id)||null;if(o.value=e,!e){r.push(`/`);return}let l=await Of(n.id);if(!l){r.push(`/`);return}A=cf(await l.arrayBuffer()),await A.ready,m.value=A.navigation?.toc??[],A.spine.hooks.serialize.register(e=>e.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,``));let u=await A.loaded.metadata,d=mh(u?.title)||e.title,p=mh(u?.creator)||e.author||``,h=``;try{let e=A.spine.items?.[0]?.href,t=await A.load(e);h=(new DOMParser().parseFromString(String(t),`text/html`).body?.textContent||``).slice(0,6e3)}catch{}s.value=If(d,p,h),await V({title:d,author:p,profile:s.value}),j=A.renderTo(i.value,{width:`100%`,height:`100%`,spread:`none`,manager:`continuous`,flow:`scrolled-doc`}),j.on(`rendered`,async(e,t)=>{let n=f.value;if(!n)return;let r=(e?.href||``).split(`#`)[0],i=(n.href||``).split(`#`)[0];!r||r!==i||(f.value=null,await x(t,n.query))}),j.hooks.content.register(e=>{let n=e.document;n.querySelectorAll(`script`).forEach(e=>e.remove());try{e.addStylesheetRules({"#inline-footnotes":{display:`none !important`},".sr-only":{display:`none !important`}})}catch{}n.addEventListener(`click`,async r=>{let i=r.target?.closest?.(`a`);if(i){if(i&&Pf(i)){r.preventDefault(),r.stopPropagation(),await G(i,n,e?.section?.href||j?.location?.start?.href||o.value?.lastHref||``);return}if(t.value.studyMode&&!i){let e=n.getSelection?.();if(e&&e.toString().trim())return;let t=Date.now();if(t-c<250)return;c=t,a.value=!a.value,r.preventDefault(),r.stopPropagation()}}},!0)}),j.on(`selected`,e=>ge(e)),j.on(`relocated`,async e=>{let t=e?.start?.cfi,n=e?.start?.href,r=e?.start?.percentage;await V({lastCfi:t,lastHref:n,lastProgress:r})}),await j.display(e.lastCfi||void 0),oe(),M=(await dh(n.id)).id,await H()}return zr(()=>t.value.studyMode,e=>{e?a.value=!1:a.value=!0}),zr(t,async()=>{await jf(n.id,t.value),oe()},{deep:!0}),Jn(async()=>{window.addEventListener(`keydown`,y),t.value=await Af(n.id).catch(()=>Sf),await _e()}),Zn(async()=>{window.removeEventListener(`keydown`,y);try{j&&j.destroy()}catch{}try{A&&A.destroy?.()}catch{}if(j=null,A=null,M)try{await fh(n.id,M)}catch{}}),(e,n)=>(Ii(),Vi(`div`,hh,[a.value?(Ii(),Vi(`div`,gh,[Z(`div`,_h,[Z(`div`,vh,[Z(`button`,{class:`btn btn-ghost btn-sm`,onClick:ae},` Library`),Z(`div`,yh,q(o.value?.title),1)]),Z(`div`,{class:`flex-none gap-2`},[Z(`button`,{class:`btn btn-sm`,onClick:g},`TOC`),Z(`button`,{class:`btn btn-sm btn-outline`,onClick:me},`Stats`)])]),Z(`div`,bh,[On(Z(`input`,{class:`input input-bordered w-full`,placeholder:`Search in book`,"onUpdate:modelValue":n[0]||=e=>u.value=e},null,512),[[vo,u.value]]),l.value?(Ii(),Vi(`div`,xh,`Indexing first time can take a bit.`)):Qi(``,!0),d.value.length?(Ii(),Vi(`div`,Sh,[(Ii(!0),Vi(Ai,null,cr(d.value,e=>(Ii(),Vi(`div`,{key:e.href,class:`p-2 hover:bg-base-200 cursor-pointer`,onClick:t=>S(e)},[Z(`div`,wh,q(e.href),1),Z(`div`,Th,q(e.snippet),1)],8,Ch))),128))])):Qi(``,!0)])])):Qi(``,!0),Z(`div`,{class:U([[N.value,P.value],`h-full`]),onClick:se},[Z(`div`,{ref_key:`viewer`,ref:i,class:`h-full w-full`},null,512)],2),a.value?(Ii(),Vi(`div`,{key:1,class:`fixed bottom-0 left-0 right-0 z-30 bg-base-200/95 backdrop-blur border-t border-base-300`,onClick:n[10]||=Do(()=>{},[`stop`])},[Z(`div`,Eh,[Z(`label`,Dh,[n[12]||=Z(`div`,{class:`label`},[Z(`span`,{class:`label-text`},`Font size`)],-1),On(Z(`input`,{type:`range`,min:`80`,max:`180`,step:`5`,"onUpdate:modelValue":n[1]||=e=>t.value.fontSizePct=e,class:`range range-sm`},null,512),[[vo,t.value.fontSizePct,void 0,{number:!0}]])]),Z(`label`,Oh,[n[13]||=Z(`div`,{class:`label`},[Z(`span`,{class:`label-text`},`Line height`)],-1),On(Z(`input`,{type:`range`,min:`1.2`,max:`2.2`,step:`0.05`,"onUpdate:modelValue":n[2]||=e=>t.value.lineHeight=e,class:`range range-sm`},null,512),[[vo,t.value.lineHeight,void 0,{number:!0}]])]),Z(`label`,kh,[n[14]||=Z(`div`,{class:`label`},[Z(`span`,{class:`label-text`},`Background`)],-1),On(Z(`input`,{type:`color`,"onUpdate:modelValue":n[3]||=e=>t.value.bg=e,class:`input input-bordered h-10 p-1`},null,512),[[vo,t.value.bg]])]),Z(`label`,Ah,[n[15]||=Z(`div`,{class:`label`},[Z(`span`,{class:`label-text`},`Text`)],-1),On(Z(`input`,{type:`color`,"onUpdate:modelValue":n[4]||=e=>t.value.fg=e,class:`input input-bordered h-10 p-1`},null,512),[[vo,t.value.fg]])]),Z(`label`,jh,[n[17]||=Z(`div`,{class:`label`},[Z(`span`,{class:`label-text`},`Font`)],-1),On(Z(`select`,{class:`select select-bordered`,"onUpdate:modelValue":n[5]||=e=>t.value.font=e},[...n[16]||=[Z(`option`,{value:`ui-serif, Georgia, "Times New Roman", Times, serif`},`Serif`,-1),Z(`option`,{value:`ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif`},`Sans`,-1),Z(`option`,{value:`ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace`},`Mono`,-1)]],512),[[xo,t.value.font]])]),Z(`label`,Mh,[n[19]||=Z(`div`,{class:`label`},[Z(`span`,{class:`label-text`},`Alignment`)],-1),On(Z(`select`,{class:`select select-bordered`,"onUpdate:modelValue":n[6]||=e=>t.value.textAlign=e},[...n[18]||=[Z(`option`,{value:`left`},`Left`,-1),Z(`option`,{value:`justify`},`Justify`,-1),Z(`option`,{value:`center`},`Center`,-1),Z(`option`,{value:`right`},`Right`,-1)]],512),[[xo,t.value.textAlign]])]),Z(`label`,Nh,[Z(`label`,Ph,[n[20]||=Z(`div`,{class:`label`},[Z(`span`,{class:`label-text`},`Glossary link color`)],-1),On(Z(`input`,{type:`color`,"onUpdate:modelValue":n[7]||=e=>t.value.noterefColor=e,class:`input input-bordered h-10 p-1`},null,512),[[vo,t.value.noterefColor]])]),Z(`label`,Fh,[n[22]||=Z(`div`,{class:`label`},[Z(`span`,{class:`label-text`},`Underline glossary links`)],-1),Z(`label`,Ih,[On(Z(`input`,{type:`checkbox`,class:`toggle`,"onUpdate:modelValue":n[8]||=e=>t.value.noterefUnderline=e},null,512),[[yo,t.value.noterefUnderline]]),n[21]||=Z(`span`,{class:`text-sm opacity-70`},`Toggle`,-1)])]),n[24]||=Z(`div`,{class:`label`},[Z(`span`,{class:`label-text`},`Study mode`)],-1),Z(`label`,Lh,[On(Z(`input`,{type:`checkbox`,class:`toggle`,"onUpdate:modelValue":n[9]||=e=>t.value.studyMode=e},null,512),[[yo,t.value.studyMode]]),n[23]||=Z(`span`,{class:`text-sm opacity-70`},`Hide UI (tap screen to show/hide)`,-1)])])])])):Qi(``,!0),a.value?Qi(``,!0):(Ii(),Vi(`button`,{key:2,class:`fixed z-50 btn btn-sm opacity-80 hover:opacity-100`,style:{top:`calc(env(safe-area-inset-top) + 0.75rem)`,right:`0.75rem`},onClick:n[11]||=e=>a.value=!0,"aria-label":`Show controls`},` Show controls `)),p.value?(Ii(),Vi(`div`,Rh,[Z(`div`,zh,[Z(`div`,{class:`flex items-center justify-between gap-3`},[n[25]||=Z(`h3`,{class:`font-bold text-lg`},`Table of contents`,-1),Z(`button`,{class:`btn btn-sm`,onClick:_},`Close`)]),Z(`div`,Bh,[(Ii(!0),Vi(Ai,null,cr(h.value,(e,t)=>(Ii(),Vi(`button`,{key:t,class:`btn btn-ghost btn-sm w-full justify-start text-left`,style:ue({paddingLeft:`${e.depth*.75}rem`}),onClick:t=>v(e)},q(e.label),13,Vh))),128))])]),Z(`div`,{class:`modal-backdrop`,onClick:_})])):Qi(``,!0),qi(pf,{open:T.value,title:E.value,onClose:re},{default:Dn(()=>[k.value?(Ii(),Vi(`div`,Hh,`Loading`)):(Ii(),Vi(`div`,{key:1,class:`space-y-2`,onClick:ie,innerHTML:D.value},null,8,Uh))]),_:1},8,[`open`,`title`])]))}}),Gh={class:`fixed inset-0 bg-base-100 flex items-center justify-center p-6`},Kh={class:`max-w-md w-full`},qh={class:`card bg-base-200 shadow-xl`},Jh={class:`card-body`},Yh={class:`text-xl font-semibold`},Xh={class:`opacity-80 mt-2`},Zh={class:`mt-6 flex items-center justify-between`},Qh={class:`mt-4 flex gap-2 justify-center`},$h=Pn({__name:`Onboarding`,emits:[`done`],setup(e,{emit:t}){let n=t,r=[{title:`Import any EPUB`,text:`Add books from your device. Everything stays local.`},{title:`Tap for pop-ups`,text:`Footnotes/glossary open as a popup. Fallback dictionary is available too.`},{title:`Search + Study Mode`,text:`Full-text search, themes, fonts, and a distraction-free study mode.`},{title:`Read aloud + Analytics`,text:`Text-to-speech and reading stats per book.`}],i=Ht(0),a=Ea(()=>i.value===r.length-1);function o(){a.value?n(`done`):i.value+=1}return(e,t)=>(Ii(),Vi(`div`,Gh,[Z(`div`,Kh,[Z(`div`,qh,[Z(`div`,Jh,[Z(`div`,Yh,q(r[i.value]?.title),1),Z(`div`,Xh,q(r[i.value]?.text),1),Z(`div`,Zh,[Z(`button`,{class:`btn btn-ghost`,onClick:t[0]||=e=>n(`done`)},`Skip`),Z(`button`,{class:`btn btn-primary`,onClick:t[1]||=e=>o()},q(a.value?`Start reading`:`Next`),1)]),Z(`div`,Qh,[(Ii(),Vi(Ai,null,cr(r,(e,t)=>Z(`div`,{key:e.title,class:U([`w-2 h-2 rounded-full`,t===i.value?`bg-primary`:`bg-base-300`])},null,2)),64))])])]),t[2]||=Z(`div`,{class:`text-xs opacity-60 mt-3 text-center`},` Tip: Install from your browser menu for an app-like experience. `,-1)])]))}}),eg={class:`min-h-full bg-base-100`},tg={class:`navbar bg-base-200 shadow-sm`},ng={class:`flex-none`},rg={class:`btn btn-primary btn-sm`},ig={class:`p-4 max-w-4xl mx-auto`},ag={key:0,class:`opacity-70`},og={class:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`},sg={class:`card-body`},cg={class:`font-semibold truncate`},lg={class:`text-xs opacity-60`},ug={class:`card-actions justify-end mt-3`},dg=[`onClick`],fg=[`onClick`],pg={class:`text-sm space-y-2`},mg=Pn({__name:`Home`,setup(e){let t=Ht(!1),n=Ea(()=>new Date(`2025-12-24T03:54:32.033Z`).toLocaleString()),r=Uc(),i=Ht([]),a=Ht(!1);Jn(async()=>{i.value=await Tf(),a.value=!await Cf()});async function o(e){let t=e.target,n=t.files?.[0];if(!n)return;let a=crypto.randomUUID?.()??`${Date.now()}-${Math.random()}`,o={id:a,title:n.name.replace(/\.epub$/i,``),addedAt:Date.now()};await Df(a,n),i.value=[o,...i.value],await Ef(i.value),t.value=``,r.push(`/read/${encodeURIComponent(a)}`)}async function s(e){r.push(`/read/${encodeURIComponent(e)}`)}async function c(e){await kf(e),i.value=await Tf()}async function l(){await wf(),a.value=!1}return(e,r)=>(Ii(),Vi(`div`,eg,[Z(`div`,tg,[r[4]||=Z(`div`,{class:`flex-1 px-2 text-lg font-semibold`},`Ebook Reader Ansari Publications`,-1),Z(`div`,ng,[Z(`label`,rg,[r[2]||=Zi(` Import EPUB `,-1),Z(`input`,{type:`file`,accept:`.epub`,class:`hidden`,onChange:o},null,32)]),Z(`button`,{class:`btn btn-ghost btn-sm`,onClick:r[0]||=e=>t.value=!0,"aria-label":`About`},[...r[3]||=[Z(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`},[Z(`circle`,{cx:`12`,cy:`12`,r:`9`}),Z(`path`,{d:`M12 10v7`}),Z(`path`,{d:`M12 7h.01`})],-1)]])])]),Z(`div`,ig,[i.value.length===0?(Ii(),Vi(`div`,ag,` Import an EPUB to start. `)):Qi(``,!0),Z(`div`,og,[(Ii(!0),Vi(Ai,null,cr(i.value,e=>(Ii(),Vi(`div`,{key:e.id,class:`card bg-base-200 shadow`},[Z(`div`,sg,[Z(`div`,cg,q(e.title),1),Z(`div`,lg,q(new Date(e.addedAt).toLocaleString()),1),Z(`div`,ug,[Z(`button`,{class:`btn btn-ghost btn-sm`,onClick:t=>c(e.id)},`Remove`,8,dg),Z(`button`,{class:`btn btn-primary btn-sm`,onClick:t=>s(e.id)},`Open`,8,fg)])])]))),128))])]),a.value?(Ii(),Hi($h,{key:0,onDone:l})):Qi(``,!0),qi(pf,{open:t.value,title:`About ERAP`,onClose:r[1]||=e=>t.value=!1},{default:Dn(()=>[Z(`div`,pg,[Z(`div`,null,[r[5]||=Z(`span`,{class:`font-semibold`},`Version:`,-1),Zi(` `+q(Kt(`0.01`)),1)]),Z(`div`,null,[r[6]||=Z(`span`,{class:`font-semibold`},`Built:`,-1),Zi(` `+q(n.value),1)])])]),_:1},8,[`open`])]))}}),hg=Hc({history:sc(`/erap/`),routes:[{path:`/`,component:mg},{path:`/read/:id`,component:Wh,props:!0}]}),gg=`true`,_g=`false`,vg=gg===`true`,yg=_g===`true`;function bg(e={}){let{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=e,s,c,l,u=async(e=!0)=>{await c,vg||l?.()};async function d(){if(`serviceWorker`in navigator){if(s=await Uf(async()=>{let{Workbox:e}=await import(`./workbox-window.prod.es5-Bqbp5FHn.js`);return{Workbox:e}},[]).then(({Workbox:e})=>new e(`/erap/sw.js`,{scope:`/erap/`,type:`classic`})).catch(e=>{o?.(e)}),!s)return;if(l=()=>{s?.messageSkipWaiting()},!yg)if(vg)s.addEventListener(`activated`,e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),s.addEventListener(`installed`,e=>{e.isUpdate||r?.()});else{let e=!1,t=()=>{e=!0,s?.addEventListener(`controlling`,e=>{e.isUpdate&&window.location.reload()}),n?.()};s.addEventListener(`installed`,n=>{n.isUpdate===void 0?n.isExternal===void 0?!e&&r?.():n.isExternal?t():!e&&r?.():n.isUpdate||r?.()}),s.addEventListener(`waiting`,t)}s.register({immediate:t}).then(e=>{a?a(`/erap/sw.js`,e):i?.(e)}).catch(e=>{o?.(e)})}}return c=d(),u}jo(Lo).use(hg).mount(`#app`);var xg=bg({immediate:!0,onNeedRefresh(){xg(!0)}});export{Wf as t};