import{A as e,O as t,b as n,h as r,i,n as a,r as o,v as s,w as c,x as l,z as u}from"./vendor-BQYTT8JO.js";var d={class:`card bg-base-100 shadow-xl w-full sm:max-w-xl max-h-[80vh] overflow-auto`},f={class:`card-body`},p={class:`flex items-center justify-between gap-3`},m={class:`font-semibold truncate`},h=c({__name:`Modal`,props:{open:{type:Boolean},title:{}},emits:[`close`],setup(i){return(a,o)=>i.open?(t(),l(`div`,{key:0,class:`fixed inset-0 z-50 bg-black/40 flex items-end sm:items-center justify-center p-3`,onClick:o[1]||=r(e=>a.$emit(`close`),[`self`])},[s(`div`,d,[s(`div`,f,[s(`div`,p,[s(`div`,m,u(i.title),1),s(`button`,{class:`btn btn-ghost btn-sm`,onClick:o[0]||=e=>a.$emit(`close`)},`Close`)]),o[2]||=s(`div`,{class:`divider my-2`},null,-1),e(a.$slots,`default`)])])])):n(``,!0)}}),g={meta:`meta:v1`,ui:`ui:v2`,books:`books:v1`,bookFile:e=>`bf:${e}`,prefs:e=>`prefs:${e}`,sessions:e=>`sess:${e}`,search:e=>`search:${e}`};const _={bg:`#ffffff`,fg:`#111827`,font:`ui-serif, Georgia, "Times New Roman", Times, serif`,fontSizePct:110,lineHeight:1.55,marginEm:1.2,studyMode:!1,textAlign:`justify`,noterefColor:`#2563eb`,noterefUnderline:!0,realBookFeel:!1,readAloud:!1,ttsRate:1,ttsVoiceURI:``};async function v(){return await o(g.ui)??{}}async function y(e){let t=await o(g.ui)??{};await i(g.ui,{...t,...e})}async function b(){return!!(await o(g.meta)??{}).onboarded}async function x(){let e=await o(g.meta)??{};e.onboarded=!0,await i(g.meta,e)}async function S(){return await o(g.books)??[]}async function C(e){let t=e.map(e=>({...e}));await i(g.books,t)}async function w(e,t){await i(g.bookFile(e),t)}async function T(e){return await o(g.bookFile(e))??null}async function E(e){await C((await S()).filter(t=>t.id!==e)),await a(g.bookFile(e)),await a(g.prefs(e)),await a(g.sessions(e)),await a(g.search(e))}async function D(e){let t=await o(g.prefs(e));return{..._,...t??{}}}async function O(e,t){let n={...t};await i(g.prefs(e),n)}async function k(e){return await o(g.search(e))??null}async function A(e,t){await i(g.search(e),t)}function j(e,t,n){return(e||``).trim().replace(/\s+/g,` `).toLowerCase()===`the quran`?`quran`:`default`}function M(e,t){let n=(t.title||``).trim().replace(/\s+/g,` `).replace(/[.]\s*$/,``),r=(t.section??t.chapter)?.trim(),i=t.verseHint?` (${t.verseHint})`:``;return e===`quran`?`${t.author?`Translated by ${t.author}`:`Translation`}. ${n}${r?`. ${r}`:``}${i}.`.replace(/\s+/g,` `).trim():`${t.author?`${t.author}. `:``}${n}${r?`. ${r}`:``}${i}.`.replace(/\s+/g,` `).trim()}export{h as _,b as a,D as c,w as d,C as f,x as g,y as h,E as i,k as l,A as m,j as n,T as o,O as p,_ as r,S as s,M as t,v as u};